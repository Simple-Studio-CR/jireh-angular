"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[230],{230:(xm,uo,K)=>{K.r(uo),K.d(uo,{ReportsModule:()=>mm});var lt=K(6814),Xe=K(2787),$h=K(3365),co=K(8325),Jh=K(241),V=K(6223),po=K(4756),Qh=K(3660),eu=K(3519),Zt=K.n(eu),l=K(5879),hi=K(5903),tu=K(1647),iu=K(1365);let ru=(()=>{var a;class i{constructor(t,r){this.authHttpService=t,this.router=r,this.cliente=sessionStorage.getItem("clientName")}ngOnInit(){sessionStorage.removeItem("fecha"),sessionStorage.getItem("clientName")||(Zt().fire({text:"Se debe seleccionar primero un cliente",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-primary"}}),this.router.navigate(["/clients"]))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(hi.U),l.Y36(Xe.F0))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-buy"]],decls:43,vars:6,consts:[[1,"card"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"--kt-primary"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1",3,"inlineSVG"],[1,"form-control","form-control-solid","w-250px","ps-13"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top",1,"btn","btn-sm","btn-primary",3,"title"],[1,"fa","fa-users-cog"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Generar Reporte",1,"btn","btn-sm","btn-info"],[1,"fa","fa-print"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Editar Cliente",1,"btn","btn-sm","btn-danger"],[1,"fa","fa-edit"],["type","button","routerLink","/dashboard","data-bs-toggle","tooltip","data-bs-placement","top","title","Atras",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-arrow-left-long"],[1,"card-body"],[1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"table-responsive"],[1,"row","g-5","g-xl-8"],[1,"col-xl-3"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/incidencias-plaga-mensual","title","Incidencias de Plagas Encontradas",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/puntos-mejora","title","Observaciones y mejoras",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/lamparas-capturas-mes","title","L\xe1mparas UV. Capturas por mes",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/historial-capturas-lamparas","title","L\xe1mparas UV Historial Capturas",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/trampas-gomosas","title","Incidencia en Trampas Internas",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/reports/historial-capturas-trampas","title","Cebaderos Historial Capturas",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/buys/view","title","Insecticidas Aplicados",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/general/gen035.svg","color","success","iconColor","white","description","","routerLink","/buys/view","title","Mapeo de Trampas",1,"card","bg-success","hoverable","card-xl-stretch","mb-xl-8"],["svgIcon","assets/media/icons/duotune/arrows/arr079.svg","color","success","iconColor","white","routerLink","/dashboard","description","",1,"card","bg-dark","hoverable","card-xl-stretch","mb-5","mb-xl-8",3,"title"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4," Programa Manejo Integrado de Plagas Para "),l.qZA(),l._UZ(5,"br"),l.qZA(),l.TgZ(6,"div",4)(7,"div",5)(8,"i",6),l._UZ(9,"span",7),l.qZA(),l.TgZ(10,"label",8),l._uU(11),l.qZA()(),l.TgZ(12,"button",9),l._UZ(13,"i",10),l.qZA(),l.TgZ(14,"button",11),l._UZ(15,"i",12),l.qZA(),l.TgZ(16,"button",13),l._UZ(17,"i",14),l.qZA(),l.TgZ(18,"button",15),l._UZ(19,"i",16),l.qZA()()(),l.TgZ(20,"div",17)(21,"div",18)(22,"div",19)(23,"div",20)(24,"div",21),l._UZ(25,"app-stats-widget5",22),l.qZA(),l.TgZ(26,"div",21),l._UZ(27,"app-stats-widget5",23),l.qZA(),l.TgZ(28,"div",21),l._UZ(29,"app-stats-widget5",24),l.qZA(),l.TgZ(30,"div",21),l._UZ(31,"app-stats-widget5",25),l.qZA(),l.TgZ(32,"div",21),l._UZ(33,"app-stats-widget5",26),l.qZA(),l.TgZ(34,"div",21),l._UZ(35,"app-stats-widget5",27),l.qZA(),l.TgZ(36,"div",21),l._UZ(37,"app-stats-widget5",28),l.qZA(),l.TgZ(38,"div",21),l._UZ(39,"app-stats-widget5",29),l.qZA(),l.TgZ(40,"div",21),l._UZ(41,"app-stats-widget5",30),l.ALo(42,"translate"),l.qZA()()()()()()),2&t&&(l.xp6(9),l.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen022.svg"),l.xp6(2),l.hij(" ",r.cliente,""),l.xp6(1),l.MGl("title","Editar Usuarios con acceso a la empresa ",r.cliente,""),l.xp6(29),l.s9C("title",l.lcZ(42,4,"BUYS.ICONS.BACK")))},dependencies:[Xe.rH,tu.T,co.d$,iu.X$]}),i})(),ui=(()=>{var a;class i{constructor(){}fechaActual(){let t=new Date,r=t.getDate()+1;r<10&&(r="0"+r);let n=t.getMonth()+1;return n<10&&(n="0"+n),t.getFullYear()+"-"+n+"-"+r}primerDiaMes(){let t=new Date,r=t.getMonth()+1;return r<10&&(r="0"+r),t.getFullYear()+"-"+r+"-01"}ultimoDiaMes(){let t=new Date,r=t.getMonth()+1;return r<10&&(r="0"+r),1==r||3==r||5==r||7==r||8==r||10==r||12==r?t.getFullYear()+"-"+r+"-31":2==r||4==r||6==r||9==r||11==r?t.getFullYear()+"-"+r+"-30":void 0}mesActual(){return(new Date).getMonth()+1}anioActual(){return(new Date).getFullYear()}}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();var Qi=K(103),Kt=K(2495),er=K(6028),Ze=K(3680),Ht=K(8645),hn=K(3019),H=K(6825);const au=["mat-sort-header",""];function nu(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"div",3),l.NdJ("@arrowPosition.start",function(){l.CHM(e);const r=l.oxw();return l.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){l.CHM(e);const r=l.oxw();return l.KtG(r._disableViewStateAnimation=!1)}),l._UZ(1,"div",4),l.TgZ(2,"div",5),l._UZ(3,"div",6)(4,"div",7)(5,"div",8),l.qZA()()}if(2&a){const e=l.oxw();l.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),l.xp6(2),l.Q6J("@indicator",e._getArrowDirectionState()),l.xp6(1),l.Q6J("@leftPointer",e._getArrowDirectionState()),l.xp6(1),l.Q6J("@rightPointer",e._getArrowDirectionState())}}const su=["*"],fo=new l.OlP("MAT_SORT_DEFAULT_OPTIONS"),ou=(0,Ze.dB)((0,Ze.Id)(class{}));let Oi=(()=>{var a;class i extends ou{get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=(0,Kt.Ig)(t)}constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new Ht.x,this.start="asc",this._direction="",this.sortChange=new l.vpe}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let n=function lu(a,i){let e=["asc","desc"];return"desc"==a&&e.reverse(),i||e.push(""),e}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=n.indexOf(this.direction)+1;return s>=n.length&&(s=0),n[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(fo,8))},a.\u0275dir=l.lG2({type:a,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[l.qOj,l.TTD]}),i})();const $t=Ze.mZ.ENTERING+" "+Ze.yN.STANDARD_CURVE,ki={indicator:(0,H.X$)("indicator",[(0,H.SB)("active-asc, asc",(0,H.oB)({transform:"translateY(0px)"})),(0,H.SB)("active-desc, desc",(0,H.oB)({transform:"translateY(10px)"})),(0,H.eR)("active-asc <=> active-desc",(0,H.jt)($t))]),leftPointer:(0,H.X$)("leftPointer",[(0,H.SB)("active-asc, asc",(0,H.oB)({transform:"rotate(-45deg)"})),(0,H.SB)("active-desc, desc",(0,H.oB)({transform:"rotate(45deg)"})),(0,H.eR)("active-asc <=> active-desc",(0,H.jt)($t))]),rightPointer:(0,H.X$)("rightPointer",[(0,H.SB)("active-asc, asc",(0,H.oB)({transform:"rotate(45deg)"})),(0,H.SB)("active-desc, desc",(0,H.oB)({transform:"rotate(-45deg)"})),(0,H.eR)("active-asc <=> active-desc",(0,H.jt)($t))]),arrowOpacity:(0,H.X$)("arrowOpacity",[(0,H.SB)("desc-to-active, asc-to-active, active",(0,H.oB)({opacity:1})),(0,H.SB)("desc-to-hint, asc-to-hint, hint",(0,H.oB)({opacity:.54})),(0,H.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,H.oB)({opacity:0})),(0,H.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,H.jt)("0ms")),(0,H.eR)("* <=> *",(0,H.jt)($t))]),arrowPosition:(0,H.X$)("arrowPosition",[(0,H.eR)("* => desc-to-hint, * => desc-to-active",(0,H.jt)($t,(0,H.F4)([(0,H.oB)({transform:"translateY(-25%)"}),(0,H.oB)({transform:"translateY(0)"})]))),(0,H.eR)("* => hint-to-desc, * => active-to-desc",(0,H.jt)($t,(0,H.F4)([(0,H.oB)({transform:"translateY(0)"}),(0,H.oB)({transform:"translateY(25%)"})]))),(0,H.eR)("* => asc-to-hint, * => asc-to-active",(0,H.jt)($t,(0,H.F4)([(0,H.oB)({transform:"translateY(25%)"}),(0,H.oB)({transform:"translateY(0)"})]))),(0,H.eR)("* => hint-to-asc, * => active-to-asc",(0,H.jt)($t,(0,H.F4)([(0,H.oB)({transform:"translateY(0)"}),(0,H.oB)({transform:"translateY(-25%)"})]))),(0,H.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,H.oB)({transform:"translateY(0)"})),(0,H.SB)("hint-to-desc, active-to-desc, desc",(0,H.oB)({transform:"translateY(-25%)"})),(0,H.SB)("hint-to-asc, active-to-asc, asc",(0,H.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,H.X$)("allowChildren",[(0,H.eR)("* <=> *",[(0,H.IO)("@*",(0,H.pV)(),{optional:!0})])])};let Rr=(()=>{var a;class i{constructor(){this.changes=new Ht.x}}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();const uu={provide:Rr,deps:[[new l.FiY,new l.tp0,Rr]],useFactory:function hu(a){return a||new Rr}},cu=(0,Ze.Id)(class{});let go=(()=>{var a;class i extends cu{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=(0,Kt.Ig)(t)}constructor(t,r,n,s,o,h,u,c){super(),this._intl=t,this._changeDetectorRef=r,this._sort=n,this._columnDef=s,this._focusMonitor=o,this._elementRef=h,this._ariaDescriber=u,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",c?.arrowPosition&&(this.arrowPosition=c?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===er.L_||t.keyCode===er.K5)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,hn.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Rr),l.Y36(l.sBO),l.Y36(Oi,8),l.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),l.Y36(Qi.tE),l.Y36(l.SBq),l.Y36(Qi.$s,8),l.Y36(fo,8))},a.\u0275cmp=l.Xpm({type:a,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r._handleClick()})("keydown",function(s){return r._handleKeydown(s)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(l.uIk("aria-sort",r._getAriaSortAttribute()),l.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[l.qOj],attrs:au,ngContentSelectors:su,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,nu,6,6,"div",2),l.qZA()),2&t&&(l.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),l.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),l.xp6(3),l.Q6J("ngIf",r._renderArrow()))},dependencies:[lt.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ki.indicator,ki.leftPointer,ki.rightPointer,ki.arrowOpacity,ki.arrowPosition,ki.allowChildren]},changeDetection:0}),i})(),du=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({providers:[uu],imports:[lt.ez,Ze.BQ]}),i})();var pu=K(9388),pt=K(8337),tr=K(2831),un=K(9829),fu=K(7715),Er=K(5619),gu=K(2664),Lr=K(2096),at=K(9773),mo=K(8180);const mu=[[["caption"]],[["colgroup"],["col"]]],vu=["caption","colgroup, col"];function cn(a){return class extends a{get sticky(){return this._sticky}set sticky(i){const e=this._sticky;this._sticky=(0,Kt.Ig)(i),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}}}const Mi=new l.OlP("CDK_TABLE");let Ii=(()=>{var a;class i{constructor(t){this.template=t}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkCellDef",""]]}),i})(),Fi=(()=>{var a;class i{constructor(t){this.template=t}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkHeaderCellDef",""]]}),i})(),jr=(()=>{var a;class i{constructor(t){this.template=t}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkFooterCellDef",""]]}),i})();class xu{}const Cu=cn(xu);let Yt=(()=>{var a;class i extends Cu{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=(0,Kt.Ig)(t),this._hasStickyChanged=r!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Mi,8))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,n){if(1&t&&(l.Suo(n,Ii,5),l.Suo(n,Fi,5),l.Suo(n,jr,5)),2&t){let s;l.iGM(s=l.CRH())&&(r.cell=s.first),l.iGM(s=l.CRH())&&(r.headerCell=s.first),l.iGM(s=l.CRH())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:a}]),l.qOj]}),i})();class dn{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}}let pn=(()=>{var a;class i extends dn{constructor(t,r){super(t,r)}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Yt),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),i})(),vo=(()=>{var a;class i extends dn{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const n=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Yt),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[l.qOj]}),i})(),fn=(()=>{var a;class i extends dn{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const n=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===n||"treegrid"===n?"gridcell":"cell")}}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Yt),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),i})();class yo{constructor(){this.tasks=[],this.endTasks=[]}}const gn=new l.OlP("_COALESCED_STYLE_SCHEDULER");let bo=(()=>{var a;class i{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ht.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new yo,this._getScheduleObservable().pipe((0,at.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new yo;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,fu.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,mo.q)(1))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(l.R0b))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac}),i})(),mn=(()=>{var a;class i{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ir?t.headerCell.template:this instanceof rr?t.footerCell.template:t.cell.template}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},a.\u0275dir=l.lG2({type:a,features:[l.TTD]}),i})();class wu extends mn{}const Pu=cn(wu);let ir=(()=>{var a;class i extends Pu{constructor(t,r,n){super(t,r),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Mi,8))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),i})();class Du extends mn{}const Su=cn(Du);let rr=(()=>{var a;class i extends Su{constructor(t,r,n){super(t,r),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Mi,8))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),i})(),Nr=(()=>{var a;class i extends mn{constructor(t,r,n){super(t,r),this._table=n}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Mi,8))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),i})(),Ut=(()=>{var a;class i{constructor(t){this._viewContainer=t,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return(a=i).mostRecentCellOutlet=null,a.\u0275fac=function(t){return new(t||a)(l.Y36(l.s_b))},a.\u0275dir=l.lG2({type:a,selectors:[["","cdkCellOutlet",""]]}),i})(),vn=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),yn=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),bn=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),Br=(()=>{var a;class i{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Rgc))},a.\u0275dir=l.lG2({type:a,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const _o=["top","bottom","left","right"];class Tu{constructor(i,e,t,r,n=!0,s=!0,o){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=r,this._isBrowser=n,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){const t=[];for(const r of i)if(r.nodeType===r.ELEMENT_NODE){t.push(r);for(let n=0;n<r.children.length;n++)t.push(r.children[n])}this._coalescedStyleScheduler.schedule(()=>{for(const r of t)this._removeStickyStyle(r,e)})}updateStickyColumns(i,e,t,r=!0){if(!i.length||!this._isBrowser||!e.some(p=>p)&&!t.some(p=>p))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const n=i[0],s=n.children.length,o=this._getCellWidths(n,r),h=this._getStickyStartColumnPositions(o,e),u=this._getStickyEndColumnPositions(o,t),c=e.lastIndexOf(!0),d=t.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const p="rtl"===this.direction,f=p?"right":"left",g=p?"left":"right";for(const m of i)for(let v=0;v<s;v++){const b=m.children[v];e[v]&&this._addStickyStyle(b,f,h[v],v===c),t[v]&&this._addStickyStyle(b,g,u[v],v===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((m,v)=>e[v]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:o.slice(d).map((m,v)=>t[v+d]?m:null).reverse()}))})}stickRows(i,e,t){if(!this._isBrowser)return;const r="bottom"===t?i.slice().reverse():i,n="bottom"===t?e.slice().reverse():e,s=[],o=[],h=[];for(let c=0,d=0;c<r.length;c++){if(!n[c])continue;s[c]=d;const p=r[c];h[c]=this._isNativeHtmlTable?Array.from(p.children):[p];const f=p.getBoundingClientRect().height;d+=f,o[c]=f}const u=n.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let c=0;c<r.length;c++){if(!n[c])continue;const d=s[c],p=c===u;for(const f of h[c])this._addStickyStyle(f,t,d,p)}"top"===t?this._positionListener?.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:h})})}updateStickyFooterContainer(i,e){if(!this._isNativeHtmlTable)return;const t=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1)})}_removeStickyStyle(i,e){for(const r of e)i.style[r]="",i.classList.remove(this._borderCellCss[r]);_o.some(r=>-1===e.indexOf(r)&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,t,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${t}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const e={top:100,bottom:10,left:1,right:1};let t=0;for(const r of _o)i.style[r]&&(t+=e[r]);return t?`${t}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const t=[],r=i.children;for(let n=0;n<r.length;n++)t.push(r[n].getBoundingClientRect().width);return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(i,e){const t=[];let r=0;for(let n=0;n<i.length;n++)e[n]&&(t[n]=r,r+=i[n]);return t}_getStickyEndColumnPositions(i,e){const t=[];let r=0;for(let n=i.length;n>0;n--)e[n]&&(t[n]=r,r+=i[n]);return t}}const _n=new l.OlP("CDK_SPL");let Zr=(()=>{var a;class i{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.s_b),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["","rowOutlet",""]]}),i})(),Hr=(()=>{var a;class i{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.s_b),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["","headerRowOutlet",""]]}),i})(),Yr=(()=>{var a;class i{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.s_b),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["","footerRowOutlet",""]]}),i})(),Ur=(()=>{var a;class i{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.s_b),l.Y36(l.SBq))},a.\u0275dir=l.lG2({type:a,selectors:[["","noDataRowOutlet",""]]}),i})(),Wr=(()=>{var a;class i{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=(0,Kt.Ig)(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=(0,Kt.Ig)(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,n,s,o,h,u,c,d,p,f,g){this._differs=t,this._changeDetectorRef=r,this._elementRef=n,this._dir=o,this._platform=u,this._viewRepeater=c,this._coalescedStyleScheduler=d,this._viewportRuler=p,this._stickyPositioningListener=f,this._ngZone=g,this._onDestroy=new Ht.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Er.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe((0,at.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,pt.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(n,s,o)=>this._getEmbeddedViewArgs(n.item,o),n=>n.item.data,n=>{1===n.operation&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(n=>{r.get(n.currentIndex).context.$implicit=n.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,mo.q)(1),(0,at.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._elementRef.nativeElement.querySelector("thead");n&&(n.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),n=this._elementRef.nativeElement.querySelector("tfoot");n&&(n.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===s&&o.push(r[h]);this._addStickyColumnStyles(o,s)}),n.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let s=this._data[n];const o=this._getRenderRowsForData(s,n,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<o.length;h++){let u=o[h];const c=this._cachedRenderRowsMap.get(u.data);c.has(u.rowDef)?c.get(u.rowDef).push(u):c.set(u.rowDef,[u]),t.push(u)}}return t}_getRenderRowsForData(t,r,n){return this._getRowDefs(t,r).map(o=>{const h=n&&n.has(o)?n.get(o):[];if(h.length){const u=h.shift();return u.dataIndex=r,u}return{data:t,rowDef:o,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),zr(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=zr(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=zr(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=zr(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,h)=>o||!!h.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),r||n||s}_switchDataSource(t){this._data=[],(0,pt.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;(0,pt.Z9)(this.dataSource)?t=this.dataSource.connect(this):(0,gu.b)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,Lr.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,at.R)(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const n=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),s=n.map(h=>h.sticky),o=n.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let n=0;n<t.viewContainer.length;n++){const s=t.viewContainer.get(n);r.push(s.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(s=>!s.when||s.when(r,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(r,t))||this._defaultRowDef;s&&n.push(s)}return n}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,n,s={}){const o=t.viewContainer.createEmbeddedView(r.template,s,n);return this._renderCellTemplateForItem(r,s),o}_renderCellTemplateForItem(t,r){for(let n of this._getCellTemplates(t))Ut.mostRecentCellOutlet&&Ut.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,n=t.length;r<n;r++){const o=t.get(r).context;o.count=n,o.first=0===r,o.last=r===n-1,o.even=r%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[r].dataIndex,o.renderIndex=r):o.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const n=this._columnDefsByName.get(r);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of r){const s=this._document.createElement(n.tag);s.setAttribute("role","rowgroup");for(const o of n.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,n)=>r||n.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Tu(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Lr.of)()).pipe((0,at.R)(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const n=this._noDataRowOutlet.viewContainer;if(r){const s=n.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else n.clear();this._isShowingNoDataRow=r}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(pu.Is,8),l.Y36(lt.K0),l.Y36(tr.t4),l.Y36(pt.k),l.Y36(gn),l.Y36(un.rL),l.Y36(_n,12),l.Y36(l.R0b,8))},a.\u0275cmp=l.Xpm({type:a,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,n){if(1&t&&(l.Suo(n,Br,5),l.Suo(n,Yt,5),l.Suo(n,Nr,5),l.Suo(n,ir,5),l.Suo(n,rr,5)),2&t){let s;l.iGM(s=l.CRH())&&(r._noDataRow=s.first),l.iGM(s=l.CRH())&&(r._contentColumnDefs=s),l.iGM(s=l.CRH())&&(r._contentRowDefs=s),l.iGM(s=l.CRH())&&(r._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(r._contentFooterRowDefs=s)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Zr,7),l.Gf(Hr,7),l.Gf(Yr,7),l.Gf(Ur,7)),2&t){let n;l.iGM(n=l.CRH())&&(r._rowOutlet=n.first),l.iGM(n=l.CRH())&&(r._headerRowOutlet=n.first),l.iGM(n=l.CRH())&&(r._footerRowOutlet=n.first),l.iGM(n=l.CRH())&&(r._noDataRowOutlet=n.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:Mi,useExisting:a},{provide:pt.k,useClass:pt.yy},{provide:gn,useClass:bo},{provide:_n,useValue:null}])],ngContentSelectors:vu,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(mu),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Zr,Hr,Yr,Ur],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),i})();function zr(a,i){return a.concat(Array.from(i))}let Ou=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({imports:[un.Cl]}),i})();var xn=K(2572),Cn=K(7398);const ku=[[["caption"]],[["colgroup"],["col"]]],Mu=["caption","colgroup, col"];let wn=(()=>{var a;class i extends Wr{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275cmp=l.Xpm({type:a,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Wr,useExisting:a},{provide:Mi,useExisting:a},{provide:gn,useClass:bo},{provide:pt.k,useClass:pt.yy},{provide:_n,useValue:null}]),l.qOj],ngContentSelectors:Mu,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(ku),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Zr,Hr,Yr,Ur],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),i})(),Gr=(()=>{var a;class i extends Ii{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Ii,useExisting:a}]),l.qOj]}),i})(),Xr=(()=>{var a;class i extends Fi{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Fi,useExisting:a}]),l.qOj]}),i})(),Co=(()=>{var a;class i extends jr{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matFooterCellDef",""]],features:[l._Bn([{provide:jr,useExisting:a}]),l.qOj]}),i})(),qr=(()=>{var a;class i extends Yt{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Yt,useExisting:a},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:a}]),l.qOj]}),i})(),Kr=(()=>{var a;class i extends pn{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),i})(),wo=(()=>{var a;class i extends vo{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[l.qOj]}),i})(),$r=(()=>{var a;class i extends fn{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),i})(),Pn=(()=>{var a;class i extends ir{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:ir,useExisting:a}]),l.qOj]}),i})(),Po=(()=>{var a;class i extends rr{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[l._Bn([{provide:rr,useExisting:a}]),l.qOj]}),i})(),Dn=(()=>{var a;class i extends Nr{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275dir=l.lG2({type:a,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:Nr,useExisting:a}]),l.qOj]}),i})(),Sn=(()=>{var a;class i extends vn{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275cmp=l.Xpm({type:a,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:vn,useExisting:a}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),Do=(()=>{var a;class i extends yn{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275cmp=l.Xpm({type:a,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[l._Bn([{provide:yn,useExisting:a}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),Tn=(()=>{var a;class i extends bn{}return(a=i).\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(a)))(r||a)}}(),a.\u0275cmp=l.Xpm({type:a,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:bn,useExisting:a}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ut],encapsulation:2}),i})(),Ru=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({imports:[Ze.BQ,Ou,Ze.BQ]}),i})();class Lu extends pt.o2{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new Er.X([]),this._filter=new Er.X(""),this._internalPageChanges=new Ht.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{const r=e[t];if((0,Kt.t6)(r)){const n=Number(r);return n<9007199254740991?n:r}return r},this.sortData=(e,t)=>{const r=t.active,n=t.direction;return r&&""!=n?e.sort((s,o)=>{let h=this.sortingDataAccessor(s,r),u=this.sortingDataAccessor(o,r);const c=typeof h,d=typeof u;c!==d&&("number"===c&&(h+=""),"number"===d&&(u+=""));let p=0;return null!=h&&null!=u?h>u?p=1:h<u&&(p=-1):null!=h?p=1:null!=u&&(p=-1),p*("asc"==n?1:-1)}):e},this.filterPredicate=(e,t)=>{const r=Object.keys(e).reduce((s,o)=>s+e[o]+"\u25ec","").toLowerCase(),n=t.trim().toLowerCase();return-1!=r.indexOf(n)},this._data=new Er.X(i),this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?(0,hn.T)(this._sort.sortChange,this._sort.initialized):(0,Lr.of)(null),e=this._paginator?(0,hn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Lr.of)(null),r=(0,xn.a)([this._data,this._filter]).pipe((0,Cn.U)(([o])=>this._filterData(o))),n=(0,xn.a)([r,i]).pipe((0,Cn.U)(([o])=>this._orderData(o))),s=(0,xn.a)([n,e]).pipe((0,Cn.U)(([o])=>this._pageData(o)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(o=>this._renderData.next(o))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,t);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class An extends Lu{}var oe=K(8504),le=K(6306),Jt=K(9862),So=K(3595),Qt=K(288);let ju=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/incidencia-mensual/save/",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}update(t){return this.http.put(this.variables.getServicingEndpoint()+"/incidencia-mensual/edit/",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findByDateRange(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/incidencia-mensual/get-by-date-range/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}findByDate(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/incidencia-mensual/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findByYear(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/incidencia-mensual/get-by-year/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(So.e8),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})(),On=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}getPestType(){return this.http.get(this.variables.getServicingEndpoint()+"/extras/get-pest",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}getCalificaciones(t){return this.http.get(this.variables.getServicingEndpoint()+"/extras/get-calificaciones/"+t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}getRecommendations(){return this.http.get(this.variables.getServiceEndpoint()+"/extras/get-recommendation",{}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}findRecommendationsByType(t){return this.http.get(this.variables.getServiceEndpoint()+"/extras/get-recommendation-type/"+t,{}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findRecommendationsById(t){return this.http.get(this.variables.getServiceEndpoint()+"/extras/get-recommendation/"+t,{}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}saveRecommendations(t){return this.http.post(this.variables.getServiceEndpoint()+"/extras/save-recommendations",t,{}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}savePestType(t){return this.http.post(this.variables.getServiceEndpoint()+"/extras/save-pest",t,{}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(So.e8),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();var ci=K(2405);let Vi=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}findByBranchId(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/clients/warehouse/branch/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/clients/warehouse/",t,{}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}edit(t,r){return this.http.put(this.variables.getServicingEndpoint()+"/clients/edit-warehouse/"+r,t,{}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();function Nu(a,i){if(1&a&&(l.TgZ(0,"option",55),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Bu(a,i){if(1&a&&(l.TgZ(0,"option",55),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Zu(a,i){if(1&a&&(l.TgZ(0,"option",55),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Hu(a,i){if(1&a&&(l.TgZ(0,"option",55),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.calificaciones)}}function Yu(a,i){if(1&a&&(l.TgZ(0,"option",55),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Uu(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Bodega"),l.qZA())}function Wu(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.warehouse.name)}}function zu(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Fecha"),l.qZA())}function Gu(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.createAt)}}function Xu(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Plaga"),l.qZA())}function qu(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.pestType.name)}}function Ku(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Cuantificacion"),l.qZA())}function $u(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.cuantificacion)}}function Ju(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Calificacion"),l.qZA())}function Qu(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.calificacion.calificaciones)}}function ec(a,i){1&a&&(l.TgZ(0,"mat-header-cell",56),l._uU(1,"Observaciones"),l.qZA())}function tc(a,i){if(1&a&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.Oqu(e.observaciones)}}function ic(a,i){1&a&&(l.TgZ(0,"mat-header-cell",57),l._uU(1,"Acciones"),l.qZA())}function rc(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"mat-cell")(1,"button",58),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.openDialog(n))}),l._UZ(2,"i",59),l.qZA(),l.TgZ(3,"button",60),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.delete(n))}),l._UZ(4,"i",61),l.qZA()()}}function ac(a,i){1&a&&l._UZ(0,"mat-header-row")}function nc(a,i){1&a&&l._UZ(0,"mat-row")}let sc=(()=>{var a;class i{constructor(t,r,n,s,o,h){this.service=t,this.pestTypeService=r,this.branchService=n,this.wareHouseService=s,this.cd=o,this._liveAnnouncer=h,this.functions=new ui,this.displayedColumns=["warehouse","createAt","pestType","cuantificacion","calificacion","observaciones","acciones"]}ngAfterViewInit(){this.dataSource&&(this.dataSource.sort=this.sort)}ngOnInit(){this.findBranches(),this.iniciarForms(),this.findPestType()}guardar(){this.service.save(this.inicidenciasForm.value).subscribe(t=>{Zt().fire({title:`Incidencia guardada  ${t.pestType.name}`,text:"La incidencia se ha guardado correctamente",icon:"success"}),this.resetForm(),this.cd.detectChanges()})}resetForm(){const t=this.inicidenciasForm.controls;t.pestType.setValue(""),t.cuantificacion.setValue(""),t.calificacion.setValue(""),t.observaciones.setValue("")}iniciarForms(){this.form=new V.cw({branch:new V.NI(""),month:new V.NI("")}),this.inicidenciasForm=new V.cw({branchOffice:new V.NI(""),createAt:new V.NI(""),warehouse:new V.NI(""),pestType:new V.NI(""),cuantificacion:new V.NI(""),calificacion:new V.NI(""),observaciones:new V.NI("")})}cargarDatos(){let t=this.form.get("month")?.value,r=this.form.get("branch")?.value;this.incidenciasNueva=[],0==t&&this.service.findByYear(r.id,this.functions.anioActual()).subscribe(n=>{this.incidenciasNueva=n,this.dataSource=new An(this.incidenciasNueva),this.dataSource.sort=this.sort,this.cd.detectChanges()}),0!=t&&this.service.findByDate(r.id,t).subscribe(n=>{this.incidenciasNueva=n,this.dataSource=new An(this.incidenciasNueva),this.dataSource.sort=this.sort,this.cd.detectChanges()})}findBranches(){this.clientId=sessionStorage.getItem("clientId"),this.branchService.findByClientId(Number.parseInt(this.clientId),1,200).subscribe(t=>{this.branches=t.content,this.cd.detectChanges(),this.inicidenciasForm.controls.branchOffice.valueChanges.subscribe(r=>{this.wareHouseService.findByBranchId(Number.parseInt(r.id),1,200).subscribe(n=>{this.warehouse=n.content,this.cd.detectChanges()})})})}findPestType(){this.pestTypeService.getPestType().subscribe(t=>{this.pestType=t,this.cd.detectChanges(),this.inicidenciasForm.controls.pestType.valueChanges.subscribe(r=>{this.pestTypeService.getCalificaciones(r.id).subscribe(n=>{this.calificaciones=n,this.cd.detectChanges()})})})}openDialog(t){}delete(t){}announceSortChange(t){t.direction?(this._liveAnnouncer.announce(`Sorted ${t.direction}ending`),this.cd.detectChanges()):this._liveAnnouncer.announce("Sorting cleared")}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(ju),l.Y36(On),l.Y36(ci.I),l.Y36(Vi),l.Y36(l.sBO),l.Y36(Qi.Kd))},a.\u0275cmp=l.Xpm({type:a,selectors:[["incidencias-plagas-mensuales-component"]],viewQuery:function(t,r){if(1&t&&l.Gf(Oi,5),2&t){let n;l.iGM(n=l.CRH())&&(r.sort=n.first)}},decls:142,vars:23,consts:[[1,"card"],[1,"card-header","border-0","pt-5","pb-5"],[1,"anchor","fw-bold","mb-5"],["id","inicidenciasForm",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-6"],["for","clientBranch",1,"form-label"],["formControlName","branchOffice","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","warehouse",1,"form-label"],["formControlName","warehouse","id","warehouse",1,"form-select"],[1,"col-md-3","pt-2"],[1,"form-label"],["formControlName","createAt","type","date",1,"form-control"],[1,"col-md-3"],["formControlName","pestType",1,"form-select"],["for","cuantificacion",1,"form-label"],["formControlName","cuantificacion","id","cuantificacion",1,"form-select"],["for","calificacion",1,"form-label"],["formControlName","calificacion","id","calificacion",1,"form-select"],[1,"col-md-8"],["for","observaciones",1,"form-label"],["formControlName","observaciones","id","observaciones","placeholder","Ingrese",1,"form-control"],[1,"col-md-2","pt-6"],[1,"btn","btn-success","margin-left",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-save"],["routerLink","/reports",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"separator","my-10"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],[1,"col-md-4"],["formControlName","month","id","month",1,"form-select"],[1,"bold",3,"value"],[3,"value"],["formControlName","branch","id","branch",1,"form-select"],["type","submit","value","Buscar",1,"button","btn","btn-info",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","warehouse"],["mat-sort-header","","class","fw-semibold fs-4 text-gray-800 min-w-200px",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","createAt"],["matColumnDef","pestType"],["matColumnDef","cuantificacion"],["matColumnDef","calificacion"],["matColumnDef","observaciones"],["matColumnDef","acciones"],["class","fw-semibold fs-4 text-gray-800 min-w-200px",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"ngValue"],["mat-sort-header","",1,"fw-semibold","fs-4","text-gray-800","min-w-200px"],[1,"fw-semibold","fs-4","text-gray-800","min-w-200px"],[1,"btn","btn-icon","btn-bg-light","btn-primary","btn-sm","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-icon","btn-bg-light","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Ingresar Nueva Incidencias de Plagas Mensual"),l.qZA(),l.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),l._uU(8,"Sucursal"),l.qZA(),l.TgZ(9,"select",7)(10,"option"),l._uU(11,"Seleccione Sucursal"),l.qZA(),l.YNc(12,Nu,2,2,"option",8),l.qZA()(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Bodega"),l.qZA(),l.TgZ(16,"select",10)(17,"option"),l._uU(18,"Seleccione Bodega/Oficina"),l.qZA(),l.YNc(19,Bu,2,2,"option",8),l.qZA()(),l.TgZ(20,"div",11)(21,"label",12),l._uU(22,"Fecha"),l.qZA(),l._UZ(23,"input",13),l.qZA(),l.TgZ(24,"div",14)(25,"label",12),l._uU(26,"Plaga encontrada"),l.qZA(),l.TgZ(27,"select",15)(28,"option"),l._uU(29,"Seleccione Plaga"),l.qZA(),l.YNc(30,Zu,2,2,"option",8),l.qZA()(),l.TgZ(31,"div",14)(32,"label",16),l._uU(33,"Cuantificacion"),l.qZA(),l.TgZ(34,"select",17)(35,"option"),l._uU(36,"Seleccione Cantidad"),l.qZA(),l.TgZ(37,"option"),l._uU(38,"Nulo"),l.qZA(),l.TgZ(39,"option"),l._uU(40,"Bajo"),l.qZA(),l.TgZ(41,"option"),l._uU(42,"Medio"),l.qZA(),l.TgZ(43,"option"),l._uU(44,"Alto"),l.qZA()()(),l.TgZ(45,"div",14)(46,"label",18),l._uU(47,"Calificacion"),l.qZA(),l.TgZ(48,"select",19)(49,"option"),l._uU(50,"Seleccione Calificacion"),l.qZA(),l.YNc(51,Hu,2,2,"option",8),l.qZA()(),l.TgZ(52,"div",20)(53,"label",21),l._uU(54,"Observaciones"),l.qZA(),l._UZ(55,"textarea",22),l.qZA(),l.TgZ(56,"div",23)(57,"button",24),l.NdJ("click",function(){return r.guardar()}),l._UZ(58,"i",25),l._uU(59," Guardar "),l.qZA()(),l.TgZ(60,"div",23)(61,"button",26),l._UZ(62,"i",27),l._uU(63," Volver "),l.qZA()()()()(),l._UZ(64,"div",28),l.TgZ(65,"div",29)(66,"div",30)(67,"div",31)(68,"div",32)(69,"div",33)(70,"h1",2),l._uU(71,"Registro de Incidencias de Plagas Mensual"),l.qZA(),l._UZ(72,"div"),l.qZA(),l.TgZ(73,"div",34)(74,"form",35)(75,"div",4)(76,"div",36)(77,"label",12),l._uU(78,"Mes"),l.qZA(),l.TgZ(79,"select",37)(80,"option"),l._uU(81,"Seleccione Mes"),l.qZA(),l.TgZ(82,"option",38),l._uU(83,"Todos"),l.qZA(),l.TgZ(84,"option",39),l._uU(85,"Enero"),l.qZA(),l.TgZ(86,"option",39),l._uU(87,"Febrero"),l.qZA(),l.TgZ(88,"option",39),l._uU(89,"Marzo"),l.qZA(),l.TgZ(90,"option",39),l._uU(91,"Abril"),l.qZA(),l.TgZ(92,"option",39),l._uU(93,"Mayo"),l.qZA(),l.TgZ(94,"option",39),l._uU(95,"Junio"),l.qZA(),l.TgZ(96,"option",39),l._uU(97,"Julio"),l.qZA(),l.TgZ(98,"option",39),l._uU(99,"Agosto"),l.qZA(),l.TgZ(100,"option",39),l._uU(101,"Setiembre"),l.qZA(),l.TgZ(102,"option",39),l._uU(103,"Octubre"),l.qZA(),l.TgZ(104,"option",39),l._uU(105,"Noviembre"),l.qZA(),l.TgZ(106,"option",39),l._uU(107,"Diciembre"),l.qZA()()(),l.TgZ(108,"div",36)(109,"label",12),l._uU(110,"Seleccione Sucursal"),l.qZA(),l.TgZ(111,"select",40)(112,"option"),l._uU(113,"Seleccione Sucursal"),l.qZA(),l.YNc(114,Yu,2,2,"option",8),l.qZA()(),l.TgZ(115,"div",36),l._UZ(116,"br"),l.TgZ(117,"input",41),l.NdJ("click",function(){return r.cargarDatos()}),l.qZA()()()()()(),l.TgZ(118,"table",42),l.NdJ("matSortChange",function(s){return r.announceSortChange(s)}),l.ynx(119,43),l.YNc(120,Uu,2,0,"mat-header-cell",44),l.YNc(121,Wu,2,1,"mat-cell",45),l.BQk(),l.ynx(122,46),l.YNc(123,zu,2,0,"mat-header-cell",44),l.YNc(124,Gu,2,1,"mat-cell",45),l.BQk(),l.ynx(125,47),l.YNc(126,Xu,2,0,"mat-header-cell",44),l.YNc(127,qu,2,1,"mat-cell",45),l.BQk(),l.ynx(128,48),l.YNc(129,Ku,2,0,"mat-header-cell",44),l.YNc(130,$u,2,1,"mat-cell",45),l.BQk(),l.ynx(131,49),l.YNc(132,Ju,2,0,"mat-header-cell",44),l.YNc(133,Qu,2,1,"mat-cell",45),l.BQk(),l.ynx(134,50),l.YNc(135,ec,2,0,"mat-header-cell",44),l.YNc(136,tc,2,1,"mat-cell",45),l.BQk(),l.ynx(137,51),l.YNc(138,ic,2,0,"mat-header-cell",52),l.YNc(139,rc,5,0,"mat-cell",45),l.BQk(),l.YNc(140,ac,1,0,"mat-header-row",53),l.YNc(141,nc,1,0,"mat-row",54),l.qZA()()()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.inicidenciasForm),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(7),l.Q6J("ngForOf",r.warehouse),l.xp6(11),l.Q6J("ngForOf",r.pestType),l.xp6(21),l.Q6J("ngForOf",r.calificaciones),l.xp6(23),l.Q6J("formGroup",r.form),l.xp6(8),l.Q6J("value",0),l.xp6(2),l.Q6J("value",1),l.xp6(2),l.Q6J("value",2),l.xp6(2),l.Q6J("value",3),l.xp6(2),l.Q6J("value",4),l.xp6(2),l.Q6J("value",5),l.xp6(2),l.Q6J("value",6),l.xp6(2),l.Q6J("value",7),l.xp6(2),l.Q6J("value",8),l.xp6(2),l.Q6J("value",9),l.xp6(2),l.Q6J("value",10),l.xp6(2),l.Q6J("value",11),l.xp6(2),l.Q6J("value",12),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(4),l.Q6J("dataSource",r.dataSource),l.xp6(22),l.Q6J("matHeaderRowDef",r.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[lt.sg,Xe.rH,V._Y,V.YN,V.Kr,V.Fj,V.EJ,V.JJ,V.JL,V.sg,V.u,Oi,go,wn,Xr,Pn,qr,Gr,Dn,Kr,$r,Sn,Tn],styles:["table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]}),i})();var To=K(3651),oc=K(8484),lc=K(2296),Jr=(K(7394),K(4170));let hc=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({}),i})(),Ao=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({imports:[Ze.BQ,Jr.lN,Jr.lN,hc,Ze.BQ]}),i})(),pc=(()=>{var a;class i{constructor(){this.changes=new Ht.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,r){return`${t} \u2013 ${r}`}formatYearRangeLabel(t,r){return`${t} to ${r}`}}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();const wc={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[To.aV],useFactory:function Cc(a){return()=>a.scrollStrategies.reposition()}};let kc=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({providers:[pc,wc],imports:[lt.ez,lc.ot,To.U8,Qi.rt,oc.eL,Ze.BQ,un.ZD]}),i})();var Mc=K(8525);let Ic=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/info-plagas/save",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findByDateRange(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/info-plagas/get-by-date-range/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}findByDate(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/info-plagas/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findAll(){return this.http.get(this.variables.getServicingEndpoint()+"/info-plagas/get-all",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();function Fc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Vc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Rc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Ec(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.calificaciones)}}function Lc(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td")(14,"button",42),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.editar(n))}),l._UZ(15,"i",43),l.qZA(),l.TgZ(16,"button",44),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.eliminar(n))}),l._UZ(17,"i",45),l.qZA()()()}if(2&a){const e=i.$implicit;l.xp6(2),l.Oqu(e.warehouse.name),l.xp6(2),l.Oqu(e.pestType.name),l.xp6(2),l.Oqu(e.clasificacion.calificaciones),l.xp6(2),l.Oqu(e.comportamiento),l.xp6(2),l.Oqu(e.cicloDesarrollo),l.xp6(2),l.Oqu(e.promedioVida)}}let jc=(()=>{var a;class i{constructor(t,r,n,s,o){this.service=t,this.pestTypeService=r,this.branchService=n,this.wareHouseService=s,this.cd=o,this.functions=new ui}ngOnInit(){this.findBranches(),this.iniciarForms(),this.cargarDatos(),this._setFechaHoy()}guardar(){this.service.save(this.infoPlagas.value).subscribe(t=>{})}iniciarForms(){this.form=new V.cw({}),this.infoPlagas=new V.cw({branchOffice:new V.NI(""),createAt:new V.NI(""),warehouse:new V.NI(""),pestType:new V.NI(""),clasificacion:new V.NI(""),comportamiento:new V.NI(""),cicloDesarrollo:new V.NI(""),promedioVida:new V.NI("")})}cargarDatos(){let t=new Date,r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.service.findByDate(Number.parseInt(this.clientId=sessionStorage.getItem("clientId")),r).subscribe(n=>{this.infoNueva=n,this.cd.detectChanges()}),this.range=new V.cw({start:new V.NI(null),end:new V.NI(null)}),this.range.valueChanges.subscribe(n=>{null==n.end&&this.service.findByDate(Number.parseInt(this.clientId=sessionStorage.getItem("clientId")),n.start).subscribe(s=>{this.infoNueva=s,this.cd.detectChanges()}),null!=n.end&&null!=n.start&&this.service.findByDateRange(Number.parseInt(this.clientId=sessionStorage.getItem("clientId")),n.start,n.end).subscribe(s=>{this.infoNueva=s,this.cd.detectChanges()})})}_setFechaHoy(){this.form.get("createAt")?.setValue(this.functions.fechaActual()),this.range.get("start")?.setValue(this.functions.primerDiaMes()),this.range.get("end")?.setValue(this.functions.ultimoDiaMes()),this.service.findByDateRange(Number.parseInt(this.clientId=sessionStorage.getItem("clientId")),this.functions.primerDiaMes(),this.functions.ultimoDiaMes()).subscribe(t=>{this.infoNueva=t,this.cd.detectChanges()})}findBranches(){this.clientId=sessionStorage.getItem("clientId"),this.branchService.findByClientId(Number.parseInt(this.clientId),1,200).subscribe(t=>{this.branches=t.content,this.cd.detectChanges(),this.infoPlagas.controls.branchOffice.valueChanges.subscribe(r=>{this.wareHouseService.findByBranchId(Number.parseInt(r.id),1,200).subscribe(n=>{this.warehouse=n.content,this.cd.detectChanges()})})}),this.pestTypeService.getPestType().subscribe(t=>{this.pestType=t,this.cd.detectChanges(),this.infoPlagas.controls.pestType.valueChanges.subscribe(r=>{this.pestTypeService.getCalificaciones(r.id).subscribe(n=>{this.calificaciones=n,this.cd.detectChanges()})})})}editar(t){}eliminar(t){}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Ic),l.Y36(On),l.Y36(ci.I),l.Y36(Vi),l.Y36(l.sBO))},a.\u0275cmp=l.Xpm({type:a,selectors:[["info-plaga-component"]],decls:98,vars:7,consts:[[1,"card"],[1,"card-header","border-0","pt-5","pb-5"],[1,"anchor","fw-bold","mb-5"],["id","infoPlagas",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-6"],["for","clientBranch",1,"form-label"],["formControlName","branchOffice","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","warehouse",1,"form-label"],["formControlName","warehouse","id","warehouse",1,"form-select"],[1,"form-label"],["formControlName","pestType",1,"form-select"],["for","clasificacion",1,"form-label"],["formControlName","clasificacion","id","clasificacion",1,"form-select"],["for","comportamiento",1,"form-label"],["formControlName","comportamiento","id","comportamiento","placeholder","Ingrese",1,"form-control"],["for","cicloDesarrollo",1,"form-label"],["formControlName","cicloDesarrollo","id","cicloDesarrollo","placeholder","Ingrese",1,"form-control"],[1,"col-md-3","pt-2"],["formControlName","promedioVida","type","text",1,"form-control"],["formControlName","createAt","type","date",1,"form-control"],[1,"col-md-2","pt-6"],[1,"btn","btn-success","margin-left",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-save"],["routerLink","/reports",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"separator","my-10"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],["formControlName","start","type","date",1,"form-control"],["formControlName","end","type","date",1,"form-control"],[1,"table","table-striped","table-rounded","border","border-gray-300","table-row-bordered","table-row-gray-300","gy-7","gs-7"],[1,"fw-semibold","fs-4","text-gray-800"],[1,"min-w-200px"],[4,"ngFor","ngForOf"],[3,"ngValue"],[1,"btn","btn-icon","btn-bg-light","btn-primary","btn-sm","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-icon","btn-bg-light","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Ingresar Nueva Incidencias de Plagas Mensual"),l.qZA(),l.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),l._uU(8,"Sucursal"),l.qZA(),l.TgZ(9,"select",7)(10,"option"),l._uU(11,"Seleccione Sucursal"),l.qZA(),l.YNc(12,Fc,2,2,"option",8),l.qZA()(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Bodega"),l.qZA(),l.TgZ(16,"select",10)(17,"option"),l._uU(18,"Seleccione Bodega/Oficina"),l.qZA(),l.YNc(19,Vc,2,2,"option",8),l.qZA()(),l.TgZ(20,"div",5)(21,"label",11),l._uU(22,"Nombre Plaga"),l.qZA(),l.TgZ(23,"select",12)(24,"option"),l._uU(25,"Seleccione Plaga"),l.qZA(),l.YNc(26,Rc,2,2,"option",8),l.qZA()(),l.TgZ(27,"div",5)(28,"label",13),l._uU(29,"Calificacion"),l.qZA(),l.TgZ(30,"select",14)(31,"option"),l._uU(32,"Seleccione Calificacion"),l.qZA(),l.YNc(33,Ec,2,2,"option",8),l.qZA()(),l.TgZ(34,"div",5)(35,"label",15),l._uU(36,"Comportamiento"),l.qZA(),l._UZ(37,"textarea",16),l.qZA(),l.TgZ(38,"div",5)(39,"label",17),l._uU(40,"Ciclo de Desarrollo"),l.qZA(),l._UZ(41,"textarea",18),l.qZA(),l.TgZ(42,"div",19)(43,"label",11),l._uU(44,"Promedio de Vida"),l.qZA(),l._UZ(45,"input",20),l.qZA(),l.TgZ(46,"div",19)(47,"label",11),l._uU(48,"Fecha"),l.qZA(),l._UZ(49,"input",21),l.qZA(),l.TgZ(50,"div",22)(51,"button",23),l.NdJ("click",function(){return r.guardar()}),l._UZ(52,"i",24),l._uU(53," Guardar "),l.qZA()(),l.TgZ(54,"div",22)(55,"button",25),l._UZ(56,"i",26),l._uU(57," Volver "),l.qZA()()()()(),l._UZ(58,"div",27),l.TgZ(59,"div",28)(60,"div",29)(61,"div",30)(62,"div",31)(63,"div",32)(64,"h1",2),l._uU(65,"Registro de Incidencias de Plagas Mensual"),l.qZA()(),l.TgZ(66,"div",33)(67,"form",34)(68,"div",4)(69,"div",5)(70,"label",11),l._uU(71,"De:"),l.qZA(),l._UZ(72,"input",35),l.qZA(),l.TgZ(73,"div",5)(74,"label",11),l._uU(75,"Para:"),l.qZA(),l._UZ(76,"input",36),l.qZA()()()()(),l.TgZ(77,"table",37)(78,"thead")(79,"tr",38)(80,"th",39),l._uU(81,"Bodega"),l.qZA(),l.TgZ(82,"th",39),l._uU(83,"Nombre"),l.qZA(),l.TgZ(84,"th",39),l._uU(85,"Clacificaci\xf3n"),l.qZA(),l.TgZ(86,"th",39),l._uU(87,"Comportamiento"),l.qZA(),l.TgZ(88,"th",39),l._uU(89,"Cliclo de Desarrollo"),l.qZA(),l.TgZ(90,"th",39),l._uU(91,"Promedio Vida Adulto"),l.qZA(),l.TgZ(92,"th",39),l._uU(93,"Imagen"),l.qZA(),l.TgZ(94,"th",39),l._uU(95,"Acciones"),l.qZA()()(),l.TgZ(96,"tbody"),l.YNc(97,Lc,18,6,"tr",40),l.qZA()()()()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.infoPlagas),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(7),l.Q6J("ngForOf",r.warehouse),l.xp6(7),l.Q6J("ngForOf",r.pestType),l.xp6(7),l.Q6J("ngForOf",r.calificaciones),l.xp6(34),l.Q6J("formGroup",r.range),l.xp6(30),l.Q6J("ngForOf",r.infoNueva))},dependencies:[lt.sg,Xe.rH,V._Y,V.YN,V.Kr,V.Fj,V.EJ,V.JJ,V.JL,V.sg,V.u]}),i})(),Nc=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/puntos-de-mejora/save",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findByDateRange(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/puntos-de-mejora/get-by-date-range/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}findByDate(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/puntos-de-mejora/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findAll(){return this.http.get(this.variables.getServicingEndpoint()+"/puntos-de-mejora/get-all",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}findByYear(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/puntos-de-mejora/get-by-year/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();function Bc(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Zc(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Hc(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Yc(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._UZ(12,"img",43),l.qZA(),l.TgZ(13,"td")(14,"button",44),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.editar(n))}),l._UZ(15,"i",45),l.qZA(),l.TgZ(16,"button",46),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.eliminar(n))}),l._UZ(17,"i",47),l.qZA()()()}if(2&a){const e=i.$implicit;l.xp6(2),l.Oqu(e.warehouse.name),l.xp6(2),l.Oqu(e.createAt),l.xp6(2),l.Oqu(e.puntosDeMejora),l.xp6(2),l.Oqu(e.observaciones),l.xp6(2),l.Oqu(e.otrasLabores)}}let Uc=(()=>{var a;class i{constructor(t,r,n,s){this.service=t,this.branchService=r,this.wareHouseService=n,this.cd=s,this.functions=new ui}ngOnInit(){this.findBranches(),this.iniciarForms(),this.setFechaHoy()}guardar(){this.service.save(this.puntosMejora.value).subscribe(t=>{Zt().fire({title:`Punto de mejora registrado ${t.puntosDeMejora}`,text:"Se ha registrado el punto de mejora",icon:"success",confirmButtonText:"Listo"}).then(r=>{r.isConfirmed&&(this.puntosMejora.reset(),this.setFechaHoy())})})}iniciarForms(){this.range=new V.cw({month:new V.NI(""),branch:new V.NI("")}),this.puntosMejora=new V.cw({branchOffice:new V.NI(""),createAt:new V.NI(""),warehouse:new V.NI(""),puntosDeMejora:new V.NI(""),observaciones:new V.NI(""),otrasLabores:new V.NI("")})}cargarDatos(){let t=this.range.get("month")?.value,r=this.range.get("branch")?.value;this.puntoMejoraLista=[],0==t&&this.service.findByYear(r.id,this.functions.anioActual()).subscribe(n=>{this.puntoMejoraLista=n,this.cd.detectChanges()}),0!=t&&this.service.findByDate(r.id,t).subscribe(n=>{this.puntoMejoraLista=n,this.cd.detectChanges()})}findBranches(){this.clientId=sessionStorage.getItem("clientId"),this.branchService.findByClientId(Number.parseInt(this.clientId),1,200).subscribe(t=>{this.branches=t.content,this.cd.detectChanges(),this.puntosMejora.controls.branchOffice.valueChanges.subscribe(r=>{this.wareHouseService.findByBranchId(Number.parseInt(r.id),1,200).subscribe(n=>{this.warehouse=n.content,this.cd.detectChanges()})})})}setFechaHoy(){this.puntosMejora.get("createAt")?.setValue(this.functions.fechaActual()),this.range.get("start")?.setValue(this.functions.primerDiaMes()),this.range.get("end")?.setValue(this.functions.ultimoDiaMes()),this.service.findByDateRange(Number.parseInt(this.clientId=sessionStorage.getItem("clientId")),this.functions.primerDiaMes(),this.functions.ultimoDiaMes()).subscribe(t=>{this.puntoMejoraNuevo=t,this.cd.detectChanges()})}eliminar(t){}editar(t){}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Nc),l.Y36(ci.I),l.Y36(Vi),l.Y36(l.sBO))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-puntos-mejora"]],decls:117,vars:19,consts:[[1,"card"],[1,"card-header","border-0","pt-5","pb-5"],[1,"anchor","fw-bold","mb-5"],["id","puntosMejora",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-6"],["for","clientBranch",1,"form-label"],["formControlName","branchOffice","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","warehouse",1,"form-label"],["formControlName","warehouse","id","warehouse",1,"form-select"],["for","puntosDeMejora",1,"form-label"],["formControlName","puntosDeMejora","id","puntosDeMejora","placeholder","Ingrese",1,"form-control"],["for","observaciones",1,"form-label"],["formControlName","observaciones","id","observaciones","placeholder","Ingrese",1,"form-control"],[1,"col-md-3","pt-2"],[1,"form-label"],["formControlName","otrasLabores","type","text",1,"form-control"],["formControlName","createAt","type","date",1,"form-control"],[1,"col-md-2","pt-6"],[1,"btn","btn-success","margin-left",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-save"],["routerLink","/reports",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"separator","my-10"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],[1,"col-md-4"],["formControlName","month","id","month",1,"form-select"],[1,"bold",3,"value"],[3,"value"],["formControlName","branch","id","branch",1,"form-select"],["type","submit","value","Buscar",1,"button","btn","btn-info",3,"click"],[1,"table","table-striped","table-rounded","border","border-gray-300","table-row-bordered","table-row-gray-300","gy-7","gs-7"],[1,"fw-semibold","fs-4","text-gray-800"],[1,"min-w-200px"],[4,"ngFor","ngForOf"],[3,"ngValue"],["alt","imagen","width","100px","height","100px",3,"src"],[1,"btn","btn-icon","btn-bg-light","btn-primary","btn-sm","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-icon","btn-bg-light","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Observaciones y mejoras"),l.qZA(),l.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),l._uU(8,"Sucursal"),l.qZA(),l.TgZ(9,"select",7)(10,"option"),l._uU(11,"Seleccione Sucursal"),l.qZA(),l.YNc(12,Bc,2,2,"option",8),l.qZA()(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Bodega"),l.qZA(),l.TgZ(16,"select",10)(17,"option"),l._uU(18,"Seleccione Bodega/Oficina"),l.qZA(),l.YNc(19,Zc,2,2,"option",8),l.qZA()(),l.TgZ(20,"div",5)(21,"label",11),l._uU(22,"Punto de Mejora"),l.qZA(),l._UZ(23,"textarea",12),l.qZA(),l.TgZ(24,"div",5)(25,"label",13),l._uU(26,"Ciclo de Desarrollo"),l.qZA(),l._UZ(27,"textarea",14),l.qZA(),l.TgZ(28,"div",15)(29,"label",16),l._uU(30,"Otras Labores"),l.qZA(),l._UZ(31,"input",17),l.qZA(),l.TgZ(32,"div",15)(33,"label",16),l._uU(34,"Fecha"),l.qZA(),l._UZ(35,"input",18),l.qZA(),l.TgZ(36,"div",19)(37,"button",20),l.NdJ("click",function(){return r.guardar()}),l._UZ(38,"i",21),l._uU(39," Guardar "),l.qZA()(),l.TgZ(40,"div",19)(41,"button",22),l._UZ(42,"i",23),l._uU(43," Volver "),l.qZA()()()()(),l._UZ(44,"div",24),l.TgZ(45,"div",25)(46,"div",26)(47,"div",27)(48,"div",28)(49,"div",29)(50,"h1",2),l._uU(51,"Registro de observaciones"),l.qZA(),l._UZ(52,"div"),l.qZA(),l.TgZ(53,"div",30)(54,"form",31)(55,"div",4)(56,"div",32)(57,"label",16),l._uU(58,"Mes"),l.qZA(),l.TgZ(59,"select",33)(60,"option"),l._uU(61,"Seleccione Mes"),l.qZA(),l.TgZ(62,"option",34),l._uU(63,"Todos"),l.qZA(),l.TgZ(64,"option",35),l._uU(65,"Enero"),l.qZA(),l.TgZ(66,"option",35),l._uU(67,"Febrero"),l.qZA(),l.TgZ(68,"option",35),l._uU(69,"Marzo"),l.qZA(),l.TgZ(70,"option",35),l._uU(71,"Abril"),l.qZA(),l.TgZ(72,"option",35),l._uU(73,"Mayo"),l.qZA(),l.TgZ(74,"option",35),l._uU(75,"Junio"),l.qZA(),l.TgZ(76,"option",35),l._uU(77,"Julio"),l.qZA(),l.TgZ(78,"option",35),l._uU(79,"Agosto"),l.qZA(),l.TgZ(80,"option",35),l._uU(81,"Setiembre"),l.qZA(),l.TgZ(82,"option",35),l._uU(83,"Octubre"),l.qZA(),l.TgZ(84,"option",35),l._uU(85,"Noviembre"),l.qZA(),l.TgZ(86,"option",35),l._uU(87,"Diciembre"),l.qZA()()(),l.TgZ(88,"div",32)(89,"label",16),l._uU(90,"Seleccione Sucursal"),l.qZA(),l.TgZ(91,"select",36)(92,"option"),l._uU(93,"Seleccione Sucursal"),l.qZA(),l.YNc(94,Hc,2,2,"option",8),l.qZA()(),l.TgZ(95,"div",32),l._UZ(96,"br"),l.TgZ(97,"input",37),l.NdJ("click",function(){return r.cargarDatos()}),l.qZA()()()()()(),l.TgZ(98,"table",38)(99,"thead")(100,"tr",39)(101,"th",40),l._uU(102,"Bodega"),l.qZA(),l.TgZ(103,"th",40),l._uU(104,"Fecha"),l.qZA(),l.TgZ(105,"th",40),l._uU(106,"Punto de mejora"),l.qZA(),l.TgZ(107,"th",40),l._uU(108,"Observaciones"),l.qZA(),l.TgZ(109,"th",40),l._uU(110,"Otras Labores"),l.qZA(),l.TgZ(111,"th",40),l._uU(112,"Imagen"),l.qZA(),l.TgZ(113,"th",40),l._uU(114,"Acciones"),l.qZA()()(),l.TgZ(115,"tbody"),l.YNc(116,Yc,18,5,"tr",41),l.qZA()()()()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.puntosMejora),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(7),l.Q6J("ngForOf",r.warehouse),l.xp6(35),l.Q6J("formGroup",r.range),l.xp6(8),l.Q6J("value",0),l.xp6(2),l.Q6J("value",1),l.xp6(2),l.Q6J("value",2),l.xp6(2),l.Q6J("value",3),l.xp6(2),l.Q6J("value",4),l.xp6(2),l.Q6J("value",5),l.xp6(2),l.Q6J("value",6),l.xp6(2),l.Q6J("value",7),l.xp6(2),l.Q6J("value",8),l.xp6(2),l.Q6J("value",9),l.xp6(2),l.Q6J("value",10),l.xp6(2),l.Q6J("value",11),l.xp6(2),l.Q6J("value",12),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(22),l.Q6J("ngForOf",r.puntoMejoraLista))},dependencies:[lt.sg,Xe.rH,V._Y,V.YN,V.Kr,V.Fj,V.EJ,V.JJ,V.JL,V.sg,V.u]}),i})(),Fn=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}findByDateRange(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-by-date-range/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}findByDate(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findByYear(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-by-year/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findAll(){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-all",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/save",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findReporteAnual(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-reporte-por-mes/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findVerificandoExistencia(t,r,n,s){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-reporte-verificando-existencia/"+t+"/"+r+"/"+n+"/"+s+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(o=>(this.variables.notAllowed(o),(0,oe._)(o))))}findReporteAnualPorNumeroTrampa(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/lamparas-capturas-x-mes/get-reporte-verificando-existencia/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();var Wc=K(4106);function zc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Gc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function Xc(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function qc(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"date"),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td"),l._uU(15),l.qZA(),l.TgZ(16,"td")(17,"button",42),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.editar(n))}),l._UZ(18,"i",43),l.qZA(),l.TgZ(19,"button",44),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.eliminar(n))}),l._UZ(20,"i",45),l.qZA()()()}if(2&a){const e=i.$implicit;l.xp6(2),l.Oqu(e.trampa),l.xp6(2),l.Oqu(e.warehouse.name),l.xp6(2),l.Oqu(l.xi3(7,7,e.createAt,"dd/MM/yyyy")),l.xp6(3),l.Oqu(e.moscas),l.xp6(2),l.Oqu(e.palomillas),l.xp6(2),l.Oqu(e.otros),l.xp6(2),l.Oqu(e.total)}}let Fo=(()=>{var a;class i{constructor(t,r,n,s,o,h,u){this.service=t,this.clientService=r,this.pestTypeService=n,this.branchService=s,this.wareHouseService=o,this.matInput=h,this.cd=u,this.functions=new ui}ngOnInit(){this.manageSessionStorage(),this.initializeForms(),this._getBranches()}initializeForms(){this.form=new V.cw({branch:new V.NI(null),month:new V.NI(null)}),this.nuevoConteoForm=new V.cw({branchOffice:new V.NI(""),createAt:new V.NI(""),warehouse:new V.NI(""),trampa:new V.NI(""),moscas:new V.NI(""),palomillas:new V.NI(""),otros:new V.NI(""),total:new V.NI("")}),["warehouse","createAt","trampa","moscas","palomillas","otros","total"].forEach(r=>{this.nuevoConteoForm.controls[r].disable()})}calcular(){const t=()=>{this.nuevoConteoForm.controls.total.setValue((this.nuevoConteoForm.controls.moscas.value||0)+(this.nuevoConteoForm.controls.palomillas.value||0)+(this.nuevoConteoForm.controls.otros.value||0))};this.nuevoConteoForm.controls.moscas.valueChanges.subscribe(t),this.nuevoConteoForm.controls.palomillas.valueChanges.subscribe(t),this.nuevoConteoForm.controls.otros.valueChanges.subscribe(t)}setFechaHoy(){this.nuevoConteoForm.get("createAt")?.setValue(this.functions.fechaActual());const t=Number.parseInt(sessionStorage.getItem("clientId")||"0"),r=this.functions.mesActual();this.service.findByDate(t,r).subscribe(n=>{this.reports=n,this.cd.detectChanges()})}save(){const t=this.nuevoConteoForm.value,r=this.functions.mesActual(),n=Number.parseInt(sessionStorage.getItem("clientId")||"0");this.analyzeAndSaveTrapsByMonth(1,r-1,n,t.trampa,t.branchOffice,t.warehouse),this.service.save(t).subscribe(s=>{Zt().fire({title:`Nuevo conteo en la trampa ${s.trampa}`,text:`El conteo de plagas se ha guardado correctamente con un total de ${s.total} insectos`,icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#3085d6"}).then(o=>{o.isConfirmed&&(this.resetForm(),this.setFechaHoy())})})}analyzeAndSaveTrapsByMonth(t,r,n,s,o,h){this.service.findVerificandoExistencia(t,r,n,s).subscribe(u=>{let c=[],d=0;if(null==u)for(let p=0;p<r;p++)c=[{createAt:this.functions.anioActual()+"-"+(p+1)+"-01",branchOffice:o,warehouse:h,trampa:s,moscas:0,palomillas:0,otros:0,total:0}],this.service.save(c[0]).subscribe(()=>{this.cd.detectChanges()});if(null!=u)for(let p=0;p<u.length;p++){let f=u[p].createAt.split("-");if(Number.parseInt(f[1]),d++,p==u.length-1&&d<r)for(let g=d;g<r;g++)c=[{createAt:this.functions.anioActual()+"-"+(d+1)+"-01",branchOffice:o,warehouse:h,trampa:s,moscas:0,palomillas:0,otros:0,total:0}],this.service.save(c[0]).subscribe(()=>{this.cd.detectChanges()}),d++}})}resetForm(){const t=this.nuevoConteoForm.controls;t.trampa.setValue(""),t.moscas.setValue(""),t.palomillas.setValue(""),t.otros.setValue(""),t.total.setValue("")}_getBranches(){this.branchService.findByClientId(this.clientId,1,100).subscribe(t=>{this.branches=t.content,this.cd.detectChanges()}),this.nuevoConteoForm.get("branchOffice")?.valueChanges.subscribe(t=>{this.cd.detectChanges(),["warehouse","createAt","trampa","moscas","palomillas","otros","total"].forEach(n=>{this.nuevoConteoForm.controls[n].enable()}),this._getWarehouses(t.id)})}_getWarehouses(t=null){this.wareHouseService.findByBranchId(t,1,100).subscribe(r=>{this.warehouse=r.content,this.cd.detectChanges()})}eliminar(t){}manageSessionStorage(){this.clientId=sessionStorage.getItem("clientId"),this.branchId=sessionStorage.getItem("branchId"),sessionStorage.removeItem("reports")}cargarDatos(){let t=this.form.get("month")?.value,r=this.form.get("branch")?.value;this.reports=[],sessionStorage.removeItem("reports"),0==t&&this.service.findByYear(r.id,this.functions.anioActual()).subscribe(n=>{this.reports=n,sessionStorage.setItem("reports",JSON.stringify(this.reports)),this.cd.detectChanges()}),0!=t&&this.service.findByDate(r.id,t).subscribe(n=>{this.reports=n,sessionStorage.setItem("reports",JSON.stringify(this.reports)),this.cd.detectChanges()})}editar(t){}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Fn),l.Y36(Wc.a),l.Y36(On),l.Y36(ci.I),l.Y36(Vi),l.Y36(Ao),l.Y36(l.sBO))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-lamparas-capturas-mes"]],decls:127,vars:19,consts:[[1,"card"],[1,"card-header","border-0","pt-5","pb-5"],[1,"anchor","fw-bold","mb-5"],["id","nuevoConteoForm",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-5"],["for","clientBranch",1,"form-label"],["formControlName","branchOffice","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","warehouse",1,"form-label"],["formControlName","warehouse","id","warehouse",1,"form-select"],[1,"col-md-2","pt-2"],[1,"form-label"],["formControlName","createAt","type","date",1,"form-control"],["formControlName","trampa","type","number",1,"form-control"],["formControlName","moscas","type","number",1,"form-control",3,"click"],["formControlName","palomillas","type","number",1,"form-control",3,"click"],["formControlName","otros","type","number",1,"form-control",3,"click"],["formControlName","total","type","number",1,"form-control",3,"click"],[1,"col-md-2","pt-6"],[1,"btn","btn-success","margin-left",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-save"],["routerLink","/reports",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"mb-0"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],[1,"col-md-4"],["formControlName","month","id","month",1,"form-select"],[1,"bold",3,"value"],[3,"value"],["formControlName","branch","id","branch",1,"form-select"],["type","submit","value","Buscar",1,"button","btn","btn-info",3,"click"],[1,"table","table-striped","table-rounded","border","border-gray-300","table-row-bordered","table-row-gray-300","gy-7","gs-7"],[1,"fw-semibold","fs-4","text-gray-800"],[4,"ngFor","ngForOf"],[3,"ngValue"],[1,"btn","btn-icon","btn-bg-light","btn-primary","btn-sm","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-icon","btn-bg-light","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Lamparas UV Nuevo Registro"),l.qZA(),l.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),l._uU(8,"Sucursal"),l.qZA(),l.TgZ(9,"select",7)(10,"option"),l._uU(11,"Seleccione Sucursal"),l.qZA(),l.YNc(12,zc,2,2,"option",8),l.qZA()(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Bodega"),l.qZA(),l.TgZ(16,"select",10)(17,"option"),l._uU(18,"Seleccione Bodega/Oficina"),l.qZA(),l.YNc(19,Gc,2,2,"option",8),l.qZA()(),l.TgZ(20,"div",11)(21,"label",12),l._uU(22,"Fecha"),l.qZA(),l._UZ(23,"input",13),l.qZA(),l.TgZ(24,"div",11)(25,"label",12),l._uU(26,"Trampa"),l.qZA(),l._UZ(27,"input",14),l.qZA(),l.TgZ(28,"div",11)(29,"label",12),l._uU(30,"Moscas"),l.qZA(),l.TgZ(31,"input",15),l.NdJ("click",function(){return r.calcular()}),l.qZA()(),l.TgZ(32,"div",11)(33,"label",12),l._uU(34,"Palomillas"),l.qZA(),l.TgZ(35,"input",16),l.NdJ("click",function(){return r.calcular()}),l.qZA()(),l.TgZ(36,"div",11)(37,"label",12),l._uU(38,"Otros"),l.qZA(),l.TgZ(39,"input",17),l.NdJ("click",function(){return r.calcular()}),l.qZA()(),l.TgZ(40,"div",11)(41,"label",12),l._uU(42,"Total"),l.qZA(),l.TgZ(43,"input",18),l.NdJ("click",function(){return r.calcular()}),l.qZA()(),l._UZ(44,"div",11),l.TgZ(45,"div",19)(46,"button",20),l.NdJ("click",function(){return r.save()}),l._UZ(47,"i",21),l._uU(48," Guardar "),l.qZA()(),l.TgZ(49,"div",19)(50,"button",22),l._UZ(51,"i",23),l._uU(52," Volver "),l.qZA()()()()()(),l.TgZ(53,"div",24)(54,"div",25)(55,"div",26)(56,"div",27)(57,"div",28)(58,"h3",29),l._uU(59,"Registro"),l.qZA()(),l.TgZ(60,"div",30)(61,"form",31)(62,"div",4)(63,"div",32)(64,"label",12),l._uU(65,"Mes"),l.qZA(),l.TgZ(66,"select",33)(67,"option"),l._uU(68,"Seleccione Mes"),l.qZA(),l.TgZ(69,"option",34),l._uU(70,"Todos"),l.qZA(),l.TgZ(71,"option",35),l._uU(72,"Enero"),l.qZA(),l.TgZ(73,"option",35),l._uU(74,"Febrero"),l.qZA(),l.TgZ(75,"option",35),l._uU(76,"Marzo"),l.qZA(),l.TgZ(77,"option",35),l._uU(78,"Abril"),l.qZA(),l.TgZ(79,"option",35),l._uU(80,"Mayo"),l.qZA(),l.TgZ(81,"option",35),l._uU(82,"Junio"),l.qZA(),l.TgZ(83,"option",35),l._uU(84,"Julio"),l.qZA(),l.TgZ(85,"option",35),l._uU(86,"Agosto"),l.qZA(),l.TgZ(87,"option",35),l._uU(88,"Setiembre"),l.qZA(),l.TgZ(89,"option",35),l._uU(90,"Octubre"),l.qZA(),l.TgZ(91,"option",35),l._uU(92,"Noviembre"),l.qZA(),l.TgZ(93,"option",35),l._uU(94,"Diciembre"),l.qZA()()(),l.TgZ(95,"div",32)(96,"label",12),l._uU(97,"Seleccione Sucursal"),l.qZA(),l.TgZ(98,"select",36)(99,"option"),l._uU(100,"Seleccione Sucursal"),l.qZA(),l.YNc(101,Xc,2,2,"option",8),l.qZA()(),l.TgZ(102,"div",32),l._UZ(103,"br"),l.TgZ(104,"input",37),l.NdJ("click",function(){return r.cargarDatos()}),l.qZA()()()()()(),l.TgZ(105,"table",38)(106,"thead")(107,"tr",39)(108,"th"),l._uU(109,"Trampa"),l.qZA(),l.TgZ(110,"th"),l._uU(111,"Bodega"),l.qZA(),l.TgZ(112,"th"),l._uU(113,"Fecha"),l.qZA(),l.TgZ(114,"th"),l._uU(115,"Moscas"),l.qZA(),l.TgZ(116,"th"),l._uU(117,"Palomillas"),l.qZA(),l.TgZ(118,"th"),l._uU(119,"Otros"),l.qZA(),l.TgZ(120,"th"),l._uU(121,"Total"),l.qZA(),l.TgZ(122,"th"),l._uU(123,"Acciones"),l.qZA()()(),l.TgZ(124,"tbody"),l.YNc(125,qc,21,10,"tr",40),l.qZA()()()()(),l._UZ(126,"app-chart")),2&t&&(l.xp6(4),l.Q6J("formGroup",r.nuevoConteoForm),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(7),l.Q6J("ngForOf",r.warehouse),l.xp6(42),l.Q6J("formGroup",r.form),l.xp6(8),l.Q6J("value",0),l.xp6(2),l.Q6J("value",1),l.xp6(2),l.Q6J("value",2),l.xp6(2),l.Q6J("value",3),l.xp6(2),l.Q6J("value",4),l.xp6(2),l.Q6J("value",5),l.xp6(2),l.Q6J("value",6),l.xp6(2),l.Q6J("value",7),l.xp6(2),l.Q6J("value",8),l.xp6(2),l.Q6J("value",9),l.xp6(2),l.Q6J("value",10),l.xp6(2),l.Q6J("value",11),l.xp6(2),l.Q6J("value",12),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(24),l.Q6J("ngForOf",r.reports))}}),i})();var w=K(7582),ae=function(){function a(i){this._value=i}return Object.defineProperty(a.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this._value+"%"},a}();function R(a){return new ae(a)}function Ue(a){return Number(a)!==a}function Wt(a){return{}.toString.call(a)}function Vn(a){if("string"==typeof a)return a;if("number"==typeof a)return""+a;throw new Error("Expected a string or number but got "+Wt(a))}function xe(a){return!!a}function ve(a){if(x(a)&&!y(a)){var i=Number(a);return Ue(i)&&ne(a)&&""!=a?ve(a.replace(/[^0-9.\-]+/g,"")):i}return a}function $e(a){if(x(a)&&!ne(a)){if(y(a))return Vn(a);if(_e(a))return a.toString()}return a}function x(a){return null!=a}function Ce(a){if(x(a))return a;throw new Error("Value doesn't exist")}function Rn(a,i){return x(a)?a:i}function nr(a){return"[object Date]"===Wt(a)}function ne(a){return"string"==typeof a}function y(a){return"number"==typeof a&&Number(a)==a}function _e(a){return"object"==typeof a&&null!=a}function Ee(a){return Array.isArray(a)}var ta=Math.PI,Vo=ta/2,ia=ta/180,ei=180/ta;function En(a,i,e){return x(a)?B(a=ve(a),i,e):a}function F(a,i,e){if(!y(i)||i<=0){var t=Math.round(a);return e&&t-a==.5&&t--,t}var r=Math.pow(10,i);return Math.round(a*r)/r}function Ro(a,i){if(!y(i)||i<=0)return Math.ceil(a);var e=Math.pow(10,i);return Math.ceil(a*e)/e}function B(a,i,e){if(y(i)){if(y(e)&&e<i){var t=e;e=i,i=t}a<i&&(a=i)}return y(e)&&a>e&&(a=e),a}function E(a){return F(Math.sin(ia*a),10)}function Eo(a){return F(Math.tan(ia*a),10)}function L(a){return F(Math.cos(ia*a),10)}function Q(a,i){return y(a)?y(i)&&i>a?i:a:y(i)?i:null}function se(a,i){return y(a)?y(i)&&i<a?i:a:y(i)?i:null}function ra(a,i){var e=Ce(a.start),t=Ce(i.start),r=Ce(a.end),n=Ce(i.end);return Math.max(e,t)<=Math.min(r,n)}function sr(a){var i=Ce(a.start);return{start:1-Ce(a.end),end:1-i}}function de(a,i){return a?(i||(i={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(a.x-i.x),2)+Math.pow(Math.abs(a.y-i.y),2))):0}function id(a,i,e,t,r){if(!a)return 0;i||(i={x:0,y:0});var n=0,s=a;if(r>0)for(var o=0;o<=r;o++){var h=Ln(a,i,e,t,o/r);n+=de(s,h),s=h}return n}function rd(a,i,e,t){var r=de(i,t),n=de(a,e);return Math.abs(n/r)}function aa(a,i,e){return y(e)||(e=.5),{x:a.x+(i.x-a.x)*e,y:a.y+(i.y-a.y)*e}}function We(a,i){i||(i={x:2*a.x,y:2*a.y});var r=Math.atan2(i.y-a.y,i.x-a.x)*ei;return r<0&&(r+=360),di(r)}function or(a){if(a){var i=a.length;if(0!==i){for(var r,e=void 0,t=void 0,n=void 0,s=0;s<i;s++){var o=a[s];(!y(t)||o.x>t)&&(t=o.x),(!y(e)||o.x<e)&&(e=o.x),(!y(r)||o.y<r)&&(r=o.y),(!y(n)||o.y>n)&&(n=o.y)}return{x:e,y:r,width:t-e,height:n-r}}}return{x:0,y:0,width:0,height:0}}function lr(a){var i=a.length;if(0!==i){for(var e=void 0,t=void 0,r=void 0,n=void 0,s=0;s<i;s++){var o=a[s];e=se(o.x,e),t=se(o.y,t),r=Q(o.x+o.width,r),n=Q(o.y+o.height,n)}return{x:e,y:t,width:r-e,height:n-t}}}function Lo(a,i,e,t){return{x:(1-t)*(1-t)*a.x+2*(1-t)*t*e.x+t*t*i.x,y:(1-t)*(1-t)*a.y+2*(1-t)*t*e.y+t*t*i.y}}function Ln(a,i,e,t,r){var n={x:0,y:0},s=1-r,o=s*s,h=o*s;return n.x=a.x*h+3*e.x*o*r+3*t.x*s*r*r+i.x*r*r*r,n.y=a.y*h+3*e.y*o*r+3*t.y*s*r*r+i.y*r*r*r,n}function jo(a,i,e,t,r,n){return r=na(r),n=na(n),{x:(i.x/r-a.x+e.x)*r,y:(i.y/n-a.y+e.y)*n}}function No(a,i,e,t,r,n){return r=na(r),n=na(n),{x:(i.x+e.x/r-t.x)*r,y:(i.y+e.y/n-t.y)*n}}function na(a){return 1-a+1e-5}function di(a){return 360==a?360:a%360}function Mt(a,i,e){if(i>e){var t=i;i=e,e=t}a=di(a);var r=(i-di(i))/360;return a<i&&(a+=360*(r+1)),a>e&&(a-360>i?a-=360:a=a<i+(e-i)/2+180?e:i),a<i&&(a=a>i+(e-i)/2-180?i:e),a}function It(a,i,e){var t=Number.MAX_VALUE,r=Number.MAX_VALUE,n=-Number.MAX_VALUE,s=-Number.MAX_VALUE,o=[];y(e)||(e=1),o.push(jn(e,a)),o.push(jn(e,i));for(var h=Math.min(90*Math.floor(a/90),90*Math.floor(i/90)),u=Math.max(90*Math.ceil(a/90),90*Math.ceil(i/90)),c=h;c<=u;c+=90)c>=a&&c<=i&&o.push(jn(e,c));for(var d=0;d<o.length;d++){var p=o[d];p.x<t&&(t=p.x),p.y<r&&(r=p.y),p.x>n&&(n=p.x),p.y>s&&(s=p.y)}return{x:t,y:r,width:n-t,height:s-r}}function jn(a,i){return{x:a*L(i),y:a*E(i)}}function Bo(a,i){return a.x>=i.x&&a.x<=i.x+i.width&&a.y>=i.y&&a.y<=i.y+i.height}function _t(a,i){for(var e=a.length,t=0;t<e;++t)if(a[t]===i)return t;return-1}function Nn(a,i){for(var e=a.length,t=0;t<e;++t)if(i(a[t]))return!0;return!1}function hr(a,i){for(var e=a.length,t=new Array(e),r=0;r<e;++r)t[r]=i(a[r],r);return t}function j(a,i){for(var e=a.length,t=0;t<e;++t)i(a[t],t)}function Bn(a,i){for(var e=a.length,t=0;t<e&&i(a[t],t);++t);}function $(a,i){var e=!1,t=a.indexOf(i);if(-1!==t){e=!0,a.splice(t,1);for(var r=a.length;t<r;)a[t]===i?(a.splice(t,1),--r):++t}return e}function xt(a,i,e){var t=_t(a,i);-1!==t&&ji(a,t),null==e?a.push(i):Li(a,e,i)}function Ei(a,i,e){y(e)?0===e?a.unshift(i):a.splice(e,0,i):a.push(i)}function Zo(a){return Array.isArray(a)?a:[a]}function ur(a){for(var i=a.length,e=new Array(i),t=0;t<i;++t)e[t]=a[t];return e}function Li(a,i,e){a.splice(i,0,e)}function ji(a,i){a.splice(i,1)}function sa(a,i,e){for(var t=0,r=a.length,n=!1;t<r;){var s=t+r>>1,o=i(e,a[s]);o<0?r=s:(0===o&&(n=!0),t=s+1)}return{found:n,index:n?t-1:t}}function Zn(a,i){for(var e=a.length,t=0;t<e;++t)if(i(a[t],t))return t;return-1}function Ho(a,i){for(var e=a.length,t=0;t<e;)i(a[t])?++t:(a.splice(t,1),--e)}var pe=function(){function a(i){this._disposed=!1,this._dispose=i}return a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},a}(),Pe=function(a){function i(e){return a.call(this,function(){j(e,function(t){t.dispose()})})||this}return(0,w.ZT)(i,a),i}(pe),He=function(a){function i(){var e=a.call(this,function(){x(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)})||this;return e}return(0,w.ZT)(i,a),i.prototype.get=function(){return this._value},i.prototype.set=function(e,t){x(this._disposer)&&this._disposer.dispose(),this._disposer=t,this._value=e},i.prototype.reset=function(){this.set(void 0,void 0)},i}(pe),oa=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e._counter=0,e}return(0,w.ZT)(i,a),i.prototype.increment=function(){var e=this;return++this._counter,new pe(function(){--e._counter,0===e._counter&&e.dispose()})},i}(pe),Hn=!1,cr=[],dr=[],la=[],Yn=[],Un="function"==typeof requestAnimationFrame?function(a){requestAnimationFrame(a)}:function(a){setTimeout(a,16.666666666666668)};function Yo(){for(var a=Date.now(),i=cr.length,e=0;e<i;++e)cr[e](a);for(function sd(a,i){for(var e=a.length,t=i;t<e;++t)a[t-i]=a[t];a.length=e-i}(cr,i),e=0;e<dr.length;++e)dr[e](a);for(dr.length=0,e=0;e<la.length;++e)la[e](a);la.length=0,0===cr.length&&0===dr.length?Hn=!1:Un(Yo)}function Wn(){Hn||(Hn=!0,Un(Yo))}function Uo(a){la.push(a),Wn()}var ti=function(){function a(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var i=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{j(i,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},a.prototype.hasListeners=function(){return 0!==this._listeners.length},a.prototype.hasListenersByType=function(i){return Nn(this._listeners,function(e){return(null===e.type||e.type===i)&&!e.killed})},a.prototype.enable=function(){this._enabled=!0},a.prototype.disable=function(){this._enabled=!1},a.prototype.enableType=function(i){delete this._disabled[i]},a.prototype.disableType=function(i,e){void 0===e&&(e=1/0),this._disabled[i]=e},a.prototype._removeListener=function(i){if(0===this._iterating){var e=this._listeners.indexOf(i);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(i)},a.prototype._removeExistingListener=function(i,e,t,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(n){n.once===i&&n.type===e&&(null==t||n.callback===t)&&n.context===r&&n.disposer.dispose()})},a.prototype.isEnabled=function(i){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(i)&&null==this._disabled[i]},a.prototype.has=function(i,e,t){return-1!==Zn(this._listeners,function(n){return!0!==n.once&&n.type===i&&(null==e||n.callback===e)&&n.context===t})},a.prototype._shouldDispatch=function(i){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[i];return y(e)?(e<=1?delete this._disabled[i]:--this._disabled[i],!1):this._enabled},a.prototype._eachListener=function(i){var e=this;++this._iterating;try{j(this._listeners,i)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(j(this._killed,function(t){e._removeListener(t)}),this._killed.length=0)}},a.prototype.dispatchImmediately=function(i,e){this._shouldDispatch(i)&&this._eachListener(function(t){!t.killed&&(null===t.type||t.type===i)&&t.dispatch(i,e)})},a.prototype.dispatch=function(i,e){this._shouldDispatch(i)&&this._eachListener(function(t){!t.killed&&(null===t.type||t.type===i)&&function dd(a){Yn.push(a)}(function(){t.killed||t.dispatch(i,e)})})},a.prototype._on=function(i,e,t,r,n,s){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(i,e,t,r);var h={type:e,callback:t,context:r,shouldClone:n,dispatch:s,killed:!1,once:i,disposer:new pe(function(){h.killed=!0,o._removeListener(h)})};return this._listeners.push(h),h},a.prototype.onAll=function(i,e,t){return void 0===t&&(t=!0),this._on(!1,null,i,e,t,function(r,n){return i.call(e,r,n)}).disposer},a.prototype.on=function(i,e,t,r){return void 0===r&&(r=!0),this._on(!1,i,e,t,r,function(n,s){return e.call(t,s)}).disposer},a.prototype.once=function(i,e,t,r){void 0===r&&(r=!0);var n=this._on(!0,i,e,t,r,function(s,o){n.disposer.dispose(),e.call(t,o)});return n.disposer},a.prototype.off=function(i,e,t){this._removeExistingListener(!1,i,e,t)},a.prototype.copyFrom=function(i){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(i===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");j(i._listeners,function(t){!t.killed&&t.shouldClone&&(null===t.type?e.onAll(t.callback,t.context):t.once?e.once(t.type,t.callback,t.context):e.on(t.type,t.callback,t.context))})},a}(),Wo=function(a){function i(e){var t=a.call(this)||this;return t.target=e,t}return(0,w.ZT)(i,a),i.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");j(e._listeners,function(r){r.context!==e.target&&!r.killed&&r.shouldClone&&(null===r.type?t.onAll(r.callback,r.context):r.once?t.once(r.type,r.callback,r.context):t.on(r.type,r.callback,r.context))})},i}(ti);function zo(a){var i=[];for(var e in a)Ft(a,e)&&i.push(e);return i}function Ft(a,i){return{}.hasOwnProperty.call(a,i)}function Go(a,i){for(var e in a)if(Ft(a,e)&&!i(e,a[e]))break}function q(a,i){Go(a,function(e,t){return i(e,t),!0})}function zt(a,i,e){j(function gd(a,i){return zo(a).sort(i)}(a,e),function(t){i(t,a[t])})}function zn(a,i){return Object.assign({},a,i)}function Fe(a,i,e){j(e,function(t){x(a[t])&&(i[t]=a[t])})}function pr(a,i){Fe(a,i,zo(a))}function pi(a){return function(i){for(var e=a.length,t=0;t<e&&i(a[t]);++t);}}function fr(a){var i=[];return a(function(e){return i.push(e),!0}),i}function ft(a,i){a(i)}function I(a,i){a(function(e){return i(e),!0})}function Ni(a,i){return pi(fr(a).sort(i))}function Xo(a,i){return function(e){return a(function(t){return e(i(t))})}}function fi(a){return function(i){var e=0;a(function(t){return i([e++,t])})}}function Gn(a,i){var e=!1;return a(function(t){return!i(t)||(e=!0,!1)}),e}var Xn=function(){function a(i,e){this.createNewItems=!1,this.list=i,this._create=e,this.reset()}return a.prototype.reset=function(){this._listCopy=fr(this.list.iterator())},a.prototype.clear=function(){this._listCopy.length=0},a.prototype.getFirst=function(){return this.returnItem(0)},a.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},a.prototype.find=function(i){var e=Zn(this._listCopy,i);if(-1!==e){var t=this._listCopy[e];return $(this._listCopy,t),t}return this.getLast()},a.prototype.removeItem=function(i){return $(this._listCopy,i)},a.prototype.returnItem=function(i){if(i>=0&&i<this._listCopy.length){var e=this._listCopy[i];return $(this._listCopy,e),e}if(this.createNewItems)return this._create()},a.prototype.iterator=function(){return pi(this._listCopy)},a}();function qn(a,i){return a===i?0:a<i?-1:1}function Ko(a,i){return new Array(i+1).join(a)}var gi=function(a){function i(e){var r=e.events.on("removed",function(n){n.oldValue.dispose()},void 0,!1);return a.call(this,function(){r.dispose(),I(e.iterator(),function(n){n[1].dispose()})})||this}return(0,w.ZT)(i,a),i}(pe),be=function(){function a(){this.events=new ti,this._dictionary={}}return a.prototype.hasKey=function(i){return Ft(this._dictionary,i)},a.prototype.getKey=function(i){return this._dictionary[i]},a.prototype.insertKey=function(i,e){if(Ft(this._dictionary,i))throw new Error("Key "+i+" already exists in dictionary");this._dictionary[i]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:i,newValue:e})},a.prototype.setKey=function(i,e){if(Ft(this._dictionary,i)){var t=this._dictionary[i];t!==e&&(this._dictionary[i]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:i,oldValue:t,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}))}else this._dictionary[i]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:i,newValue:e})},a.prototype.updateKey=function(i,e){if(!Ft(this._dictionary,i))throw new Error("Key "+i+" doesn't exist in dictionary");var t=this._dictionary[i],r=e(t);t!==r&&(this._dictionary[i]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:i,oldValue:t,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}))},a.prototype.removeKey=function(i){if(Ft(this._dictionary,i)){var e=this._dictionary[i];delete this._dictionary[i],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:i,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},a.prototype.insertKeyIfEmpty=function(i,e){return this.hasKey(i)||this.insertKey(i,e()),this.getKey(i)},a.prototype.clear=function(){var i=this;this.events.isEnabled("removed")&&q(this._dictionary,function(e,t){i.events.dispatchImmediately("removed",{type:"removed",target:i,oldValue:t})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},a.prototype.copyFrom=function(i){var e=this;I(i.iterator(),function(t){e.setKey(t[0],t[1])})},a.prototype.iterator=function(){return function fd(a){return function(i){for(var e in a)if(Ft(a,e)&&!i([e,a[e]]))break}}(this._dictionary)},a.prototype[Symbol.iterator]=function(){var i,e,t,r;return(0,w.Jh)(this,function(n){switch(n.label){case 0:for(e in i=[],this._dictionary)i.push(e);t=0,n.label=1;case 1:return t<i.length?Ft(this._dictionary,r=i[t])?[4,[r,this._dictionary[r]]]:[3,3]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})},a.prototype.each=function(i){I(this.iterator(),function(e){var t=(0,w.CR)(e,2);return i(t[0],t[1])})},a.prototype.sortedIterator=function(){return Ni(this.iterator(),function(i,e){return qn(i[0],e[0])})},a}(),gr=function(a){function i(e){var t=a.call(this)||this;return t.template=e,t}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;I(e.iterator(),function(r){t.setKey(r[0],r[1].clone())})},i.prototype.create=function(e){var t=this;return this.insertKeyIfEmpty(e,function(){return t.template.clone()})},i}(be),mr=new(function(){function a(){this._storage=new be,this.ttl=1e3}return a.prototype.set=function(i,e,t,r){var n=this._storage.insertKeyIfEmpty(i,function(){return new be}),s={touched:(new Date).getTime(),ttl:y(r)?r:this.ttl,value:t};n.setKey(e,s)},a.prototype.get=function(i,e,t){if(void 0===t&&(t=void 0),this._storage.hasKey(i)){var r=this._storage.getKey(i);if(r.hasKey(e)){var n=r.getKey(e);return n.ttl&&n.touched+n.ttl<(new Date).getTime()&&(n.expired=!0),n.expired?(r.removeKey(e),t):n.value}return t}return t},a.prototype.clear=function(i){i?this._storage.removeKey(i):this._storage.clear()},a}()),C=new(function(){function a(){var i=this;this.events=new ti,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){j(i.baseSprites,function(e){var t=e.paper.svg;t.setAttribute("viewBox","0 0 "+t.clientWidth+" "+t.clientHeight)})}),addEventListener("afterprint",function(){j(i.baseSprites,function(e){e.paper.svg.removeAttribute("viewBox")})}))}return a.prototype.getUniqueId=function(){var i=this._uidCount;return this._uidCount+=1,"id-"+i},Object.defineProperty(a.prototype,"map",{get:function(){return this._map||(this._map=new be),this._map},enumerable:!0,configurable:!0}),a.prototype.setCache=function(i,e,t){mr.set(this.uid,i,e,t)},a.prototype.getCache=function(i,e){return void 0===e&&(e=void 0),mr.get(this.uid,i,e)},a.prototype.dispatch=function(i,e){this.events.isEnabled(i)&&(e?(e.type=i,e.target=e.target||this,this.events.dispatch(i,{type:i,target:this})):this.events.dispatch(i,{type:i,target:this}))},a.prototype.dispatchImmediately=function(i,e){this.events.isEnabled(i)&&(e?(e.type=i,e.target=e.target||this,this.events.dispatchImmediately(i,e)):this.events.dispatchImmediately(i,{type:i,target:this}))},a.prototype.getPlaceholder=function(i){return x(this._placeholders[i])||(this._placeholders[i]="__amcharts_"+i+"_"+function Pd(a){for(var i="",t=0;t<a;t++)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return i}(8)+"__"),this._placeholders[i]},a.prototype.addToInvalidComponents=function(i){xt(i.baseId?this.invalidDatas[i.baseId]:this.invalidDatas.noBase,i)},a.prototype.removeFromInvalidComponents=function(i){i.baseId&&$(this.invalidDatas[i.baseId],i),$(this.invalidDatas.noBase,i)},a.prototype.addToInvalidSprites=function(i){Ei(i.baseId?this.invalidSprites[i.baseId]:this.invalidSprites.noBase,i)},a.prototype.removeFromInvalidSprites=function(i){i.baseId&&$(this.invalidSprites[i.baseId],i),$(this.invalidSprites.noBase,i)},a.prototype.addToInvalidPositions=function(i){Ei(i.baseId?this.invalidPositions[i.baseId]:this.invalidPositions.noBase,i)},a.prototype.removeFromInvalidPositions=function(i){i.baseId&&$(this.invalidPositions[i.baseId],i),$(this.invalidPositions.noBase,i)},a.prototype.addToInvalidLayouts=function(i){Ei(i.baseId?this.invalidLayouts[i.baseId]:this.invalidLayouts.noBase,i)},a.prototype.removeFromInvalidLayouts=function(i){i.baseId&&$(this.invalidLayouts[i.baseId],i),$(this.invalidLayouts.noBase,i)},a}());function nt(a,i){var e=C.registeredClasses[i];return null!=e&&a instanceof e}var $o=function(){function a(i,e,t){this._array=i,this._start=e,this._end=t}return a.prototype.iterator=function(){var i=this;return function(e){if(i._start!==i._end)if(i._start<i._end)for(var t=i._start;t<i._end&&e(i._array[t]);++t);else for(t=i._start-1;t>=i._end&&e(i._array[t]);--t);}},a.prototype.backwards=function(){return new a(this._array,this._end,this._start)},a.prototype.range=function(i,e){if(i<=e){if(this._start===this._end)return this;if(this._start<this._end){var t=e-i;return i=Math.max(this._start+i,this._start),e=Math.min(i+t,this._end),new a(this._array,i,e)}return t=e-i,i=Math.max(this._start-i,this._end),e=Math.max(i-t,this._end),new a(this._array,i,e)}throw new Error("Start index must be lower than end index")},a}(),ye=(function(a){function i(e,t,r){var n=a.call(this,[e.events.on("inserted",function(s){var o=s.newValue,h=n._getKey(o),u=0;ft(e.iterator(),function(c){return c!==o&&(n._getKey(c)===h&&++u,!0)}),n._insert(o,h,u)},void 0,!1),e.events.on("removed",function(s){n._remove(s.oldValue)},void 0,!1)])||this;return n._keys=[],n._groups={},n._getKey=t,n._sort=r,I(e.iterator(),function(s){n._insert(s,t(s))}),n}(0,w.ZT)(i,a),i.prototype._insert=function(e,t,r){if(null==this._groups[t]){this._groups[t]=[];var n=sa(this._keys,this._sort,t),o=n.index;if(n.found)throw new Error("Key already exists: "+t);Li(this._keys,o,t)}null==r?this._groups[t].push(e):Li(this._groups[t],r,e)},i.prototype._remove=function(e){var t=this._getKey(e),r=this._groups[t];if(null!=r&&($(r,e),0===r.length)){delete this._groups[t];var n=sa(this._keys,this._sort,t),o=n.index;if(!n.found)throw new Error("Key doesn't exist: "+t);ji(this._keys,o)}},i.prototype.iterator=function(){var e=this;return function _d(a){return function(i){var e=!0,t=function(r){return e=i(r)};a(function(r){return r(t),e})}}(Xo(pi(this._keys),function(t){return pi(e._groups[t])}))}}(Pe),function(a){function i(e,t){void 0===t&&(t=!0);var r=this;if(t){var n=e.events.on("removed",function(s){s.oldValue.dispose()},void 0,!1);r=a.call(this,function(){n.dispose(),I(e.iterator(),function(s){s.dispose()})})||this}else r=a.call(this,function(){I(e.iterator(),function(s){s.dispose()})})||this;return r}return(0,w.ZT)(i,a),i}(pe));function vr(a,i){if(!(a>=0&&a<i))throw new Error("Index out of bounds: "+a)}var he=function(){function a(i){void 0===i&&(i=[]),this.events=new ti,this._values=i}return Object.defineProperty(a.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),a.prototype.contains=function(i){return-1!==this._values.indexOf(i)},a.prototype.removeValue=function(i){for(var e=0,t=this._values.length;e<t;)this._values[e]===i?(this.removeIndex(e),--t):++e},a.prototype.indexOf=function(i){return _t(this._values,i)},Object.defineProperty(a.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),a.prototype.hasIndex=function(i){return i>=0&&i<this._values.length},a.prototype.getIndex=function(i){return this._values[i]},a.prototype.setIndex=function(i,e){vr(i,this._values.length);var t=this._values[i];return t!==e&&(this._values[i]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:i,oldValue:t,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),t},a.prototype.insertIndex=function(i,e){vr(i,this._values.length+1),Li(this._values,i,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:i,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},a.prototype._sortQuicksort=function(i,e,t){if(i<e){var r=this._sortPartition(i,e,t);this._sortQuicksort(i,r,t),this._sortQuicksort(r+1,e,t)}},a.prototype._sortPartition=function(i,e,t){for(var r=this._values,n=r[i],s=i-1,o=e+1;;){do{++s}while(t(r[s],n)<0);do{--o}while(t(r[o],n)>0);if(s>=o)return o;this.swap(s,o)}},a.prototype.sort=function(i){this._sortQuicksort(0,this._values.length-1,i)},a.prototype.swap=function(i,e){var t=this._values.length;if(vr(i,t),vr(e,t),i!==e){var r=this._values[i],n=this._values[e];this._values[i]=n,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:i,oldValue:r,newValue:n}),this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:r})}},a.prototype.removeIndex=function(i){vr(i,this._values.length);var e=this._values[i];return ji(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},a.prototype.moveValue=function(i,e){var t=this.indexOf(i);if(-1!==t){var r=this._values[t];ji(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:r})}null==e?(e=this._values.length,this._values.push(i)):Li(this._values,e,i),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:i}),-1===t&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:i})},a.prototype.push=function(i){var e=this._values.push(i)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:i}),i},a.prototype.unshift=function(i){this.insertIndex(0,i)},a.prototype.pushAll=function(i){var e=this;j(i,function(t){e.push(t)})},a.prototype.copyFrom=function(i){this.pushAll(i._values)},a.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},a.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},a.prototype.setAll=function(i){var e=this,t=ur(this._values);this._values.length=0,j(i,function(r){e._values.push(r)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:t,newArray:this._values}),this.events.isEnabled("removed")&&j(t,function(r){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:r})}),this.events.isEnabled("inserted")&&j(this._values,function(r){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:r})})},a.prototype.clear=function(){this.setAll([])},a.prototype.iterator=function(){return pi(this._values)},a.prototype[Symbol.iterator]=function(){var i,e;return(0,w.Jh)(this,function(t){switch(t.label){case 0:i=this._values.length,e=0,t.label=1;case 1:return e<i?[4,this._values[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return++e,[3,1];case 4:return[2]}})},a.prototype.each=function(i){j(this._values,i)},a.prototype.range=function(i,e){if(i<=e){var t=e-i;return i=Math.max(i,0),e=Math.min(i+t,this._values.length),new $o(this._values,i,e)}throw new Error("Start index must be lower than end index")},a.prototype.backwards=function(){return new $o(this._values,this._values.length,0)},a}(),Oe=function(a){function i(e){var t=a.call(this)||this;return t.template=e,t}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;I(e.iterator(),function(r){t.push(r.clone())})},i.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.push(t),t},i.prototype.clone=function(){for(var e=new i(this.template),t=this.values,r=t.length,n=0;n<r;++n)e.push(t[n].clone());return e},i}(he),Jo=function(){function a(i){this._values=[],this.events=new ti,null!=i&&this.setAll(i)}return Object.defineProperty(a.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),a.prototype._insert=function(i){return this._values.push(i),this._values.length-1},Object.defineProperty(a.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),a.prototype.indexOf=function(i){return _t(this._values,i)},a.prototype.contains=function(i){return-1!==this.indexOf(i)},a.prototype.getIndex=function(i){return this._values[i]},Object.defineProperty(a.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),a.prototype.insert=function(i){var e=this._insert(i);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:i})},a.prototype.remove=function(i){var e=this.indexOf(i);if(-1!==e){var t=this._values[e];ji(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:t})}},a.prototype.setAll=function(i){var e=this;(function nd(a,i){for(var e=a.length;e--;)i(a[e],e)})(this._values,function(t,r){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:r,oldValue:t})}),j(i,function(t){e.insert(t)})},a.prototype.clear=function(){this.setAll([])},a.prototype.slice=function(i,e){var t=new a;return t._values=this._values.slice(i,e),t},a.prototype.findClosestIndex=function(i,e,t){void 0===t&&(t="any");var n,s,r=-1,o=0;return ft(this.iterator(),function(h){var u=e(h);if("any"===t){if(u===i)return r=o,!1;var c=Math.abs(i-u);(!x(s)||s>c)&&(r=o,n=u,s=c)}else"left"===t&&u<i?(!x(n)||n<u)&&(r=o,n=u):"right"===t&&u>=i&&(!x(n)||n>=u)&&(r=o,n=u);return++o,!0}),-1===r&&("left"===t?r=0:"right"===t&&(r=this.length-1)),r},a.prototype.iterator=function(){return pi(this._values)},a.prototype[Symbol.iterator]=function(){var i,e;return(0,w.Jh)(this,function(t){switch(t.label){case 0:i=this._values.length,e=0,t.label=1;case 1:return e<i?[4,this._values[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return++e,[3,1];case 4:return[2]}})},a.prototype.each=function(i){j(this._values,i)},a}(),Kn=function(a){function i(e){var t=a.call(this)||this;return t._ordering=e,t}return(0,w.ZT)(i,a),i.prototype._insert=function(e){var t=sa(this._values,this._ordering,e).index;return Li(this._values,t,e),t},i.prototype.indexOf=function(e){var t=sa(this._values,this._ordering,e);return t.found?t.index:-1},i.prototype.update=function(e){var t=_t(this._values,e);if(-1!==t){var r=this._values.length-1;(0===t||this._ordering(this._values[t-1],e)<0)&&(t===r||this._ordering(e,this._values[t+1])<0)||(ji(this._values,t),this._insert(e))}},i}(Jo),ha=function(a){function i(e){var t=a.call(this)||this;return t.template=e,t}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;I(e.iterator(),function(r){t.insert(r.clone())})},i.prototype.slice=function(e,t){var r=new i(this.template);return r._values=this._values.slice(e,t),r},i.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},i}(Jo),Qo=function(a){function i(e,t){var r=a.call(this,t)||this;return r.template=e,r}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;I(e.iterator(),function(r){t.insert(r.clone())})},i.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},i}(Kn);function Vt(a,i){return a===i?0:a<i?-1:1}function $n(a){switch(a){case 0:return 0;case-1:return 1;case 1:return-1}}function el(a,i){return 0===a?i:a}var Jn=new(function(){function a(){this._callbackId=0,this._callbacks=new Kn(function(i,e){return el(Vt(i.priority,e.priority),Vt(i.id,e.id))})}return a.prototype.addAll=function(i,e,t,r,n){void 0===r&&(r=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:t,priority:r,scope:n,type:i})},a.prototype.isEnabled=function(i,e){return Nn(this._callbacks.values,function(t){return t.key===e&&i instanceof t.type})},a.prototype.applyAll=function(i,e,t){var r=this._callbacks.values,n=r.length;if(0==n)return t;for(var s=0;s<n;++s){var o=r[s];o.key===e&&i instanceof o.type&&(t=o.callback.call(o.scope,t,i,e))}return t},a}()),ut=function(){function a(i){this._callbackId=0,this._callbacks=new Kn(function(e,t){return el(Vt(e.priority,t.priority),Vt(e.id,t.id))}),this._disabled={},this.object=i,this.events=this._callbacks.events}return a.prototype.add=function(i,e,t,r){void 0===t&&(t=0),this._callbacks.insert({id:++this._callbackId,key:i,callback:e,priority:t,scope:r})},a.prototype.has=function(i,e,t,r){return void 0===t&&(t=0),Gn(this._callbacks.iterator(),function(n){return n.key===i&&n.callback===e&&n.priority===t&&n.scope===r})},a.prototype.remove=function(i,e){var t=this;j(fr(this._callbacks.iterator()),function(r){r.key===i&&(!y(e)||e===r.priority)&&t._callbacks.remove(r)})},a.prototype.enableKey=function(i){delete this._disabled[i]},a.prototype.disableKey=function(i,e){void 0===e&&(e=1/0),this._disabled[i]=e},a.prototype._hasListenersByType=function(i){return Nn(this._callbacks.values,function(e){return e.key===i})},a.prototype.isEnabled=function(i){return null==this._disabled[i]&&(this._hasListenersByType(i)||Jn.isEnabled(this.object,i))},a.prototype._shouldDispatch=function(i){var e=this._disabled[i];return!y(e)||(e<=1?delete this._disabled[i]:--this._disabled[i],!1)},a.prototype.apply=function(i,e){if(this._shouldDispatch(i)){var t=this._callbacks.values,r=t.length;if(r>0)for(var n=0;n<r;++n){var s=t[n];s.key===i&&(e=s.callback.call(s.scope,e,this.object,i))}return Jn.applyAll(this.object,i,e)}return e},a.prototype.keys=function(){return fr(Xo(this._callbacks.iterator(),function(i){return i.key}))},a.prototype.copyFrom=function(i){var e=this;I(i._callbacks.iterator(),function(t){e.add(t.key,t.callback,t.priority,t.scope)}),q(i._disabled,function(t,r){e._disabled[t]=r})},a.prototype.clear=function(){this._callbacks.clear()},a}(),tl={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Qn(a){return 1==a.length?"0"+a:""+a}function ua(a,i,e){return e=B(e,0,1),a?i?{r:a.r+Math.round((i.r-a.r)*e),g:a.g+Math.round((i.g-a.g)*e),b:a.b+Math.round((i.b-a.b)*e),a:(a.a||1)+Math.round(((i.a||1)-(a.a||1))*e)}:a:i||a}function ca(a,i){return Math.round((i>0?255-a:a)*i)}function il(a){var i,e,t,r=a.h,n=a.s,s=a.l;if(0==n)i=e=t=s;else{var o=function(d,p,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?d+6*(p-d)*f:f<.5?p:f<.6666666666666666?d+(p-d)*(.6666666666666666-f)*6:d},h=s<.5?s*(1+n):s+n-s*n,u=2*s-h;i=o(u,h,r+1/3),e=o(u,h,r),t=o(u,h,r-1/3)}return{r:Math.round(255*i),g:Math.round(255*e),b:Math.round(255*t)}}function da(a){var i=a.r/255,e=a.g/255,t=a.b/255,r=Math.max(i,e,t),n=Math.min(i,e,t),s=0,o=0,h=(r+n)/2;if(r===n)s=o=0;else{var u=r-n;switch(o=h>.5?u/(2-r-n):u/(r+n),r){case i:s=(e-t)/u+(e<t?6:0);break;case e:s=(t-i)/u+2;break;case t:s=(i-e)/u+4}s/=6}return{h:s,s:o,l:h}}var ue=function(){function a(i){this._value=i}return Object.defineProperty(a.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hex",{get:function(){return this._value?function Id(a){return"#"+Qn(a.r.toString(16))+Qn(a.g.toString(16))+Qn(a.b.toString(16))}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rgba",{get:function(){return this._value?function Fd(a){return x(a.a)&&1!==a.a?"rgba("+a.r+","+a.g+","+a.b+","+a.a+")":"rgb("+a.r+","+a.g+","+a.b+")"}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(i){this._value&&(this._value.a=i)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new a({r:255,g:255,b:255})),this._lightColor},set:function(i){this._lightColor=i},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new a({r:0,g:0,b:0})),this._darkColor},set:function(i){this._darkColor=i},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},a.prototype.lighten=function(i){return new a(function Vd(a,i){return a&&{r:Math.max(0,Math.min(255,a.r+ca(a.r,i))),g:Math.max(0,Math.min(255,a.g+ca(a.g,i))),b:Math.max(0,Math.min(255,a.b+ca(a.b,i))),a:a.a}}(this.rgb,i))},a.prototype.brighten=function(i){return new a(function Rd(a,i){if(a){var t=ca(Math.min(Math.max(a.r,a.g,a.b),230),i);return{r:Math.max(0,Math.min(255,Math.round(a.r+t))),g:Math.max(0,Math.min(255,Math.round(a.g+t))),b:Math.max(0,Math.min(255,Math.round(a.b+t))),a:a.a}}return a}(this.rgb,i))},a.prototype.saturate=function(i){return new a(function Ed(a,i){if(null==a||1==i)return a;var e=da(a);return e.s=i,il(e)}(this.rgb,i))},Object.defineProperty(a.prototype,"alternative",{get:function(){if(null!=this.rgb)return function Ld(a){return(299*a.r+587*a.g+114*a.b)/1e3>=128}(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),a}();function G(a,i){if(!x(a))return new ue(void 0);if("string"==typeof a){var e="_color_"+a+"_"+(i||"1"),t=C.getCache(e);if(t)return new ue({r:t.r,g:t.g,b:t.b,a:t.a});var r=function Ad(a,i){var e;return tl[a]?e=tl[a]:"#"===a.charAt(0)?e=function Od(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,r,n,s){return r+r+n+n+s+s});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:function kd(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,function(t,r,n,s,o){return r+r+n+n+s+s+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/256}:void 0}(a)}(a):a.match(/^rgba?\(/)&&(e=function Md(a){var i=(a=a.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(i)i.push("1");else if(!(i=a.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(i[1]),g:parseInt(i[2]),b:parseInt(i[3]),a:parseFloat(i[4])}}(a)),e||(e={r:0,g:0,b:0,a:1}),x(i)&&(e.a=i),e}(a,i);return C.setCache(e,r),new ue(r)}return a instanceof ue?(x(i)&&(a.alpha=i),a):new ue(a)}function Ct(a){return x(a)&&!function jd(a){return a instanceof ue}(a)?function Nd(a){return G(a)}(a):a}var tt=function(){function a(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return a.prototype.debug=function(){},Object.defineProperty(a.prototype,"uid",{get:function(){return this._uid||(this._uid=C.getUniqueId(),C.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._id},set:function(i){this._id=i},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"map",{get:function(){return this._map||(this._map=new be),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new be),this._delayedMap},enumerable:!0,configurable:!0}),a.prototype.addDelayedMap=function(i,e){var t=this.delayedMap;t.hasKey(e)||t.setKey(e,[]),t.getKey(e).push({property:i,target:this})},a.prototype.processDelayedMap=function(){var i=this;this.delayedMap.each(function(e,t){if(i.map.hasKey(e)){var r=i.map.getKey(e);j(t,function(n){n.target[n.property]=r}),i.delayedMap.removeKey(e)}})},a.prototype.applyTheme=function(){var i=this;if(C){var e=this.getCurrentThemes();e&&j(e,function(t,r){t(i)})}},Object.defineProperty(a.prototype,"themes",{get:function(){return this._themes},set:function(i){this._themes=i},enumerable:!0,configurable:!0}),a.prototype.getCurrentThemes=function(){return this.themes||C.themes},a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var i=this._disposers;for(this._disposers=null;0!==i.length;)i.shift().dispose();this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var t=this._uid;null!=t&&C.map.removeKey(t)}},a.prototype.addDisposer=function(i){this._disposers.push(i)},a.prototype.removeDispose=function(i){if(!this._disposed){var e=_t(this._disposers,i);e>-1&&this._disposers.splice(e,1)}i.dispose()},a.prototype.clone=function(i){i||(i="clone-"+C.getUniqueId());var e=new this.constructor;return e.cloneId=i,e.copyFrom(this),e},Object.defineProperty(a.prototype,"clones",{get:function(){return this._clones||(this._clones=new he),this._clones},enumerable:!0,configurable:!0}),a.prototype.copyFrom=function(i){i.clones.push(this),this.clonedFrom=i},Object.defineProperty(a.prototype,"className",{get:function(){return this._className},set:function(i){this._className=i},enumerable:!0,configurable:!0}),a.prototype.setCache=function(i,e,t){mr.set(this.uid,i,e,t)},a.prototype.getCache=function(i,e){return void 0===e&&(e=void 0),mr.get(this.uid,i,e)},a.prototype.clearCache=function(){mr.clear(this.uid)},a.prototype.setTimeout=function(i,e){var t=this,r=setTimeout(function(){t.removeDispose(n),i()},e),n=new pe(function(){clearTimeout(r)});return this._disposers.push(n),n},a.prototype.setInterval=function(i,e){var t=this,r=setInterval(function(){t.removeDispose(n),i()},e),n=new pe(function(){clearTimeout(r)});return this._disposers.push(n),n},Object.defineProperty(a.prototype,"config",{set:function(i){try{this.processConfig(i)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),a.prototype.processConfig=function(i){var e=this;if(i){var t=this;if(zt(i,function(n,s){var h,o=s;if("callback"==n&&"function"==typeof s&&s.call(t),e.hasProperty(n))if(!_e(o)||!x(o.type)||_e(t[n])&&x(t[n].className)&&!o.forceCreate&&t[n].className==o.type||e.asIs(n)?h=t[n]:(h=e.createClassInstance(o.type))?t[n]=h:h=t[n],h instanceof ut)e.processAdapters(h,o);else if(h instanceof ti)e.processEvents(h,o);else if("locale"==n&&ne(o))window["am4lang_"+o]&&(t[n]=window["am4lang_"+o]);else if("parent"==n&&ne(o)){var u=e.map.getKey(o);u?t[n]=u:e.addDelayedMap("parent",o)}else if(e.asIs(n))t[n]=o;else if(e.asFunction(n)&&ne(o)){if(!x(C.registeredClasses[o]))throw Error("Invalid easing function: "+o);t[n]=C.registeredClasses[o]}else if(o instanceof a)t[n]=o;else if(h instanceof a)h.config=o;else if(h instanceof Oe||h instanceof ha||h instanceof Qo){if(Ee(o))h instanceof Oe?e.processListTemplate(o,h):e.processOrderedTemplate(o,h);else if(_e(o))if(o instanceof a)h.template=o;else{var c;c=x(o.template)?o.template:o,h.template instanceof a?h.template.config=c:q(c,function(d,p){var f=h.template[d];f instanceof ut?e.processAdapters(f,p):f instanceof ti?e.processEvents(f,p):f instanceof gr?e.processDictionaryTemplate(f,p):h.template[d]instanceof a?h.template[d].config=p:_e(p)&&x(p.type)?(f=e.createClassInstance(p.type))?(f instanceof a&&(f.config=p),h.template[d]=f):h.template[d]=p:f instanceof he?e.processList(p,f):h.template[d]=e.maybeColorOrPercent(p)}),x(o.values)&&(h instanceof Oe?e.processListTemplate(o.values,h):e.processOrderedTemplate(o.values,h))}}else h instanceof he?"children"==n?e.processList(o,h,e):e.processList(o,h):h instanceof gr?e.processDictionaryTemplate(h,o):h instanceof be?e.processDictionary(h,o):h instanceof ue||h instanceof ae?t[n]=e.maybeColorOrPercent(o):_e(h)&&_e(o)?pr(o,h):(o=e.maybeColorOrPercent(o),t[n]=o);else e.isReserved(n)||(t[n]=o)},this.configOrder),this.processingErrors.length){var r=this.processingErrors.join("\n");throw this._processingErrors=[],Error(r)}}},a.prototype.maybeColorOrPercent=function(i){if(ne(i)){if(i.match(/^[\-]?[0-9.]+\%$/))return R(ve(i));if(i.match(/^\#[0-9abcdef]{3,}$/i))return G(i)}return i},a.prototype.processAdapters=function(i,e){var t=this;Ee(e)?j(e,function(r,n){i.add(r.key,r.callback,r.priority||0,t)}):_e(e)&&q(e,function(r,n){i.has(r,n)||i.add(r,n)})},a.prototype.processEvents=function(i,e){var t=this;Ee(e)?j(e,function(r,n){i.on(r.type,r.callback,t)}):_e(e)&&q(e,function(r,n){i.has(r,n)||i.on(r,n)})},a.prototype.processDictionaryTemplate=function(i,e){_e(e)&&q(e,function(t,r){var n;(n="template"==t?i.template:i.hasKey(t)?i.getKey(t):i.create(t))instanceof a?n.config=r:_e(n)&&_e(r)?pr(r,n):n.setKey(t,r)})},a.prototype.processDictionary=function(i,e){_e(e)&&q(e,function(t,r){i.setKey(t,r)})},a.prototype.processListTemplate=function(i,e){var t=this;for(j(i,function(r,n){var o,s=t.getConfigEntryType(r);if(e.hasIndex(n)&&!r.forceCreate)o=e.getIndex(n);else{if(r instanceof a)return void e.push(r);o=s?e.create(s):e.create()}r===o||_e(r)&&(o instanceof a?o.config=r:_e(o)&&_e(r)?pr(r,o):e.setIndex(e.indexOf(o),r))});i.length>e.length;)e.pop()},a.prototype.processOrderedTemplate=function(i,e){var t=this;j(i,function(r,n){var o,s=t.getConfigEntryType(r);o=s?e.create(s):e.create(),_e(r)&&(o instanceof a?o.config=r:_e(o)&&_e(r)?pr(r,o):e.insert(r))})},a.prototype.processList=function(i,e,t){var r=this;Ee(i)||(i=[i]);var n=e.length,s=0;for(j(i,function(o,h){if(_e(o)){var u=void 0;if(h<n&&!o.forceCreate)u=e.getIndex(h);else{if(o instanceof a)return void e.push(o);s++,u=r.createEntryInstance(o),t?u.parent=t:e.push(u)}u instanceof a?u.config=o:_e(u)&&_e(o)&&pr(o,u)}else e.hasIndex(h)?e.setIndex(h,o):e.push(o)});!t&&i.length+s<e.length;)e.pop()},a.prototype.configOrder=function(i,e){return i==e?0:"language"==i?-1:"language"==e?1:0},a.prototype.asIs=function(i){return-1!=_t(["locale"],i)},a.prototype.asFunction=function(i){return!1},a.prototype.createClassInstance=function(i){if(x(C.registeredClasses[i]))return new C.registeredClasses[i];throw Error('Invalid type: "'+i+'".')},a.prototype.createEntryInstance=function(i){var e;return x(i.type)&&(e=this.createClassInstance(i.type)),e||i},a.prototype.getConfigEntryType=function(i){if(x(i.type)){if(x(C.registeredClasses[i.type]))return C.registeredClasses[i.type];throw Error('Invalid type: "'+i.type+'".')}},a.prototype.hasProperty=function(i){return i in this},a.prototype.isReserved=function(i){return-1!==["type","forceCreate"].indexOf(i)},Object.defineProperty(a.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),a}(),Rt=function(a){function i(){var e=a.call(this)||this;return e.className="BaseObjectEvents",e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new ti,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),i.prototype.dispatch=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},i.prototype.dispatchImmediately=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatchImmediately(e,t)):this.events.dispatchImmediately(e,{type:e,target:this}))},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},i}(tt),pa="number",fa="date",es="duration",gt="__\xa7\xa7\xa7__",Bi="__\xa7\xa7\xa7\xa7__";function Gt(a,i){return q(a,function(e,t){x(t)&&(i[e]=t)}),i}function al(a){return/^[^#]*/.exec(a)[0]}function yr(){var a="#";if(function Bd(){return/apple/i.test(navigator.vendor)}()){var i=document.baseURI;if(i){i=al(i);var e=al(location.href);i!==e&&(a=e+a)}}return a}function ga(a){return x(a)&&""!==a.toString()}function we(a,i){return y(a)?a:null!=a&&y(a.value)&&y(i)?i*a.value:0}function ze(a,i,e){var t;return y(a)?(t=a)<0&&(t=e?i+t:i-t):null!=a&&y(a.value)&&(t=i*a.value),t}function ma(a){var i=a.split("");return i[0]=i[0].toUpperCase(),i.join("")}function nl(a){return JSON.stringify(a)}function ts(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function is(a,i,e,t,r){if(a.length<=i)return[a];var n=[];if(e){for(var s=-1,h=a.replace(/([,;:!?\\\/]+|[\s])/g,gt+"$1"+gt).split(gt),u=1;u<h.length;u++)("."==(c=h[u])||","==c)&&h[u-1].match(/[\w]+$/)&&(h[u-1]+=c,h[u]="");for(u=0;u<h.length;u++){var c,d=(c=h[u]).length;if(0!==d){if(d>i&&(!0!==e||0!=r)){if(t&&(c=as(c)),p=c.match(new RegExp(".{1,"+i+"}","g"))){if(t)for(var f=0;f<p.length;f++)p[f]=as(p[f]);n=n.concat(p)}}else-1===s&&(n.push(""),s=0),n[s].length+d+1>i&&""!==n[s]&&(n.push(""),s++),n[s]+=c;s=n.length-1}}}else{var p;if(p=a.match(new RegExp(".{1,"+i+"}","g"))){if(t)for(f=0;f<p.length;f++)t||(p[f]=as(p[f]));n=p}}return 1==n.length&&e&&r&&n[0].length>i&&(n=[]),n}function rs(a,i,e,t,r){return a.length<=i?a:((i-=e.length)<1&&(i=1),(is(a,i,t,r)[0]||"")+e)}function sl(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Ud(a){return a.replace(/[\s\uFEFF\xA0]+$/g,"")}function Wd(a){return a.replace(/^[\s\uFEFF\xA0]+/g,"")}function as(a){return a.split("").reverse().join("")}function Qe(a,i,e){return void 0===i&&(i=0),void 0===e&&(e="0"),"string"!=typeof a&&(a=a.toString()),i>a.length?Array(i-a.length+1).join(e)+a:a}function va(a){return a.replace(/\/(date|number|duration)$/i,"")}function ol(a){return a&&a.replace(/<[^>]*>/g,"")}function ns(a){return a&&ol((""+a).replace(/[\n\r]+/g,". "))}function ll(a){if(nr(a)){var i=new Date(a);return i.setMilliseconds(a.getMilliseconds()),i}if(y(a))return new Date(a);var e=Number(a);return y(e)?new Date(e):new Date(a)}function ss(a){if(nr(a))return a.getTime();if(y(a))return a;if(ne(a)){var i=Number(a);return y(i)?i:void 0}}function hl(a,i){void 0===i&&(i=!1);var e=new Date(a.getFullYear(),0,0),t=a.getTime()-e.getTime()+60*(e.getTimezoneOffset()-a.getTimezoneOffset())*1e3;return Math.floor(t/864e5)}function br(a,i){void 0===i&&(i=!1);var e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function Xd(a,i){void 0===i&&(i=!1);var e=br(new Date(a.getFullYear(),a.getMonth(),1),i),t=br(a,i);return 1==t&&(t=53),t-e+1}function ya(a,i){return a>12?a-=12:0===a&&(a=12),x(i)?a+(i-1):a}function ba(a,i,e,t){if(void 0===i&&(i=!1),void 0===e&&(e=!1),void 0===t&&(t=!1),t)return i?"Coordinated Universal Time":"UTC";var r=a.toLocaleString("UTC"),n=a.toLocaleString("UTC",{timeZoneName:i?"long":"short"}).substr(r.length);return!1===e&&(n=n.replace(/ (standard|daylight|summer|winter) /i," ")),n}function os(a,i,e){return a>e?e:a<i?i:a}function ls(a,i,e){var t=e-i;return(a>e||a<i)&&(a=i+(a-t*Math.floor(a/t))),a}function mt(a,i){var e=a.x,t=a.y,r=[];if(i){for(;x(i.parent);)r.push(i),i=i.parent;r.reverse();for(var n=0;n<r.length;n++){var s=r[n],o=s.rotation,h=e-s.pixelX-s.ex,u=t-s.pixelY-s.ey;s.dx&&(e-=s.dx),s.dy&&(t-=s.dy);var c=s.scale;s.group&&(c=s.group.scale),e=(L(-o)*h-E(-o)*u)/c-s.pixelPaddingLeft,t=(L(-o)*u+E(-o)*h)/c-s.pixelPaddingTop}}return{x:e,y:t}}function wt(a,i){var e=a.x,t=a.y;if(i)for(;x(i.parent);){var r=i.rotation;t+=i.pixelPaddingTop+i.ey;var n=i.scale;i.group&&(n=i.group.scale);var s=i.pixelX+((e+=i.pixelPaddingLeft+i.ex)*L(r)-t*E(r))*n,o=i.pixelY+(e*E(r)+t*L(r))*n;i.dx&&(s+=i.dx),i.dy&&(o+=i.dy),e=s,t=o,i=i.parent}return{x:e,y:t}}function ht(a,i,e){return mt(wt(a,i),e)}function hs(a,i){var e=wt(a,i),t=wt({x:a.x+a.width,y:a.y+a.height},i);return{x:e.x,y:e.y,width:t.x-e.x,height:t.y-e.y}}function ii(a,i,e){try{var t=i.getBoundingClientRect();return y(e)||(e=1),{x:(a.x-t.left)/e,y:(a.y-t.top)/e}}catch{return a}}function ul(a,i){try{var e=i.getBoundingClientRect();return{x:a.x+e.left,y:a.y+e.top}}catch{return a}}function Zi(a,i){return i&&i.htmlContainer?mt(ii(a,Ce(i.htmlContainer),i.svgContainer.cssScale),i):a}function us(a,i){return i&&i.htmlContainer?ul(wt(a,i),Ce(i.htmlContainer)):a}var Qd=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function cl(a){var i=Qd.exec(a);return{protocol:i&&i[1]||"",separator:i&&i[2]||"",authority:i&&i[3]||"",domain:i&&i[4]||"",port:i&&i[5]||"",path:i&&i[6]||"",query:i&&i[7]||"",hash:i&&i[8]||""}}function dl(a){return a.protocol+a.separator+a.authority+a.domain+a.port+a.path+a.query+a.hash}function pl(a){return""===a.protocol&&""===a.separator&&""===a.authority&&""===a.domain&&""===a.port}function cs(a,i){var e=cl(a),t=cl(i);if(pl(e))throw new Error("Left URL is not absolute");if(pl(t)){if(""!==t.path)if("/"===t.path[0])e.path=t.path;else{var r=e.path.split(/\//),n=t.path.split(/\//);if(0===r.length?0!==n.length&&r.push(""):r.length>1&&r.pop(),function ld(a,i){for(var e=i.length,t=0;t<e;++t)a.push(i[t])}(r,n),e.path=r.join("/"),""!==e.path&&"/"!==e.path[0])throw new Error("URL path must start with /")}return e.query=t.query,e.hash=t.hash,dl(e)}return dl(t)}function _r(){return!!window.MSInputMethodContext&&!!document.documentMode}function fl(a){return+a}function gl(a,i){return Math.pow(a,i)}function ml(a,i){return 1-Math.pow(1-a,i)}function vl(a,i){return((a*=2)<=1?Math.pow(a,i):2-Math.pow(2-a,i))/2}function ds(a){return ml(a,3)}function yl(a){return Math.sin(a*Vo)}function bl(a){return a*a*a}function mi(a){return--a*a*a+1}C.registeredClasses["ease.linear"]=fl,C.registeredClasses["ease.quadIn"]=function ep(a){return a*a},C.registeredClasses["ease.quadOut"]=function tp(a){return a*(2-a)},C.registeredClasses["ease.quadInOut"]=function ip(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2},C.registeredClasses["ease.polyIn"]=gl,C.registeredClasses["ease.polyOut"]=ml,C.registeredClasses["ease.polyInOut"]=vl,C.registeredClasses["ease.polyIn3"]=function rp(a){return gl(a,3)},C.registeredClasses["ease.polyOut3"]=ds,C.registeredClasses["ease.polyInOut3"]=function ap(a){return vl(a,3)},C.registeredClasses["ease.expIn"]=function np(a){return Math.pow(2,10*a-10)},C.registeredClasses["ease.expOut"]=function sp(a){return 1-Math.pow(2,-10*a)},C.registeredClasses["ease.expInOut"]=function op(a){return((a*=2)<=1?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2},C.registeredClasses["ease.sinIn"]=function lp(a){return 1-Math.cos(a*Vo)},C.registeredClasses["ease.sinOut"]=yl,C.registeredClasses["ease.sinInOut"]=function hp(a){return(1-Math.cos(ta*a))/2},C.registeredClasses["ease.cubicIn"]=bl,C.registeredClasses["ease.cubicOut"]=mi,C.registeredClasses["ease.cubicInOut"]=function up(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2},C.registeredClasses["ease.circleIn"]=function cp(a){return 1-Math.sqrt(1-a*a)},C.registeredClasses["ease.circleOut"]=function dp(a){return Math.sqrt(1- --a*a)},C.registeredClasses["ease.circleInOut"]=function pp(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2};var ps=4/11,_a=7.5625;function xa(a){return(a=+a)<ps?_a*a*a:a<.7272727272727273?_a*(a-=.5454545454545454)*a+.75:a<.9090909090909091?_a*(a-=.8181818181818182)*a+.9375:_a*(a-=.9545454545454546)*a+.984375}C.registeredClasses["ease.bounceIn"]=function Cp(a){return 1-xa(1-a)},C.registeredClasses["ease.bounceOut"]=xa,C.registeredClasses["ease.bounceInOut"]=function wp(a){return((a*=2)<=1?1-xa(1-a):xa(a-1)+1)/2};var Cr=.3/(2*Math.PI),Ca=Math.asin(1)*Cr;C.registeredClasses["ease.elasticIn"]=function Dp(a){return 1*Math.pow(2,10*--a)*Math.sin((Ca-a)/Cr)},C.registeredClasses["ease.elasticOut"]=function Sp(a){return 1-1*Math.pow(2,-10*(a=+a))*Math.sin((a+Ca)/Cr)},C.registeredClasses["ease.elasticInOut"]=function Tp(a){return((a=2*a-1)<0?1*Math.pow(2,10*a)*Math.sin((Ca-a)/Cr):2-1*Math.pow(2,-10*a)*Math.sin((Ca+a)/Cr))/2};var wa=function(a){function i(){var e=a.call(this)||this;return e.transitionDuration=0,e.transitionEasing=mi,e.properties={},e.propertyFields={},e.filters=new he,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new ye(e.filters)),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new ut(this),this._adapterO.events.on("inserted",function(t){e[t.newValue.key]=e[t.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(t){e[t.newValue.key]=e[t.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),i.prototype.getPropertyValue=function(e){var t=this.properties[e],r=this.sprite;if(r){var n=this.propertyFields[e];if(x(n)&&(r.dataItem&&(t=r.dataItem.dataContext[n]),null==t&&(t="__unset")),x(t))this._adapterO&&(t=this._adapterO.apply(e,t));else{var s=r.getPropertyValue(e);(t=this._adapterO?this._adapterO.apply(e,s):s)==s&&(t=void 0)}}return t},i.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,Gt(e.properties,this.properties),Gt(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(i.prototype,"allValues",{get:function(){var e=this,t={};return q(this.properties,function(s,o){t[s]=e.getPropertyValue(s)}),this._adapterO&&q(this._adapterO.keys(),function(s,o){var h=e.getPropertyValue(o);t[o]=h}),q(this.propertyFields,function(s){var o=e.getPropertyValue(s);t[s]=o}),t},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.properties={},this.filters.clear()},i.prototype.processConfig=function(e){x(e)&&x(e.properties)&&q(e.properties,function(t,r){ne(r)&&(r.match(/^[0-9.\-]+\%$/)?e.properties[t]=R(ve(r)):r.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[t]=Ct(r)))}),a.prototype.processConfig.call(this,e)},i.prototype.asFunction=function(e){return"transitionEasing"==e||a.prototype.asIs.call(this,e)},i}(tt);C.registeredClasses.SpriteState=wa;var Ap=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e._interactionEvents=new be,e}return(0,w.ZT)(i,a),i.prototype._dispatchSpriteEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=zn(e,{target:this.target});this.target.events.dispatchImmediately(t.type,t)}},i.prototype._dispatchSpritePointEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=zn(e,{target:this.target,spritePoint:e.point?Zi(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(t.type,t)}},i.prototype._addInteractionObjectEvent=function(e,t,r,n){var s=this,o=n+"-"+e;return this._interactionEvents.insertKeyIfEmpty(o,function(){var u=s.target.interactions.events.on(e,t,r,n);return new oa(function(){s._interactionEvents.removeKey(o),u.dispose()})}).increment()},i.prototype._on=function(e,t,r,n,s,o){var h=a.prototype._on.call(this,e,t,r,n,s,o),u=[h.disposer];switch(t){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":u.push(this._addInteractionObjectEvent(t,this._dispatchSpritePointEvent,this,s));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":u.push(this._addInteractionObjectEvent(t,this._dispatchSpriteEvent,this,s))}switch(t){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0}return h.disposer=new Pe(u),h},i}(Wo),Op=function(){function a(){}return a.opacity=1,a.strokeOpacity=1,a.strokeWidth=1,a.fillOpacity=1,a.fill=G("#000000"),a.stroke=G("#000000"),a.focusable=void 0,a.tabindex=0,a}(),ie={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function _l(a,i,e){return i+(e-i)*a}function kp(a,i,e){return new ae(_l(a,i.percent,e.percent))}function Mp(a,i,e){var t=new ue(ua(i.rgb,e.rgb,a));return i.alpha!=e.alpha&&(t.alpha=i.alpha+(e.alpha-i.alpha)*a),t}function xl(a,i){return i+a.charAt(0).toUpperCase()+a.substr(1)}var bs,Hi=function(){function a(i){this._disposer=new pe(function(){for(;0!==i.length;)i[0].dispose()})}return a.prototype.isDisposed=function(){return this._disposer.isDisposed()},a.prototype.dispose=function(){this._disposer.dispose()},a}(),Tt=function(a){function i(e,t,r,n){var s=a.call(this)||this;return s.duration=0,s.easing=fl,s.progress=0,s._loop=0,s._pause=!1,s._delayTimeout=null,s._time=0,s._isFinished=!1,s.className="Animation",!1===ie.animationsEnabled&&(r=0),s.object=e,s.animationOptions=Zo(t),s.duration=r,n&&(s.easing=n),s.applyTheme(),s}return(0,w.ZT)(i,a),i.prototype.debug=function(){},i.prototype.dispose=function(){a.prototype.dispose.call(this),this.pause()},i.prototype.delay=function(e){var t=this;if(e>0){this.pause(),xt(this.object.animations,this);var r=setTimeout(function(){t._delayTimeout=null,t.start()},e);this._delayTimeout=new pe(function(){clearTimeout(r)})}return this},i.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,xt(re.animations,this),xt(this.object.animations,this),re.requestFrame()},i.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var t=this.animationOptions[e];if(x(t.from)||(t.childObject?t.from=t.childObject[t.property]:(t.from=this.object[t.property],x(t.from)||(t.from=Op[t.property]))),t.from==t.to)$(this.animationOptions,t);else if(!x(t.from)||!(t.from instanceof ae)&&t.to instanceof ae||t.from instanceof ae&&!(t.to instanceof ae))this.staticOptions.push(t),$(this.animationOptions,t);else if(y(t.to))if(t.updateMethod=_l,t.from instanceof ae){var r=this.object[xl(t.property,"pixel")];isNaN(r)?(this.staticOptions.push(t),$(this.animationOptions,t)):t.from=r}else isNaN(t.from)&&(this.staticOptions.push(t),$(this.animationOptions,t));else t.to instanceof ue?t.from?t.updateMethod=Mp:(this.staticOptions.push(t),$(this.animationOptions,t)):t.to instanceof ae?(t.updateMethod=kp,isNaN(t.from)||(r=this.object[xl(t.property,"relative")],isNaN(r)||(t.from=R(100*r)))):(this.staticOptions.push(t),$(this.animationOptions,t))}return this.applyStaticOptions(),this.events.isEnabled("animationstarted")&&this.events.dispatchImmediately("animationstarted",{type:"animationstarted",target:this,progress:this.progress}),this.update(),0===this.duration&&this.end(),this},i.prototype.loop=function(e){return y(e)||(e=1/0),this._loop=e,this},i.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),$(re.animations,this),$(this.object.animations,this),this},i.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},i.prototype.end=function(){return 0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")&&this.events.dispatchImmediately("animationended",{type:"animationended",target:this,progress:this.progress}),this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},i.prototype.kill=function(){this.pause(),this._isFinished=!0},i.prototype.isFinished=function(){return this._isFinished},i.prototype.applyStaticOptions=function(){var e=this;j(this.staticOptions,function(t){t.childObject?t.childObject[t.property]=1==e.progress?t.to:t.from:e.object[t.property]=1==e.progress?t.to:t.from})},i.prototype.stop=function(e){return this.pause(),!e&&this.events.isEnabled("animationstopped")&&this.events.dispatchImmediately("animationstopped",{type:"animationstopped",target:this,progress:this.progress}),this},i.prototype.setProgress=function(e){var t=this;this._time=this.duration*e,j(this.animationOptions,function(n){if(n.updateMethod&&x(n.from)){var s=n.updateMethod(e,n.from,n.to);n.childObject?n.childObject[n.property]=s:t.object[n.property]=s}}),this.progress=e,this.events.isEnabled("animationprogress")&&this.events.dispatchImmediately("animationprogress",{type:"animationprogress",target:this,progress:this.progress}),re.requestFrame()},i.prototype.update=function(){if(!this._pause){var e=void 0;this._time=B(Date.now()-this._startTime,0,this.duration);var t=this._time/this.duration;e=this.easing(t),(0==this.duration||!y(e)||t>=1)&&(e=1),this.setProgress(e),1==F(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(i.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),i.prototype.stopSameAnimations=function(){var e=this;j(ur(this.object.animations),function(t){if(t!==e&&!t.delayed){var r=[];j(e.animationOptions,function(n){j(t.animationOptions,function(s){n.property==s.property&&n.childObject==s.childObject&&(r.push(s),0==t.animationOptions.length&&t.kill())})}),j(r,function(n){$(t.animationOptions,n)})}})},i.prototype.asFunction=function(e){return"easing"==e||a.prototype.asIs.call(this,e)},i}(Rt),Yi="http://www.w3.org/2000/svg",Cl="http://www.w3.org/2000/xmlns/",fs="http://www.w3.org/1999/xlink";function De(a,i,e,t){return a.addEventListener(i,e,t||!1),new pe(function(){a.removeEventListener(i,e,t||!1)})}function wl(a){if(ne(a)){var i=document.getElementById(a);if(null==i&&(i=document.getElementsByClassName(a)[0]),i instanceof HTMLElement)return i}else if(a instanceof HTMLElement)return a}function gs(a,i){if(a)if(a.classList)j(i.split(" "),function(r){a.classList.add(r)});else{var t=a.getAttribute("class");a.setAttribute("class",t?t.split(" ").filter(function(r){return r!==i}).join(" ")+" "+i:i)}}function ms(a,i){if(a)if(a.classList)a.classList.remove(i);else{var e=a.getAttribute("class");e&&a.setAttribute("class",e.split(" ").filter(function(t){return t!==i}).join(" "))}}function Pl(a,i,e){a.style[i]=e}function vs(a,i){return a.currentStyle?a.currentStyle[i]:document.defaultView.getComputedStyle(a,null).getPropertyValue(i)}function Pa(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var a=document.createElement("button");a.style.position="fixed",a.style.top="0px",a.style.left="-10000px",document.body.appendChild(a),a.focus(),a.blur(),document.body.removeChild(a)}}function Dl(a,i){for(var e=i;;){if(a===e)return!0;if(null==e.parentNode){if(null==e.host)return!1;e=e.host}else e=e.parentNode}}function ys(a){for(var i=a;;){if(null==i.parentNode)return null!=i.host?i:null;i=i.parentNode}}function Sl(a){for(var i=a.ownerDocument,e=a;;){if(null==e.parentNode)return e===i||null!=e.host?e:null;e=e.parentNode}}var ge=function(a){function i(e,t,r){var n=this,s=function Vp(a){return null==a?(x(bs)||((i=document.createElement("style")).type="text/css",""!=ie.nonce&&i.setAttribute("nonce",ie.nonce),document.head.appendChild(i),bs=i.sheet),bs):((i=document.createElement("style")).type="text/css",""!=ie.nonce&&i.setAttribute("nonce",ie.nonce),a.appendChild(i),i.sheet);var i}(e);return(n=a.call(this,function(){var o=_t(s.cssRules,n._rule);if(-1===o)throw new Error("Could not dispose StyleRule");s.deleteRule(o)})||this)._rule=function Rp(a,i){var e=a.cssRules.length;return a.insertRule(i+"{}",e),a.cssRules[e]}(s,t),q(r,function(o,h){n.setStyle(o,h)}),n}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),i.prototype._setVendorPrefixName=function(e,t){var r=this._rule.style;r.setProperty("-webkit-"+e,t,""),r.setProperty("-moz-"+e,t,""),r.setProperty("-ms-"+e,t,""),r.setProperty("-o-"+e,t,""),r.setProperty(e,t,"")},i.prototype.setStyle=function(e,t){"transition"===e?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")},i}(pe),Ep=0;function Da(a){var i=vs(a,"font-family");if(i)return i;var e=a.parentElement||a.parentNode;return e?Da(e):void 0}function Sa(a){var i=vs(a,"font-size");if(i)return i;var e=a.parentElement||a.parentNode;return e?Sa(e):void 0}function _s(a,i){var e=a.getBoundingClientRect(),t=Ee(i)?i:i?[i]:[];if(t.length){for(var r=0;r<t.length;r++){var n=t[r];if(!_s(n))return!1;var s=n.getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.top<=s.top+s.height&&e.left<=s.left+s.width)return!0}return!1}return e.top>=0&&e.left>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}!function(a){function i(e,t,r){var n=this,s=x(r)?r:"__style_"+ ++Ep+"__";return(n=a.call(this,e,"."+s,t)||this)._className=s,n}(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),i.prototype.toString=function(){return this._className}}(ge);var Ta=function(){function a(i){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof i?document.createElementNS(Yi,i):i}return a.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(a.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),a.prototype.transform=function(){var i="translate("+this._x+","+this._y+")";if(1!=this._scale&&(i+=(i?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),i+=(i?" ":"")+e}this._transformString=i,this.node.setAttribute("transform",i)},a.prototype.getBBox=function(){var i={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height}catch{}return i},a.prototype.moveTo=function(i){if(i){var e=i.x,t=i.y;(this._x!=e||this._y!=t)&&(this._x=e,this._y=t,this.transform())}},Object.defineProperty(a.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(i){this.node.innerHTML=i},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(i){this.node.textContent=i},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this._x},set:function(i){this._x!=i&&(this._x=i,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this._y},set:function(i){this._y!=i&&(this._y=i,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotation",{get:function(){return this._rotation},set:function(i){this._rotation!=i&&(this._rotation=i,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotationX",{get:function(){return this._rotationX},set:function(i){this._rotationX!=i&&(this._rotationX=i,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotationY",{get:function(){return this._rotationY},set:function(i){this._rotationY!=i&&(this._rotationY=i,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scale",{get:function(){return this._scale},set:function(i){this._scale!=i&&(this._scale=i,this.transform())},enumerable:!0,configurable:!0}),a.prototype.removeAttr=function(i){this.node.removeAttribute(i)},a.prototype.attr=function(i){var e=this;return q(i,function(t,r){x(r)?e.node.setAttribute(t,r):e.node.removeAttribute(t)}),this},a.prototype.getAttr=function(i){return this.node.getAttribute(i)},a.prototype.attrNS=function(i,e,t){return this.node.setAttributeNS(i,e,t),this},a.prototype.getAttrNS=function(i,e){return this.node.getAttributeNS(i,e)},a.prototype.removeStyle=function(i){this.node.style[i]=null,delete this.node.style[i]},a.prototype.getStyle=function(i){return this.node.style[i]},a.prototype.addStyle=function(i){var e=this;return q(i,function(t,r){x(r)?e.node.style[t]=r:e.removeStyle(t)}),this},a.prototype.addClass=function(i){gs(this.node,i)},a.prototype.removeClass=function(i){ms(this.node,i)},a.prototype.setClass=function(i){this.node.setAttribute("class",i)},a.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},a.prototype.isDisposed=function(){return this._isDisposed},a.prototype.dispose=function(){this.removeNode()},a}(),jp=function(a){function i(e){return a.call(this,e)||this}return(0,w.ZT)(i,a),i.prototype.add=function(e){e&&this.node.appendChild(e.node)},i.prototype.addToBack=function(e){if(e){var t=this.node.childNodes[0];t?t!=e.node&&this.node.insertBefore(e.node,t):this.node.appendChild(e.node)}},i.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch{}},i.prototype.hasChild=function(e){for(var t=0;t<this.node.childNodes.length;t++)if(this.node.childNodes[t]==e.node)return!0;return!1},Object.defineProperty(i.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),i.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},i.prototype.removeChildrenByTag=function(e){if(this.node.childNodes)for(var t=this.node.getElementsByTagName(e),r=0;r<t.length;r++)this.node.removeChild(t[r])},i}(Ta),ce=function(a){function i(){var e=a.call(this)||this;return e._purposes={stroke:G("#e5e5e5"),fill:G("#f3f3f3"),primaryButton:G("#6794dc"),primaryButtonHover:G("#6771dc"),primaryButtonDown:G("#68dc75"),primaryButtonActive:G("#68dc75"),primaryButtonText:G("#FFFFFF"),primaryButtonStroke:G("#FFFFFF"),secondaryButton:G("#d9d9d9"),secondaryButtonHover:G("#d9d9d9").brighten(-.25),secondaryButtonDown:G("#d9d9d9").brighten(-.35),secondaryButtonActive:G("#d9d9d9").brighten(.35),secondaryButtonText:G("#000000"),secondaryButtonStroke:G("#FFFFFF"),grid:G("#000000"),background:G("#ffffff"),alternativeBackground:G("#000000"),text:G("#000000"),alternativeText:G("#FFFFFF"),disabledBackground:G("#999999"),positive:G("#67dc75"),negative:G("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.debug=function(){},i.prototype.getFor=function(e){return this._purposes[e]},i.prototype.setFor=function(e,t){this._purposes[e]=t},i}(tt);C.registeredClasses.InterfaceColorSet=ce;var Tl=new be,Bp=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e._domEvents={},e}return(0,w.ZT)(i,a),i.prototype._addDOMEvent=function(e,t,r,n){var s=this;if(!this._domEvents[e]){var o=function(h){r.call(n,t,h)};this.target.element.addEventListener(e,o,!1),this._domEvents[e]=new oa(function(){delete s._domEvents[e],s.target.element.removeEventListener(e,o,!1)})}return this._domEvents[e].increment()},i.prototype._dispatchKeyboardEvent=function(e,t){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:t})},i.prototype._on=function(e,t,r,n,s,o){var h=a.prototype._on.call(this,e,t,r,n,s,o),u=[h.disposer];switch(t){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":u.push(this._addDOMEvent(t,t,this._dispatchKeyboardEvent,this))}return h.disposer=new Pe(u),h},i}(Wo),Zp=function(a){function i(e){var t=a.call(this)||this;return t._eventDispatcher=new Bp(t),t.eventDisposers=new be,t.replacedStyles=new be,t._clickable=!1,t._contextMenuDisabled=!1,t._hoverable=!1,t._trackable=!1,t._draggable=!1,t._swipeable=!1,t._resizable=!1,t._wheelable=!1,t._inert=!1,t._isHover=!1,t.isRealHover=!1,t._isHoverByTouch=!1,t._isDown=!1,t._isFocused=!1,t._isTouchProtected=!1,t._inertiaOptions=new be,t.inertias=new be,t._hitOptions={},t._hoverOptions={},t._swipeOptions={},t._keyboardOptions={},t._mouseOptions={},t._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},t._disposers.push(t._eventDispatcher),t._element=e,t.className="InteractionObject",t._disposers.push(new gi(t.inertias)),t._disposers.push(new gi(t.eventDisposers)),t.applyTheme(),t}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?J().overObjects.moveValue(this):(this.isRealHover=!1,J().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new he),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?J().downObjects.moveValue(this):J().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new he),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,J().focusedObject=e?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?J().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&J().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,J().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,J().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,J().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,J().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,J().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,J().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,J().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,J().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&-1==this.tabindex&&(this._tabindex=1),J().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabindex",{get:function(){return Rn(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),J().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"originalScale",{get:function(){return Rn(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"originalAngle",{get:function(){return Rn(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,J().applyCursorOverStyle(this)},i.prototype.setEventDisposer=function(e,t,r){var n=this.eventDisposers.getKey(e);t?null==n&&this.eventDisposers.setKey(e,r()):null!=n&&(n.dispose(),this.eventDisposers.removeKey(e))},i.prototype.dispose=function(){a.prototype.dispose.call(this);var e=J();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},i}(Rt),Hp=function(){function a(i,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=i,this.keyboardEvent=e,this._startedOn=(new Date).getTime(),J().processDragStart(i),re.animations.push(this),this.update()}return a.prototype.update=function(){var i=this.interaction,e=J().getKeyboardOption(i,"speed"),t=J().getKeyboardOption(i,"accelleration"),r=J().getKeyboardOption(i,"accellerationDelay"),n={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,t=1):this.keyboardEvent.ctrlKey&&(e*=2);var s=(new Date).getTime()-this._startedOn,o=s-r;if(t>0&&o>0){var h=s/r;s=r,n.x+=this.directionX*(e*t*h*o),n.y+=this.directionY*(e*t*h*o)}n.x+=this.directionX*(e*s),n.y+=this.directionY*(e*s),J().handleTransformMove(i,n,{x:0,y:0},this.keyboardEvent,!0,!1)},a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){this._disposed||(J().processDragStop(this.interaction),$(re.animations,this))},a}(),Yp=function(a){function i(e,t,r,n){var s=a.call(this)||this;return s.animations=[],s.className="Inertia",s.interaction=e,s.type=t,s.point=r,s.startPoint=n,s._disposers.push(new Hi(s.animations)),s}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"x",{get:function(){return this.point.x},set:function(e){y(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.point.y},set:function(e){y(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),i.prototype.handleMove=function(){this.interaction.events.isEnabled("drag")&&this.interaction.events.dispatchImmediately("drag",{type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1})},i.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&J().processDragStop(this.interaction),this.dispose()},i}(tt),Et=new(function(){function a(){}return a.prototype.getEventKey=function(i){var t;switch(i.keyCode||i.which){case 38:t="up";break;case 40:t="down";break;case 37:t="left";break;case 39:t="right";break;case 13:t="enter";break;case 27:t="esc";break;case 36:case 36:t="home";break;case 35:case 35:t="end";break;case 9:t="tab";break;case 17:t="ctrl";break;case 18:t="alt";break;case 16:t="shift";break;case 32:t="space";break;case 33:t="pgup";break;case 34:t="pgdn";break;case 45:t="ins";break;case 46:t="del";break;case 107:t="plus";break;case 109:t="minus";break;default:t="other"}return t},a.prototype.isKey=function(i,e){var t=this.getEventKey(i);return ne(e)&&(e=[e]),-1!==e.indexOf(t)},a.prototype.shiftKey=function(i){return i.shiftKey},a.prototype.ctrlKey=function(i){return i.ctrlKey},a.prototype.altKey=function(i){return i.altKey},a.prototype.metaKey=function(i){return i.metaKey},a}()),Wp={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function Al(a){switch(a){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function ke(a,i){return x(i)||(i=1),Wp[a]*i}function Lt(){return function zp(){return new Date}().getTime()}function Ui(a){return new Date(a.getTime())}function xs(a,i,e,t){a=new Date(a.getTime()),i=new Date(i.getTime());var r=0,n=0;!t&&"millisecond"!=e&&(r=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-r),n=i.getTimezoneOffset(),i.setUTCMinutes(i.getUTCMinutes()-n));var s=!1;switch(e){case"year":a.getUTCFullYear()!=i.getUTCFullYear()&&(s=!0);break;case"month":(a.getUTCFullYear()!=i.getUTCFullYear()||a.getUTCMonth()!=i.getUTCMonth())&&(s=!0);break;case"day":(a.getUTCMonth()!=i.getUTCMonth()||a.getUTCDate()!=i.getUTCDate())&&(s=!0);break;case"hour":a.getUTCHours()!=i.getUTCHours()&&(s=!0);break;case"minute":a.getUTCMinutes()!=i.getUTCMinutes()&&(s=!0);break;case"second":a.getUTCSeconds()!=i.getUTCSeconds()&&(s=!0);break;case"millisecond":a.getTime()!=i.getTime()&&(s=!0)}if(s)return!0;var o=Al(e);return!!o&&(a.setUTCMinutes(a.getUTCMinutes()+r),i.setUTCMinutes(i.getUTCMinutes()+n),xs(a,i,o,t))}function it(a,i,e,t){var r=0;switch(!t&&"millisecond"!=i&&(r=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-r)),i){case"day":var n=a.getUTCDate();a.setUTCDate(n+e);break;case"second":var s=a.getUTCSeconds();a.setUTCSeconds(s+e);break;case"millisecond":var o=a.getUTCMilliseconds();a.setUTCMilliseconds(o+e);break;case"hour":var h=a.getUTCHours();a.setUTCHours(h+e);break;case"minute":var u=a.getUTCMinutes();a.setUTCMinutes(u+e);break;case"year":var c=a.getUTCFullYear();a.setUTCFullYear(c+e);break;case"month":var d=a.getUTCMonth();a.setUTCMonth(d+e);break;case"week":var p=a.getUTCDate();a.setUTCDate(p+7*e)}if(!t&&"millisecond"!=i&&(a.setUTCMinutes(a.getUTCMinutes()+r),"day"==i||"week"==i||"month"==i||"year"==i)){var f=a.getTimezoneOffset();if(f!=r){var g=f-r;a.setUTCMinutes(a.getUTCMinutes()+g),a.getTimezoneOffset()!=f&&a.setUTCMinutes(a.getUTCMinutes()-g)}}return a}function Ge(a,i,e,t,r,n,s,o){void 0===s&&(s=0),y(e)||(e=1);var h=0;switch(o&&-1!=["day","month","week","year"].indexOf(i)&&(a=Aa(a,o)),!r&&"millisecond"!=i&&(h=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-h)),i){case"day":var u=a.getUTCDate();if(e>1){if(n){n=Ge(n,"day",1);var c=a.getTime()-n.getTime(),d=Math.floor(c/ke("day")/e),p=ke("day",d*e);a.setTime(n.getTime()+p-h*ke("minute"))}}else a.setUTCDate(u);a.setUTCHours(0,0,0,0);break;case"second":var f=a.getUTCSeconds();e>1&&(f=Math.floor(f/e)*e),a.setUTCSeconds(f,0);break;case"millisecond":if(1==e)return a;var g=a.getUTCMilliseconds();g=Math.floor(g/e)*e,a.setUTCMilliseconds(g);break;case"hour":var m=a.getUTCHours();e>1&&(m=Math.floor(m/e)*e),a.setUTCHours(m,s,0,0);break;case"minute":var v=a.getUTCMinutes();g=a.getUTCMilliseconds(),e>1&&(v=Math.floor(v/e)*e),a.setUTCMinutes(v,0,0);break;case"month":var b=a.getUTCMonth();e>1&&(b=Math.floor(b/e)*e),a.setUTCMonth(b,1),a.setUTCHours(0,s,0,0);break;case"year":var _=a.getUTCFullYear();e>1&&(_=Math.floor(_/e)*e),a.setUTCFullYear(_,0,1),a.setUTCHours(0,s,0,0);break;case"week":var P=a.getUTCDate(),S=a.getUTCDay();y(t)||(t=1),a.setUTCDate(P=S>=t?P-S+t:P-(7+S)+t),a.setUTCHours(0,s,0,0)}if(!r&&"millisecond"!=i&&(a.setUTCMinutes(a.getUTCMinutes()+h),"day"==i||"week"==i||"month"==i||"year"==i)){var D=a.getTimezoneOffset();if(D!=h){var T=D-h;a.setUTCMinutes(a.getUTCMinutes()+T)}}return a}function Aa(a,i){return new Date(a.toLocaleString("en-US",{timeZone:i}))}var Xp=function(a){function i(){var e=a.call(this)||this;return e._globalEventsAdded=!1,e._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},e._usePointerEventsOnly=!1,e._useTouchEventsOnly=!1,e._addHoverEvents=!0,e._passiveSupported=!1,e._delayedEvents={out:[]},e.overObjects=new he,e.downObjects=new he,e.trackedObjects=new he,e.transformedObjects=new he,e.pointers=new be,e.inertiaOptions=new be,e.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},e.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},e.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},e.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},e.mouseOptions={sensitivity:1},e.className="Interaction",e.body=e.getInteraction(document.body),e._disposers.push(e.body),window.hasOwnProperty("PointerEvent")?(e._pointerEvents.pointerdown="pointerdown",e._pointerEvents.pointerup="pointerup",e._pointerEvents.pointermove="pointermove",e._pointerEvents.pointercancel="pointercancel",e._pointerEvents.pointerover="pointerover",e._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(e._pointerEvents.pointerdown="MSPointerDown",e._pointerEvents.pointerup="MSPointerUp",e._pointerEvents.pointermove="MSPointerMove",e._pointerEvents.pointercancel="MSPointerUp",e._pointerEvents.pointerover="MSPointerOver",e._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(e._addHoverEvents=!1,e._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||e.fullFF()?e._usePointerEventsOnly=!0:e._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?e._pointerEvents.wheel="wheel":x(document.onmousewheel)&&(e._pointerEvents.wheel="mousewheel"),e.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:ds}),e.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:ds}),e._passiveSupported=i.passiveSupported,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},i.prototype.debug=function(){},i.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(De(document,this._pointerEvents.pointerdown,function(t){e.handleGlobalPointerDown(t)})),this._disposers.push(De(document,this._pointerEvents.pointermove,function(t){e.handleGlobalPointerMove(t)})),this._disposers.push(De(document,this._pointerEvents.pointerup,function(t){e.handleGlobalPointerUp(t)})),this._disposers.push(De(document,this._pointerEvents.pointercancel,function(t){e.handleGlobalPointerUp(t,!0)})),this._disposers.push(De(document,"mouseenter",function(t){!x(t.relatedTarget)&&(0==t.buttons||0==t.which)&&e.handleDocumentLeave(t)}))),this._usePointerEventsOnly||(this._disposers.push(De(document,"touchstart",function(t){e.handleGlobalTouchStart(t)})),this._disposers.push(De(document,"touchmove",function(t){e.handleGlobalTouchMove(t)})),this._disposers.push(De(document,"touchend",function(t){e.handleGlobalTouchEnd(t)}))),this._disposers.push(De(document,"keydown",function(t){e.handleGlobalKeyDown(t)})),this._disposers.push(De(document,"keyup",function(t){e.handleGlobalKeyUp(t)})),this._globalEventsAdded=!0)},i.prototype.processClickable=function(e){this.processTouchable(e)},i.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",De(e.element,"contextmenu",function(t){t.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},i.prototype.processHoverable=function(e){var t=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Pe([De(e.element,this._pointerEvents.pointerout,function(n){return t.handlePointerOut(e,n)}),De(e.element,this._pointerEvents.pointerover,function(n){return t.handlePointerOver(e,n)})]));else{var r=e.eventDisposers.getKey("hoverable");null!=r&&(r.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},i.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(!this.isGlobalElement(e)&&!e.isTouchProtected&&this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},i.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},i.prototype.processDraggable=function(e){this.processMovable(e)},i.prototype.processSwipeable=function(e){this.processMovable(e)},i.prototype.processResizable=function(e){this.processMovable(e)},i.prototype.processWheelable=function(e){var t=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Pe([De(e.element,this._pointerEvents.wheel,function(n){return t.handleMouseWheel(e,n)},!!this._passiveSupported&&{passive:!1}),e.events.on("out",function(n){e.wheelable&&t.unlockWheel()}),e.events.on("over",function(n){e.wheelable&&t.lockWheel()})]));else{var r=e.eventDisposers.getKey("wheelable");null!=r&&(r.dispose(),e.eventDisposers.removeKey("wheelable"))}},i.prototype.processFocusable=function(e){var t=this;if(!0===e.focusable&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Pe([De(e.element,"focus",function(n){return t.handleFocus(e,n)}),De(e.element,"blur",function(n){return t.handleBlur(e,n)}),De(e.element,this._pointerEvents.pointerdown,function(n){return t.handleFocusBlur(e,n)}),De(e.element,"touchstart",function(n){return t.handleFocusBlur(e,n)},!!this._passiveSupported&&{passive:!1})]));else{var r=e.eventDisposers.getKey("focusable");null!=r&&(r.dispose(),e.eventDisposers.removeKey("focusable"))}},i.prototype.processTouchable=function(e){var t=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",De(e.element,"touchstart",function(n){return t.handleTouchDown(e,n)},!!this._passiveSupported&&{passive:!1})):e.eventDisposers.setKey("touchable",De(e.element,this._pointerEvents.pointerdown,function(n){return t.handlePointerDown(e,n)})):e.eventDisposers.setKey("touchable",new Pe([De(e.element,this._pointerEvents.pointerdown,function(n){return t.handlePointerDown(e,n)}),De(e.element,"touchstart",function(n){return t.handleTouchDown(e,n)},!!this._passiveSupported&&{passive:!1})])));else{var r=e.eventDisposers.getKey("touchable");null!=r&&(r.dispose(),e.eventDisposers.removeKey("touchable"))}},i.prototype.handleFocus=function(e,t){e.focusable?(e.isFocused=!0,e.events.isEnabled("focus")&&!re.isPaused&&e.events.dispatchImmediately("focus",{type:"focus",target:e,event:t})):t.preventDefault()},i.prototype.handleFocusBlur=function(e,t){!1!==e.focusable&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),Pa(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},i.prototype.handleBlur=function(e,t){e.focusable?(e.isFocused=!1,e.events.isEnabled("blur")&&!re.isPaused&&e.events.dispatchImmediately("blur",{type:"blur",target:e,event:t})):t.preventDefault()},i.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject)if(Et.isKey(e,"esc"))Pa();else if(this.focusedObject.draggable&&Et.isKey(e,["up","down","left","right"])){e.preventDefault();var t=this.focusedObject,r="interactionKeyboardObject";if(t.eventDisposers.hasKey(r))return;var n=new Hp(t,e);switch(t.eventDisposers.setKey(r,n),Et.getEventKey(e)){case"up":n.directionY=-1;break;case"down":n.directionY=1;break;case"left":n.directionX=-1;break;case"right":n.directionX=1}}},i.prototype.handleGlobalKeyUp=function(e){var t="interactionKeyboardObject";if(this.focusedObject){var r=this.focusedObject.eventDisposers.getKey(t);null!=r&&(e.preventDefault(),r.dispose(),this.focusedObject.eventDisposers.removeKey(t));var n=this.focusedObject.sprite;Et.isKey(e,"enter")&&n&&(n.events.isEnabled("hit")||n.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):"hit"==n.showTooltipOn&&this.focusedObject.dispatchImmediately("up"))}},i.prototype.handleGlobalPointerMove=function(e){var t=this.getPointer(e);t.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!re.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:e,pointer:t,touch:t.touch}),this.addBreadCrumb(t,t.point),this.handleGlobalMove(t,e)},i.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var t=this.getPointer(e);this.events.isEnabled("down")&&!re.isPaused&&this.events.dispatchImmediately("down",{type:"down",target:this,event:e,pointer:t,touch:t.touch})},i.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},i.prototype.handleGlobalPointerUp=function(e,t){void 0===t&&(t=!1);var r=this.getPointer(e);this.events.isEnabled("up")&&!re.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:e,pointer:r,touch:r.touch}),this.handleGlobalUp(r,e,t)},i.prototype.handleGlobalTouchMove=function(e){for(var t=0;t<e.changedTouches.length;t++){var r=this.getPointer(e.changedTouches[t]);r.point=this.getPointerPoint(e.changedTouches[t]),this.events.isEnabled("track")&&!re.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:e,pointer:r,touch:r.touch}),this.addBreadCrumb(r,r.point),this.handleGlobalMove(r,e)}},i.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var t=0;t<e.changedTouches.length;t++){var r=this.getPointer(e.changedTouches[t]);this._usePointerEventsOnly||!this.events.isEnabled("down")||re.isPaused||this.events.dispatchImmediately("down",{type:"down",target:this,event:e,pointer:r,touch:r.touch})}},i.prototype.handleGlobalTouchEnd=function(e){for(var t=0;t<e.changedTouches.length;t++){var r=this.getPointer(e.changedTouches[t]);this.events.isEnabled("up")&&!re.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:e,pointer:r,touch:r.touch}),this.handleGlobalUp(r,e)}},i.prototype.handlePointerDown=function(e,t){var r=this.getPointer(t);!r.touch&&1!=t.which&&3!=t.which||(r.button=t.which,this.resetPointer(r,t),this.handleDown(e,r,t))},i.prototype.handlePointerOver=function(e,t){var r=this.getPointer(t);this.handleOver(e,r,t)},i.prototype.handlePointerOut=function(e,t){var r=this.getPointer(t);this.handleOut(e,r,t)},i.prototype.handleMouseWheel=function(e,t){var r=this.getPointer(t);r.point=this.getPointerPoint(t);var n,s,o=1;if(1==t.deltaMode&&(o=50),o*=this.getMouseOption(e,"sensitivity"),!(t instanceof WheelEvent))throw new Error("Invalid event type");n=Math.round(-1*t.wheelDeltaX||t.deltaX*o),s=Math.round(-1*t.wheelDeltaY||t.deltaY*o),this.handleWheel(e,r,n,s,t)},i.prototype.handleTouchDown=function(e,t){for(var r=0;r<t.changedTouches.length;r++){var n=this.getPointer(t.changedTouches[r]);this.maybePreventDefault(e,t,n),this.resetPointer(n,t.changedTouches[r]),this.handleDown(e,n,t)}},i.prototype.handleHit=function(e,t,r){var n=Lt();if(e.lastHit&&e.lastHit>=n-this.getHitOption(e,"doubleHitTime")){if(n-e.lastHit<100)return;e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!re.isPaused&&e.events.dispatchImmediately("doublehit",{type:"doublehit",target:e,point:t.point,event:r,touch:t.touch})}else e.lastHit=n,e.lastHitPointer=t,3===t.button?e.events.isEnabled("rightclick")&&!re.isPaused&&e.events.dispatchImmediately("rightclick",{type:"rightclick",target:e,event:r}):e.events.isEnabled("hit")&&!re.isPaused&&e.events.dispatchImmediately("hit",{type:"hit",target:e,event:r,point:t.point,touch:t.touch})},i.prototype.handleOver=function(e,t,r,n){if(void 0===n&&(n=!1),e.hoverable){var s=!1;this.shouldCancelHovers(t)&&this.areTransformed()&&this.moved(t,this.getHitOption(e,"hitTolerance"))&&(s=!0,this.cancelAllHovers(r)),this.processDelayed(),e.overPointers.moveValue(t),e.isRealHover||(s||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,t,r,!0),!e.events.isEnabled("over")||re.isPaused||s)||e.events.dispatchImmediately("over",{type:"over",target:e,event:r,pointer:t,touch:t.touch})}},i.prototype.handleOut=function(e,t,r,n,s){var o=this;if(void 0===n&&(n=!1),void 0===s&&(s=!1),e.hoverable&&(e.overPointers.removeValue(t),e.isHover&&(!e.hasDelayedOut||s))){if(n&&e.overPointers.length)return;if(t&&t.touch&&!s&&!this.old(t)){var h=this.getHoverOption(e,"touchOutBehavior");if("leave"==h)return this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:r,keepUntil:Lt()+500}),void(e.hasDelayedOut=!0);if("delay"==h&&this.getHoverOption(e,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:r,keepUntil:Lt()+500,timeout:this.setTimeout(function(){o.handleOut(e,t,r,!0)},this.getHoverOption(e,"touchOutDelay"))})}e.isHover=!1,this.overObjects.removeValue(e),e.isDisposed()||!e.events.isEnabled("out")||re.isPaused||e.events.dispatchImmediately("out",{type:"out",target:e,event:r,pointer:t,touch:t.touch}),e.overPointers.clear(),e.hasDelayedOut=!1}},i.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop();)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},i.prototype.handleDown=function(e,t,r){this.maybePreventDefault(e,r,t),e.inert&&this.stopInertia(e),this.handleOver(e,t,r,!0),e.downPointers.moveValue(t),this.applyCursorDownStyle(e,t),e.isDown||(!1!==e.focusable&&this.getHitOption(e,"noFocus")&&this.focusedObject&&Pa(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,t,r),e.resizable&&this.processResizeStart(e,t,r)),e.events.isEnabled("down")&&!re.isPaused&&e.events.dispatchImmediately("down",{type:"down",target:e,event:r,pointer:t,touch:t.touch})},i.prototype.handleGlobalUp=function(e,t,r){var n=this;void 0===r&&(r=!1);var s=this.downObjects.values.slice();s.sort(function(o,h){if(o&&h){var u=o.element.compareDocumentPosition(h.element);return u&Node.DOCUMENT_POSITION_CONTAINED_BY?1:u&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0}),j(s,function(o){o&&o.downPointers.contains(e)&&n.handleUp(o,e,t,r)})},i.prototype.handleDocumentLeave=function(e){var t=this;I(this.downObjects.backwards().iterator(),function(r){r.downPointers.each(function(n){t.handleUp(r,n,e)})})},i.prototype.handleUp=function(e,t,r,n){void 0===n&&(n=!1),this.restoreCursorDownStyle(e,t),e.downPointers.removeValue(t),(t&&t.touch||this._useTouchEventsOnly)&&this.handleOut(e,t,r,!0),e.isDown&&(0==e.downPointers.length&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!re.isPaused&&t&&e.events.dispatchImmediately("up",{type:"up",target:e,event:r,pointer:t,touch:t.touch}),n||(e.swipeable&&this.swiped(e,t)?this.handleSwipe(e,t,r):(e.clickable&&!this.moved(t,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,t,r),e.inert&&this.moved(t,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,t):e.draggable&&this.processDragStop(e,t,r),e.resizable&&this.processResizeStop(e,t,r))))},i.prototype.maybePreventDefault=function(e,t,r){x(t)&&(e.draggable||e.swipeable||e.trackable||e.resizable)&&!this.isGlobalElement(e)&&!1!==t.cancelable&&(!e.isTouchProtected||!r||!r.touch)&&t.preventDefault()},i.prototype.cancelAllHovers=function(e){var t=this;I(this.overObjects.backwards().iterator(),function(r){if(r){var n=r.overPointers.getIndex(0);t.handleOut(r,n,e,!0,!0)}})},i.prototype.shouldCancelHovers=function(e){return"always"==ie.disableHoverOnTransform||"touch"==ie.disableHoverOnTransform&&e.touch},i.prototype.handleGlobalMove=function(e,t){var r=this;if(!e.touch){var n=function Ip(a){return"function"==typeof a.composedPath?a.composedPath()[0]:a.target}(e.lastEvent);I(this.overObjects.backwards().iterator(),function(s){if(s&&s.overPointers.contains(e)&&s.hoverable){var o=!1;s.element&&e.lastEvent&&Dl(s.element,n)||(o=!0),o&&r.handleOut(s,e,t,!0)}})}I(this.transformedObjects.backwards().iterator(),function(s){s.downPointers.contains(e)&&(!s.swipeable||!r.swiping(s,e))&&(s.draggable||s.resizable)&&r.handleTransform(s,t)}),I(this.trackedObjects.backwards().iterator(),function(s){s.overPointers.contains(e)||r.handleTrack(s,e,t)})},i.prototype.handleTrack=function(e,t,r,n){void 0===n&&(n=!1),(n||this.moved(t,0))&&e.events.isEnabled("track")&&!re.isPaused&&e.events.dispatchImmediately("track",{type:"track",target:e,event:r,point:t.point,pointer:t,touch:t.touch})},i.prototype.handleSwipe=function(e,t,r){e.events.isEnabled("swipe")&&!re.isPaused&&e.events.dispatchImmediately("swipe",{type:"swipe",target:e,event:r,touch:t.touch}),t.startPoint.x<t.point.x?e.events.isEnabled("swiperight")&&!re.isPaused&&e.events.dispatchImmediately("swiperight",{type:"swiperight",target:e,event:r,touch:t.touch}):e.events.isEnabled("swipeleft")&&!re.isPaused&&e.events.dispatchImmediately("swipeleft",{type:"swipeleft",target:e,event:r,touch:t.touch})},i.prototype.handleWheel=function(e,t,r,n,s){var o={x:r,y:n};e.events.isEnabled("wheel")&&!re.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:s,point:t.point,shift:o}),r<0?e.events.isEnabled("wheelleft")&&!re.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:s,point:t.point,shift:o}):r>0?e.events.isEnabled("swiperight")&&!re.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:s,point:t.point,shift:o}):n<0?e.events.isEnabled("wheelup")&&!re.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:s,point:t.point,shift:o}):n>0&&e.events.isEnabled("wheeldown")&&!re.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:s,point:t.point,shift:o})},i.prototype.handleInertia=function(e,t){e.draggable&&0===e.downPointers.length&&this.handleMoveInertia(e,t),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,t)},i.prototype.handleMoveInertia=function(e,t){var h=new Yp(e,"move",{x:t.point.x,y:t.point.y},{x:t.startPoint.x,y:t.startPoint.y}),u=this.getTrailPoint(t,Lt()-this.getInertiaOption(e,"move","time"));if(typeof u>"u")this.processDragStop(e,t,t.lastUpEvent);else{var c=this.getInertiaOption(e,"move","factor"),p=new Tt(h,[{to:t.point.x+(t.point.x-u.point.x)*c,property:"x"},{to:t.point.y+(t.point.y-u.point.y)*c,property:"y"}],this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(p.events.on("animationended",function(f){h.done()})),e.inertias.setKey("move",h)}},i.prototype.handleResizeInertia=function(e,t){},i.prototype.handleTransform=function(e,t){var o,h,u,r=e.downPointers.getIndex(0),n=null,s=null;r&&(n=r.point,s=r.startPoint),u=h={x:e.originalPosition.x,y:e.originalPosition.y};for(var c=!0,d=1;d<e.downPointers.length;d++){var p=e.downPointers.getIndex(d);if(s.x!=p.startPoint.x&&s.y!=p.startPoint.y){c=!1,h=(o=p).point,u=o.startPoint;break}}var f=r&&this.moved(r,0);if(e.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&f&&e.events.isEnabled("dragstart")&&!re.isPaused&&e.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),c&&e.draggable)this.handleTransformMove(e,n,s,t,f,r.touch),this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(t);else{var g=o&&this.moved(o,0);(this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(o)&&this.moved(o,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(t),e.draggable&&e.resizable?(this.handleTransformMove(e,n,s,t,f&&g,r.touch),this.handleTransformResize(e,n,s,h,u,t,f&&g,r.touch)):(e.draggable&&this.handleTransformMove(e,n,s,t,f,r.touch),e.resizable&&(!c||t.ctrlKey)&&this.handleTransformResize(e,n,s,h,u,t,f&&g,r.touch))}},i.prototype.handleTransformMove=function(e,t,r,n,s,o){!s||!e.events.isEnabled("drag")||re.isPaused||e.isTouchProtected&&o||e.events.dispatchImmediately("drag",{type:"drag",target:e,event:n,shift:{x:t.x-r.x,y:t.y-r.y},startPoint:r,point:t,touch:o})},i.prototype.handleTransformResize=function(e,t,r,n,s,o,h,u){if(e.events.isEnabled("resize")&&!re.isPaused&&(!e.isTouchProtected||!u)){var c={type:"resize",target:e,event:o,scale:rd(t,r,n,s),startPoint1:r,point1:t,startPoint2:s,point2:n,touch:u};e.events.dispatchImmediately("resize",c)}},i.prototype.processDragStart=function(e,t,r){this.transformedObjects.moveValue(e),this.shouldCancelHovers(t)&&this.cancelAllHovers(r);var n={type:"dragstart",target:e,event:r,touch:!!t&&t.touch};t&&(t.dragTarget=e),t&&t.dragStartEvents?t.dragStartEvents.push(n):re.isPaused||e.dispatchImmediately("dragstart",n)},i.prototype.processDragStop=function(e,t,r){t||(t=this.getDragPointer(e)),t&&(t.dragTarget=void 0),this.transformedObjects.removeValue(e),t&&!this.moved(t,0)||!e.events.isEnabled("dragstop")||re.isPaused||e.events.dispatchImmediately("dragstop",{type:"dragstop",target:e,touch:!!t&&t.touch})},i.prototype.processResizeStart=function(e,t,r){this.transformedObjects.moveValue(e)},i.prototype.processResizeStop=function(e,t,r){this.transformedObjects.removeValue(e)},i.prototype.dragStart=function(e,t){t||(t=this.getDragPointer(e)),t&&this.handleDown(e,t,t.lastDownEvent)},i.prototype.dragStop=function(e,t,r){t||(t=this.getDragPointer(e)),t&&!r&&this.handleGlobalUp(t,t.lastUpEvent,r)},i.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},i.prototype.getPointerId=function(e){return(x(e.identifier)?""+e.identifier:x(e.pointerId)?""+e.pointerId:"m").replace("-","")},i.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},i.prototype.getPointer=function(e){var n,t=this.getPointerId(e),r=this.getPointerPoint(e);return this.pointers.hasKey(t)?(n=this.pointers.getKey(t)).touch=this.isPointerTouch(e):(n={id:t,touch:this.isPointerTouch(e),startPoint:r,startTime:Lt(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(n,r),this.pointers.setKey(t,n)),n.lastEvent=e,this.lastPointer=n,n},i.prototype.isPointerTouch=function(e){if(typeof Touch<"u"&&e instanceof Touch)return!0;if(typeof PointerEvent<"u"&&e instanceof PointerEvent&&x(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(x(e.type)&&e.type.match(/^mouse/))return!1;return!0},i.prototype.resetPointer=function(e,t){var r=this.getPointerPoint(t);e.startTime=Lt(),e.startPoint={x:r.x,y:r.y},e.point={x:r.x,y:r.y},e.track=[],e.swipeCanceled=!1},i.prototype.addBreadCrumb=function(e,t){e.track.push({timestamp:Lt(),point:t})},i.prototype.lockDocument=function(){this.prepElement(this.body)},i.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},i.prototype.lockElement=function(e){this.prepElement(e)},i.prototype.unlockElement=function(e){this.restoreAllStyles(e)},i.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},i.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},i.prototype.isLocalElement=function(e,t,r){var n=this.getCache("local_pointer_"+e.id);if(x(n))return n;var s=Sl(t)||document;if(s.elementFromPoint){var o=s.elementFromPoint(e.point.x,e.point.y),h=o&&Dl(t,o);return this.setCache("local_pointer_"+e.id+"_"+r,h,100),h}return!1},i.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},i.prototype.prepElement=function(e){var t=e.element;if(t){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],n=0;n<r.length;n++)r[n]in t.style&&this.setTemporaryStyle(e,r[n],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},i.prototype.unprepElement=function(e){var t=e.element;if(t){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],n=0;n<r.length;n++)r[n]in t.style&&this.restoreStyle(e,r[n]);this.restoreStyle(e,"tapHighlightColor")}},i.prototype.getHitOption=function(e,t){var r=e.hitOptions[t];return typeof r>"u"&&(r=this.hitOptions[t]),r},i.prototype.getHoverOption=function(e,t){var r=e.hoverOptions[t];return typeof r>"u"&&(r=this.hoverOptions[t]),r},i.prototype.getSwipeOption=function(e,t){var r=e.swipeOptions[t];return typeof r>"u"&&(r=this.swipeOptions[t]),r},i.prototype.getKeyboardOption=function(e,t){var r=e.keyboardOptions[t];return typeof r>"u"&&(r=this.keyboardOptions[t]),r},i.prototype.getMouseOption=function(e,t){var r=e.mouseOptions[t];return typeof r>"u"&&(r=this.mouseOptions[t]),r},i.prototype.getInertiaOption=function(e,t,r){var n=e.inertiaOptions.getKey(t);return n&&x(n[r])?n[r]:this.inertiaOptions.getKey(t)[r]},i.prototype.stopInertia=function(e){for(var t,r=["move","resize"],n=0;n<r.length;n++)if(e.inertias.hasKey(t=r[n])){var s=e.inertias.getKey(t);if(s){s.dispose();continue}}},i.prototype.swiping=function(e,t){var r=Lt();return!(t.swipeCanceled||!e.swipeable)&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>r-this.getSwipeOption(e,"time")},i.prototype.swiped=function(e,t){var r=Lt();return!t.swipeCanceled&&Math.abs(t.startPoint.x-t.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>r-this.getSwipeOption(e,"time")},i.prototype.applyCursorOverStyle=function(e){var t=e.cursorOptions;if(x(t.overStyle))for(var r=0;r<t.overStyle.length;r++)Pl(e.element,t.overStyle[r].property,t.overStyle[r].value)},i.prototype.applyCursorDownStyle=function(e,t){if(!t||!t.touch){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&x(r))for(var n=0;n<r.length;n++)this.setTemporaryStyle(this.body,r[n].property,r[n].value),this.setTemporaryStyle(e,r[n].property,r[n].value)}},i.prototype.restoreCursorDownStyle=function(e,t){if(!t||!t.touch){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&x(r))for(var n=0;n<r.length;n++)this.restoreStyle(this.body,r[n].property),this.restoreStyle(e,r[n].property)}},i.prototype.setGlobalStyle=function(e){for(var t=J().body,r=Ee(e)?e:[e],n=0;n<r.length;n++)this.setTemporaryStyle(t,r[n].property,r[n].value)},i.prototype.restoreGlobalStyle=function(e){for(var t=J().body,r=Ee(e)?e:[e],n=0;n<r.length;n++)this.restoreStyle(t,r[n].property)},i.prototype.isGlobalElement=function(e){return document.body===e.element},i.prototype.moved=function(e,t,r){void 0===r&&(r=300);var n=this.getShift(e);return Math.abs(n.x)>t||Math.abs(n.y)>t},i.prototype.old=function(e,t){return void 0===t&&(t=300),Lt()-e.startTime>t},i.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},i.prototype.getTrailPoint=function(e,t){for(var r,n=0;n<e.track.length;n++)if(e.track[n].timestamp>=t){r=e.track[n];break}return r},i.prototype.pointerExists=function(e,t){var r=!1;return e.each(function(n){n!=t&&(r=n.point.x==t.point.x&&n.point.y==t.point.y)}),r},i.prototype.getInteraction=function(e){return new Zp(e)},i.prototype.setTemporaryStyle=function(e,t,r){var n=e.element;x(n.style[t])&&!e.replacedStyles.hasKey(t)&&e.replacedStyles.setKey(t,n.style[t]),Pl(n,t,r)},i.prototype.restoreStyle=function(e,t){e.replacedStyles.hasKey(t)?(e.element.style[t]=e.replacedStyles.getKey(t),e.replacedStyles.removeKey(t)):delete e.element.style[t]},i.prototype.restoreAllStyles=function(e){I(e.replacedStyles.iterator(),function(t){var r=t[0];e.element.style[r]=t[1],e.replacedStyles.removeKey(r)})},i.prototype.dispose=function(){this.isDisposed()||(a.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},i.prototype.log=function(e,t,r){if(t.changedTouches)for(var s=0;s<t.changedTouches.length;s++)this.logTouch(e,t.type,t.changedTouches[s]);else{var o="";if(t.pointerType)switch(t.pointerType){case 2:o="touch";break;case 4:o="mouse";break;default:o=t.pointerType}else o=typeof TouchEvent<"u"&&t instanceof TouchEvent?"touch":t.type.match(/^mouse/)?"mouse":"???";var h;h=x(t.identifier)?t.identifier:x(t.pointerId)?t.pointerId:"???",console.log(r?e+" ("+r.uid+")  "+t.type+"  "+o+"  "+h:e+"  "+t.type+"  "+o+"  "+h)}},i.prototype.areTransformed=function(e){var t=this.transformedObjects.length;if(e)for(var r=Ee(e)?e:[e],n=0;n<r.length;n++)this.transformedObjects.contains(r[n])&&t--;return t>0},i.prototype.logTouch=function(e,t,r){console.log(e+"  "+t+"  touch  "+r.identifier)},Object.defineProperty(i,"passiveSupported",{get:function(){var e=this;if(null==this._passiveSupported)try{var t=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),i}(Rt),Cs=null;function J(){return null==Cs&&(Cs=new Xp),Cs}var Ol=function(a){function i(){var e=a.call(this)||this;return e.adapter=new ut(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return(0,w.ZT)(i,a),i.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},i.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},i.prototype.dispose=function(){this.close(),a.prototype.dispose.call(this)},i.prototype.positionElement=function(e){var t=this;void 0===e&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(t._elements.wrapper){if(e||!t._sized){t._elements.wrapper.style.opacity="0.01",t._elements.wrapper.style.left="0",t._elements.wrapper.style.top="0",t._elements.wrapper.style.margin="0 0 0 0",t._elements.wrapper.style.width="",t._elements.wrapper.style.height="";var r=t._elements.wrapper.getBoundingClientRect();t._elements.wrapper.style.width=r.width+"px",t._elements.wrapper.style.height=r.height+"px",t._sized=!0}if(t.dynamicResize)for(var n=t._elements.wrapper.getElementsByTagName("img"),s=0;s<n.length;s++){var o=n[s];if(!o.complete){o.addEventListener("load",function(){t.positionElement(!0)});break}}setTimeout(function(){if(t._elements.wrapper){var h;switch(!e&&t._sized||!t._bbox?(h=t._elements.wrapper.getBoundingClientRect(),t._elements.wrapper.style.opacity=""):h=t._bbox,t.align){case"left":t._elements.wrapper.style.left="0",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;case"center":t._elements.wrapper.style.left="50%",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(Math.round(-h.width/2)+(t._shift.x+t._tempShift.x));break;case"right":t._elements.wrapper.style.left="auto",t._elements.wrapper.style.right="0",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;default:t._elements.wrapper.style.left=t.toStyle(t.left)||"auto",t._elements.wrapper.style.right=t.toStyle(t.right)||"auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x)}switch(t.verticalAlign){case"top":t._elements.wrapper.style.top="0",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;case"middle":t._elements.wrapper.style.top="50%",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(Math.round(-h.height/2)+(t._shift.y+t._tempShift.y));break;case"bottom":t._elements.wrapper.style.top="auto",t._elements.wrapper.style.bottom="0",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;default:t._elements.wrapper.style.top=t.toStyle(t.top)||"auto",t._elements.wrapper.style.bottom=t.toStyle(t.bottom)||"auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y)}}},1)}},1)},i.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(t){e._tempShift.x=t.shift.x,e._tempShift.y=t.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(t){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&(J().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},i.prototype.toStyle=function(e){return x(e)?y(e)?e+"px":e.toString():null},Object.defineProperty(i.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),i.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},i.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),t=document.createElement("div");t.className=e.contentClass,t.style.opacity="0.01";var r=document.createElement("a");r.className=e.closeClass;var n=document.createElement("div");n.className=e.headerClass;var s=document.createElement("div");s.innerHTML=this.title,s.className=e.titleClass,this.title||(s.style.display="none");var o=document.createElement("div");o.className=e.insideClass,o.innerHTML=this.content,this._IOs.wrapper=J().getInteraction(t),this._IOs.header=J().getInteraction(n),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=J().getInteraction(r),this._disposers.push(this._IOs.close),r.style.visibility="hidden",t.setAttribute("role","dialog"),n.appendChild(r),n.appendChild(s),t.appendChild(n),t.appendChild(o),this.container.appendChild(t),this._elements.wrapper=t,this._elements.header=n,this._elements.content=o,this._elements.title=s,this._elements.close=r,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(i.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),i.prototype.createCurtainElement=function(){var e=this.getClassNames(),t=document.createElement("div");t.className=e.curtainClass,this.container.appendChild(t),this._IOs.curtain=J().getInteraction(t),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),t.style.display=this.showCurtain?"block":"none",this._elements.curtain=t},Object.defineProperty(i.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),i.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function Np(a,i){i||(i="ampopup");var e=new ce,t=e.getFor("text"),r=e.getFor("background");r.alpha=.8;var n=e.getFor("alternativeBackground");return n.alpha=.05,Tl.insertKeyIfEmpty(i,function(){var o=new Pe([new ge(a,"."+i,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new ge(a,"."+i+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":r.hex,opacity:"0.5"}),new ge(a,"."+i+"-header",{display:"block",width:"100%","min-height":"1.8em",background:n.rgba}),new ge(a,"."+i+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new ge(a,"."+i+"-content",{background:r.hex,"background-color":r.rgba,color:t.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new ge(a,"."+i+"-inside",{padding:"1em"}),new ge(a,"."+i+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new oa(function(){Tl.removeKey(i),o.dispose()})}).increment()}(ys(this.container),this.classPrefix)),q(this._elements,function(e,t){t.style.display=""}),this._cssLoaded=!0)},i.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var t=[J().body.events.on("keyup",function(r){Et.isKey(r.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(r){e.close()})];t.push(this._IOs.curtain.events.on("hit",function(r){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new Pe(t))}else this._IOs.close.element.style.visibility="hidden"},i.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},i.prototype.releasePointers=function(){x(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},i.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},i}(Rt),kl=function(a){function i(){var e=a.call(this)||this;return e.adapter=new ut(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return(0,w.ZT)(i,a),i}(Ol);function ws(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];ie.suppressWarnings||console&&console.warn.apply(console,(0,w.fl)(a))}var Kp=function(){function a(){var i=this;this._targets=[],this._observer=new ResizeObserver(function(e){j(e,function(t){j(i._targets,function(r){r.target===t.target&&r.callback()})})})}return a.prototype.addTarget=function(i,e){this._observer.observe(i,{box:"content-box"}),this._targets.push({target:i,callback:e})},a.prototype.removeTarget=function(i){this._observer.unobserve(i),Ho(this._targets,function(e){return e.target!==i})},a}(),$p=function(){function a(){this._targets=[]}return a.prototype.addTarget=function(i,e){var t=this;if(0===this._targets.length){var r=null,n=function(){var o=Date.now();(null===r||o>r+a.delay)&&(r=o,j(t._targets,function(h){var u=h.target.getBoundingClientRect();(u.width!==h.size.width||u.height!==h.size.height)&&(h.size=u,h.callback())})),t._timer=requestAnimationFrame(n)};this._timer=requestAnimationFrame(n)}var s=i.getBoundingClientRect();this._targets.push({target:i,callback:e,size:s})},a.prototype.removeTarget=function(i){Ho(this._targets,function(e){return e.target!==i}),0===this._targets.length&&cancelAnimationFrame(this._timer)},a.delay=200,a}(),Oa=null,Qp=function(){function a(i,e){this._disposed=!1,this._sensor=function Jp(){return null===Oa&&(Oa=typeof ResizeObserver<"u"?new Kp:new $p),Oa}(),this._element=i,this._sensor.addTarget(i,e)}return a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(a.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),a.prototype.reset=function(){ws("resizeSensor.reset() is no longer needed and can be removed")},a}(),Ps=[],Ml=function(){function a(i,e){var t=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=i,e||(this._printing=!1,this.initSensor(),this._disposers.push(De(window,"beforeprint",function(){t._printing=!0})),this._disposers.push(De(window,"afterprint",function(){t._printing=!1}))),Ps.push(this);var r=document.createElement("div"),n=r.style;n.width="100%",n.height="100%",n.position="relative",i.appendChild(r),this.SVGContainer=r}return a.prototype.initSensor=function(){var i=this;this.resizeSensor&&this.resizeSensor.dispose(),this.resizeSensor=new Qp(this.htmlElement,function(){i.autoResize&&!i._printing&&i.measure()}),this._disposers.push(this.resizeSensor)},a.prototype.measure=function(){var i=function Kd(a){var i=getComputedStyle(a),e=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t=parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth);return a.clientWidth-e-t}(this.htmlElement),e=function $d(a){var i=getComputedStyle(a),e=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),t=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth);return a.clientHeight-e-t}(this.htmlElement),t=this.container;t&&((this.width!=i||this.height!=e)&&(this.width=i,this.height=e,i>0&&(t.maxWidth=i),e>0&&(t.maxHeight=e),function Fp(a){!function cd(a){dr.push(a),Wn()}(function(){try{var i=a.getBoundingClientRect(),e=i.left-Math.round(i.left),t=i.top-Math.round(i.top);0!==e&&Uo(function(){a.style.left=e+"px"}),0!==t&&Uo(function(){a.style.top=t+"px"})}catch{}})}(this.SVGContainer)),t.maxWidth||(t.maxWidth=0),t.maxHeight||(t.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(a.prototype,"container",{get:function(){return this._container},set:function(i){this._container=i,this.measure()},enumerable:!0,configurable:!0}),a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){this._disposed||$(Ps,this),j(this._disposers,function(i){i.dispose()})},Object.defineProperty(a.prototype,"hideOverflow",{set:function(i){this.SVGContainer.style.overflow=i?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"modal",{get:function(){return x(this._modal)||(this._modal=new kl,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),a.prototype.openModal=function(i,e){this.closeModal();var t=this.modal;return t.content=i,t.readerTitle=e||"",t.title=e||"",t.open(),t},a.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(a.prototype,"popups",{get:function(){if(!x(this._popups)){var i=new Ol;i.container=this.SVGContainer,this._popups=new Oe(i),this._disposers.push(new ye(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),a.prototype.openPopup=function(i,e){var t=this.popups.create();return t.content=i,x(e)&&(t.title=e),t.open(),t},a.prototype.closeAllPopups=function(){this.popups.each(function(i){i.close()})},Object.defineProperty(a.prototype,"readerAlertElement",{get:function(){if(!x(this._readerAlertElement)){var i=document.createElement("div");i.setAttribute("role","alert"),i.style.zIndex="-100000",i.style.opacity="0",i.style.position="absolute",i.style.top="0",this.SVGContainer.appendChild(i),this._readerAlertElement=i}return this._readerAlertElement},enumerable:!0,configurable:!0}),a.prototype.readerAlert=function(i){this.readerAlertElement.innerHTML=i},a.prototype.checkTransform=function(i){if(window.getComputedStyle){if(i&&i.style){var e=window.getComputedStyle(i,null);if(e){var t=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(t&&"none"!==t){var r=t.split("(")[1].split(")")[0].split(","),n=Number(r[0]),s=Number(r[1]),o=Math.sqrt(n*n+s*s);isNaN(o)||(this.cssScale*=o)}}}i.parentNode&&i.parentNode instanceof HTMLElement&&this.checkTransform(i.parentNode)}},a}(),Il=function(){function a(i,e){this.container=i,this.id=e;var t=document.createElementNS(Yi,"svg");t.setAttribute("version","1.1"),t.setAttributeNS(Cl,"xmlns",Yi),t.setAttributeNS(Cl,"xmlns:xlink",fs),t.setAttribute("role","group"),this.container.appendChild(t),this.defs=document.createElementNS(Yi,"defs"),t.appendChild(this.defs),t.style.width="100%",t.style.height="100%",t.style.overflow="visible",this.svg=t}return a.prototype.add=function(i){return new Ta(i)},a.prototype.addGroup=function(i){return new jp(i)},a.prototype.append=function(i){i&&this.svg.appendChild(i.node)},a.prototype.appendDef=function(i){i&&this.defs.appendChild(i.node)},a.prototype.foreignObject=function(){return new Ta("foreignObject")},a.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},a}(),Ds=null;function wr(){if(null===Ds){var a=document.createElement("div");a.hidden=!0,a.style.width="1px",a.style.height="1px",a.style.position="absolute",a.style.zIndex="-1000000",document.body.appendChild(a);var i=new Ml(a,!0);Ds=new Il(i.SVGContainer,"ghost")}return Ds}var Wi=function(a){function i(){var e=a.call(this)||this;e._elements=new he,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var t=new ce;return e.backgroundFill=t.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=t.getFor("alternativeBackground"),e.stroke=t.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+C.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new ye(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){var e=this,t=this.element;if(t){t.removeChildNodes();var r=this.paper.add("rect");r.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),t.add(r),t.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),I(this._elements.iterator(),function(n){n.rotation=e.rotation,n.rotationX=e.properties.rotationX,n.rotationY=e.properties.rotationY,e.element.add(n)})}},i.prototype.animate=function(e,t,r){return new Tt(this,e,t,r).start()},i.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},i.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(i.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paper",{get:function(){return this._paper?this._paper:wr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;a.prototype.copyFrom.call(this,e),q(e.properties,function(r,n){t[r]=n})},Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hi(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){if(e&&x(e.elements)&&Ee(e.elements))for(var t=0,r=e.elements.length;t<r;t++){var n=e.elements[t];if(x(n.type)){var s=this.createEntryInstance(n);s instanceof tt&&(s.config=n),this.addElement(x(n.typeProperty)?s[n.typeProperty]:s.element)}}a.prototype.processConfig.call(this,e)},i}(tt);C.registeredClasses.Pattern=Wi;var Pt=function(a){function i(){var e=a.call(this)||this;return e._stops=new he,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+C.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){var e=this,t=(this._rotation+90)*ia,r=Math.round(50+50*Math.sin(t+Math.PI))+"%",n=Math.round(50+50*Math.cos(t))+"%",s=Math.round(50+50*Math.sin(t))+"%",o=Math.round(50+50*Math.cos(t+Math.PI))+"%",h=this.element;h.removeChildNodes(),h.attr({x1:r,x2:s,y1:n,y2:o}),I(fi(this._stops.iterator()),function(u){var c=u[0],d=u[1],p=d.offset;y(p)||(p=c/(e._stops.length-1));var f=e.paper.add("stop");x(d.color)&&f.attr({"stop-color":d.color.toString()}),y(d.opacity)&&f.attr({"stop-opacity":d.opacity}),y(p)&&f.attr({offset:p}),h.add(f)})},i.prototype.clear=function(){this._stops.clear()},i.prototype.addColor=function(e,t,r){this._stops.push({color:e,opacity:t,offset:r})},Object.defineProperty(i.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paper",{get:function(){return this._paper?this._paper:wr()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(i.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),i}(tt);C.registeredClasses.LinearGradient=Pt;var ri=function(a){function i(){var e=a.call(this)||this;return e._stops=new he,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+C.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){var r,e=this,t=this.element;y(this.cx)&&((r=this.cx)instanceof ae&&(r=r.percent+"%"),t.attr({cx:r})),y(this.cy)&&((r=this.cy)instanceof ae&&(r=r.percent+"%"),t.attr({cy:r})),this.fx&&((r=this.fx)instanceof ae&&(r=r.percent+"%"),t.attr({fx:r})),this.fy&&((r=this.fy)instanceof ae&&(r=r.percent+"%"),t.attr({fy:r})),t.removeChildNodes(),I(fi(this._stops.iterator()),function(n){var s=n[0],o=n[1],h=o.offset;y(h)||(h=s/(e._stops.length-1));var u=e.paper.add("stop");x(o.color)&&u.attr({"stop-color":o.color.toString()}),y(o.opacity)&&u.attr({"stop-opacity":o.opacity}),y(h)&&u.attr({offset:h}),t.add(u)})},i.prototype.addColor=function(e,t,r){this._stops.push({color:e,opacity:t,offset:r}),this.draw()},Object.defineProperty(i.prototype,"paper",{get:function(){return this._paper?this._paper:wr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(i.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),i.prototype.clear=function(){this._stops.clear()},i}(tt);C.registeredClasses.RadialGradient=ri;var qe=function(){function a(){}return a.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],a.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],a.pointer=[{property:"cursor",value:"pointer"}],a.default=[{property:"cursor",value:"default"}],a.horizontalResize=[{property:"cursor",value:"ew-resize"}],a.verticalResize=[{property:"cursor",value:"ns-resize"}],a.notAllowed=[{property:"cursor",value:"not-allowed"}],a.text=[{property:"cursor",value:"text"}],a}();const Fl={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(a){var i="th";if(a<11||a>13)switch(a%10){case 1:i="st";break;case 2:i="nd";break;case 3:i="rd"}return i},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var Ss,ai=function(a){function i(){var e=a.call(this)||this;return e.adapter=new ut(e),e._locale=Fl,e._defaultLocale=Fl,e.className="Language",x(ie.defaultLocale)&&(e.locale=ie.defaultLocale),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.getLocale=function(e){return null==e&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},i.prototype.translate=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t=this.getLocale(t);var s=e,h=this.getTranslations(t)[e];if(null===h)s="";else if(x(h))h&&(s=h);else if(t!==this._defaultLocale)return this.translate.apply(this,(0,w.fl)([e,this._defaultLocale],r));if(r.length)for(var u=r.length,c=0;c<u;++c)s=s.split("%"+(c+1)).join(r[c]);return this.adapter.apply("translate",{translation:s,locale:t}).translation},i.prototype.translateAny=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.translate.apply(this,(0,w.fl)([e,t],r))},i.prototype.setTranslationAny=function(e,t,r){(r||this.locale)[e]=t},i.prototype.translateEmpty=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var s=this.translate.apply(this,(0,w.fl)([e,t],r));return s==e?"":s},i.prototype.translateFunc=function(e,t){return t=this.getLocale(t),this.getTranslations(t)[e]??(t!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""})},i.prototype.translateAll=function(e,t){var r=this;return this.isDefault()?e:hr(e,function(n){return r.translate(n,t)})},i.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(i.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))&&this.events.dispatchImmediately("localechanged",{type:"localechanged",locale:e,target:this})},enumerable:!0,configurable:!0}),i.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},i}(Rt),Vl=function(a){function i(){var e=a.call(this)||this;return e.adapter=new ut(e),e.className="TextFormatter",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.debug=function(){},i.prototype.format=function(e,t){x(t)||(t="svg");var r="",n=(e=this.escape(e)).match(/\[([^\]]*?)\]/gm);if(!n)return this.wrap(e,"",t);for(var s=e.split(/\[[^\[\]]*\]/),o=0,h=s.length;o<h;o++){var u=s[o];if(""!==u){u=this.adapter.apply("chunk",u);var c="";o>0&&(c=n[o-1].replace("[","").replace("]","")),r+=this.wrap(u,c,t)}}return r=this.unescape(r),this.cleanUp(r)},i.prototype.escape=function(e){return e.replace(/\[\[/g,C.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+C.getPlaceholder("2")).replace(/\]\]/g,C.getPlaceholder("2")).replace(/\{\{/g,C.getPlaceholder("3")).replace(/\}\}/g,C.getPlaceholder("4")).replace(/\'\'/g,C.getPlaceholder("5"))},i.prototype.unescape=function(e){return e.replace(new RegExp(C.getPlaceholder("1"),"g"),"[[").replace(new RegExp(C.getPlaceholder("2"),"g"),"]]").replace(new RegExp(C.getPlaceholder("3"),"g"),"{{").replace(new RegExp(C.getPlaceholder("4"),"g"),"}}").replace(new RegExp(C.getPlaceholder("5"),"g"),"''")},i.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},i.prototype.wrap=function(e,t,r){return"html"===((""===t||"/"===t)&&(t=""),r)?this.wrapHtml(e,this.translateStyleShortcuts(t)):this.wrapSvg(e,this.translateStyleShortcuts(t))},i.prototype.wrapSvg=function(e,t){return""===t?"<tspan>"+e+"</tspan>":"<tspan style='"+t+"'>"+e+"</tspan>"},i.prototype.getSvgElement=function(e,t){var r=new Ta("tspan");return r.textContent=e,t&&r.node.setAttribute("style",t),r},i.prototype.wrapHtml=function(e,t){return""===t?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(t)+"'>"+e+"</span>"},i.prototype.getHtmlElement=function(e,t){var r=document.createElement("span");return r.innerHTML=e,t&&r.setAttribute("style",t),r},i.prototype.styleSvgToHtml=function(e){return e.replace(/fill:/,"color:")},i.prototype.translateStyleShortcuts=function(e){if(""==e||"[ ]"==e)return"";var t=C.getCache("translateStyleShortcuts_"+e);if(t)return t;var r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(var n=0;n<r.length;n++)e=e.replace(r[n],r[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var s=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!s)return e;for(n=0;n<s.length;n++)s[n]=s[n].match(/^bold$/i)?"font-weight:"+s[n]:"/"==s[n]?"":s[n].match(/:/)?s[n].replace(/\+/g," "):"fill:"+s[n];var o=s.join(";");return C.setCache("translateStyleShortcuts_"+e,o),o},i.prototype.chunk=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=[];e=this.escape(e);for(var s=t?e.split("'"):[e],o=0;o<s.length;o++){var h=s[o];if(""!==h)if(o%2==0)for(var u=(h=(h=h.replace(/\]\[/g,"]"+gt+"[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),c=0;c<u.length;c++)(d=this.cleanUp(this.unescape(u[c])))!==gt&&""!==d&&n.push(c%2==0?{type:"value",text:this.adapter.apply("chunk",d)}:{type:r?"value":"format",text:"["+d+"]"});else for(u=h.split(/[\[\]]+/),c=0;c<u.length;c++){var d;""!==(d=this.cleanUp(this.unescape(u[c])))&&(c%2==0?n.push({type:"text",text:d}):this.isImage(d)?n.push({type:"image",text:"["+d+"]"}):n.push({type:"format",text:"["+d+"]"}))}}return n},i.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},i}(tt);function Xt(){return null==Ss&&(Ss=new Vl),Ss}C.registeredClasses.TextFormatter=Vl;var Ts=function(a){function i(){var e=a.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.dispose=function(){a.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(i.prototype,"language",{get:function(){return this._language||(this._language=this.sprite?this.sprite.language:new ai),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),i.prototype.format=function(e,t,r){(typeof t>"u"||ne(t)&&"number"===t.toLowerCase())&&(t=this._numberFormat);var n,s=Number(e);if(_e(t))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,t).format(s):new Intl.NumberFormat(void 0,t).format(s)}catch{return"Invalid"}else{t=va(t);var o=this.parseFormat(t,this.language),h=void 0;h=s>this._negativeBase?o.positive:s<this._negativeBase?o.negative:o.zero,x(r)&&!h.mod&&(h=function md(a){return JSON.parse(JSON.stringify(a))}(h),h.decimals.active=0==s?0:r),n=h.template.split(gt).join(this.applyFormat(s,h))}return this.forceLTR&&(n="\u200e"+n),n},i.prototype.parseFormat=function(e,t){var r=this,n=this.getCache(e);if(x(n))return n;var s={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},o=(e=e.replace("||",Bi)).split("|");return s.positive.source=o[0],typeof o[2]>"u"?s.zero=s.positive:s.zero.source=o[2],typeof o[1]>"u"?s.negative=s.positive:s.negative.source=o[1],q(s,function(h,u){if(!u.parsed){if(typeof r.getCache(u.source)<"u")return void(s[h]=r.getCache(u.source));var c=u.source;"number"===c.toLowerCase()&&(c=ne(r._numberFormat)?r._numberFormat:"#,###.#####");for(var d=Xt().chunk(c,!0),p=0;p<d.length;p++){var f=d[p];if(f.text=f.text.replace(Bi,"|"),"value"===f.type){var g=f.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP\u2030!]?/);if(g)if(null===g||""===g[0])u.template+=f.text;else{var m=g[0].match(/[abespABESP%\u2030!]{2}|[abespABESP%\u2030]{1}$/);m&&(u.mod=m[0].toLowerCase(),u.modSpacing=!!g[0].match(/[ ]{1}[abespABESP%\u2030!]{1}$/));var v=g[0].split(".");if(""!==v[0]){u.thousands.active=(v[0].match(/0/g)||[]).length,u.thousands.passive=(v[0].match(/\#/g)||[]).length+u.thousands.active;var b=v[0].split(",");1===b.length||(u.thousands.interval=Ce(b.pop()).length,0===u.thousands.interval&&(u.thousands.interval=-1))}typeof v[1]>"u"||(u.decimals.active=(v[1].match(/0/g)||[]).length,u.decimals.passive=(v[1].match(/\#/g)||[]).length+u.decimals.active),u.template+=f.text.split(g[0]).join(gt)}}else u.template+=f.text}r.setCache(u.source,u),u.parsed=!0}}),this.setCache(e,s),s},i.prototype.applyFormat=function(e,t){var r=e<0;e=Math.abs(e);var n="",s="",o=t.mod?t.mod.split(""):[];if(-1!==o.indexOf("b")){var h=this.applyPrefix(e,this.bytePrefixes,-1!==o.indexOf("!"));e=h[0],n=h[1],s=h[2],t.modSpacing&&(s=" "+s)}else if(-1!==o.indexOf("a")){var u=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==o.indexOf("!"));e=u[0],n=u[1],s=u[2],t.modSpacing&&(s=" "+s)}else if(-1!==o.indexOf("p")){var c=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(c)),n=this.language.translate("_percentPrefix")||"",s=this.language.translate("_percentSuffix")||"",""==n&&""==s&&(s="%")}else-1!==o.indexOf("%")?(c=se(e.toString().length+2,21),e*=100,e=parseFloat(e.toPrecision(c)),s="%"):-1!==o.indexOf("\u2030")&&(c=se(e.toString().length+3,21),e*=1e3,e=parseFloat(e.toPrecision(c)),s="\u2030");if(-1!==o.indexOf("e")){var d;d=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(d[0]),s="e"+d[1],t.modSpacing&&(s=" "+s)}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){var p=Math.pow(10,t.decimals.passive);e=Math.round(e*p)/p}var f="",g=function Gd(a){if(Ue(a))return"NaN";if(a===1/0)return"Infinity";if(a===-1/0)return"-Infinity";if(0===a&&1/a==-1/0)return"-0";var i=a<0;a=Math.abs(a);var n,e=Ce(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+a)),t=e[1],r=e[2]||"";if(null==e[3])n=""===r?t:t+"."+r;else{var o,s=+e[3];n=a<1?"0."+Ko("0",o=s-1)+t+r:0==(o=s-r.length)?t+r:o<0?t+r.slice(0,o)+"."+r.slice(o):t+r+Ko("0",o)}return i?"-"+n:n}(e).split("."),m=g[0];if(m.length<t.thousands.active&&(m=Array(t.thousands.active-m.length+1).join("0")+m),t.thousands.interval>0){for(var v=[],b=m.split("").reverse().join(""),_=0,P=m.length;_<=P;_+=t.thousands.interval){var S=b.substr(_,t.thousands.interval).split("").reverse().join("");""!==S&&v.unshift(S)}m=v.join(t.thousands.separator)}f+=m,1===g.length&&g.push("");var D=g[1];return D.length<t.decimals.active&&(D+=Array(t.decimals.active-D.length+1).join("0")),""!==D&&(f+=t.decimals.separator+D),""===f&&(f="0"),0!==e&&r&&-1===o.indexOf("s")&&(f="-"+f),n&&(f=n+f),s&&(f+=s),f},i.prototype.applyPrefix=function(e,t,r){void 0===r&&(r=!1);for(var n=e,s="",o="",h=!1,u=1,c=0,d=t.length;c<d;c++)t[c].number<=e&&(0===t[c].number?n=0:(n=e/t[c].number,u=t[c].number),s=t[c].prefix,o=t[c].suffix,h=!0);return!h&&r&&t.length&&0!=e&&(n=e/t[0].number,s=t[0].prefix,o=t[0].suffix,h=!0),h&&(n=parseFloat(n.toPrecision(se(u.toString().length+Math.floor(n).toString().replace(/[^0-9]*/g,"").length,21)))),[n,s,o]},i.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(i.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bigNumberPrefixes",{get:function(){return x(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smallNumberPrefixes",{get:function(){return x(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bytePrefixes",{get:function(){return x(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),i.prototype.escape=function(e){return e.replace("||",Bi)},i.prototype.unescape=function(e){return e.replace(Bi,"|")},i}(tt);C.registeredClasses.NumberFormatter=Ts;var Pr=function(a){function i(){var e=a.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),i.prototype.format=function(e,t,r){var n,s;if(this.language||(this.language=this.sprite?this.sprite.language:new ai),(typeof t>"u"||""===t)&&(t=this._dateFormat),s=ne(e)?this.parse(e):ll(e),_e(t))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,t).format(s):new Intl.DateTimeFormat(void 0,t).format(s)}catch{return"Invalid"}else{t=va(t);var o=this.parseFormat(t);if(x(this.timezoneOffset)?s.setMinutes(s.getMinutes()+s.getTimezoneOffset()-this.timezoneOffset):x(this.timezone)&&!1!==r&&(s=Aa(s,this.timezone)),!y(s.getTime()))return this.language.translate("Invalid date");n=this.applyFormat(s,o,this.language),this.capitalize&&(n=n.replace(/^.{1}/,n.substr(0,1).toUpperCase()))}return n},i.prototype.parseFormat=function(e){var t=this.getCache(e);if(x(t))return t;for(var r={template:"",parts:[]},n=Xt().chunk(e,!0),s=0;s<n.length;s++){var o=n[s];if("value"===o.type){o.text.match(/^date$/i)&&ne(this._dateFormat)&&(o.text=this._dateFormat);var h=o.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(h)for(var u=0;u<h.length;u++)r.parts.push(h[u]),o.text=o.text.replace(h[u],gt)}r.template+=o.text}return this.setCache(e,r),r},i.prototype.applyFormat=function(e,t,r){var s,o,h,u,c,d,p,f,n=t.template,g=e.getTimezoneOffset(),m=e.getTime();this.utc?(s=e.getUTCFullYear(),o=e.getUTCMonth(),h=e.getUTCDay(),u=e.getUTCDate(),c=e.getUTCHours(),d=e.getUTCMinutes(),p=e.getUTCSeconds(),f=e.getUTCMilliseconds()):(s=e.getFullYear(),o=e.getMonth(),h=e.getDay(),u=e.getDate(),c=e.getHours(),d=e.getMinutes(),p=e.getSeconds(),f=e.getMilliseconds());for(var v=0,b=t.parts.length;v<b;v++){var _="";switch(t.parts[v]){case"G":_=r.translate(s<0?"_era_bc":"_era_ad");break;case"yyyy":_=Math.abs(s).toString(),s<0&&(_+=r.translate("_era_bc"));break;case"yyy":case"yy":case"y":_=Math.abs(s).toString().substr(-t.parts[v].length),s<0&&(_+=r.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var S=s;1==br(e)&&h>4&&S--,_="YYYY"==t.parts[v]?Math.abs(S).toString():Math.abs(S).toString().substr(-t.parts[v].length),S<0&&(_+=r.translate("_era_bc"));break;case"u":case"F":case"g":break;case"q":_=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":_=r.translate(this.months[o]).substr(0,1);break;case"MMMM":_=r.translate(this.months[o]);break;case"MMM":_=r.translate(this.monthsShort[o]);break;case"MM":_=Qe(o+1,2,"0");break;case"M":_=(o+1).toString();break;case"ww":_=Qe(br(e,this.utc),2,"0");break;case"w":_=br(e,this.utc).toString();break;case"W":_=Xd(e,this.utc).toString();break;case"dd":_=Qe(u,2,"0");break;case"d":_=u.toString();break;case"DD":case"DDD":_=Qe(hl(e,this.utc).toString(),t.parts[v].length,"0");break;case"D":_=hl(e,this.utc).toString();break;case"t":_=r.translateFunc("_dateOrd").call(this,u);break;case"E":_=(h||7).toString();break;case"EE":_=Qe((h||7).toString(),2,"0");break;case"EEE":case"eee":_=r.translate(this.weekdaysShort[h]);break;case"EEEE":case"eeee":_=r.translate(this.weekdays[h]);break;case"EEEEE":case"eeeee":_=r.translate(this.weekdays[h]).substr(0,1);break;case"e":case"ee":_=(h-this.firstDayOfWeek+1).toString(),"ee"==t.parts[v]&&(_=Qe(_,2,"0"));break;case"a":_=r.translate(c>=12?"PM":"AM");break;case"aa":_=r.translate(c>=12?"P.M.":"A.M.");break;case"aaa":_=r.translate(c>=12?"P":"A");break;case"h":_=ya(c).toString();break;case"hh":_=Qe(ya(c),2,"0");break;case"H":_=c.toString();break;case"HH":_=Qe(c,2,"0");break;case"K":_=ya(c,0).toString();break;case"KK":_=Qe(ya(c,0),2,"0");break;case"k":_=(c+1).toString();break;case"kk":_=Qe(c+1,2,"0");break;case"m":_=d.toString();break;case"mm":_=Qe(d,2,"0");break;case"s":_=p.toString();break;case"ss":_=Qe(p,2,"0");break;case"S":case"SS":case"SSS":_=Math.round(f/1e3*Math.pow(10,t.parts[v].length)).toString();break;case"x":_=m.toString();break;case"n":case"nn":case"nnn":_=Qe(f,t.parts[v].length,"0");break;case"z":_=ba(e,!1,!1,this.utc);break;case"zz":_=ba(e,!0,!1,this.utc);break;case"zzz":_=ba(e,!1,!0,this.utc);break;case"zzzz":_=ba(e,!0,!0,this.utc);break;case"Z":case"ZZ":var D=Math.abs(g)/60,T=Math.floor(D),A=60*D-60*T;this.utc&&(T=0,A=0),"Z"==t.parts[v]?(_="GMT",_+=g>0?"-":"+",_+=Qe(T,2)+":"+Qe(A,2)):(_=g>0?"-":"+",_+=Qe(T,2)+Qe(A,2));break;case"i":_=e.toISOString();break;case"I":_=e.toUTCString()}n=n.replace(gt,_)}return n},i.prototype.parse=function(e,t){if(x(t)||(t=this.inputDateFormat),e instanceof Date)return e;if("number"==typeof e)return new Date(e);"string"!=typeof e&&(e=e.toString()),this.language||(this.language=this.sprite?this.sprite.language:new ai);var r,n="";t=(t=va(t)).substr(0,e.length);for(var s=this.parseFormat(t),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},h={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},u=0,c=0,d=0;d<s.parts.length;d++){switch(c=d+u+1,s.parts[d]){case"yyyy":case"YYYY":n+="([0-9]{4})",o.year=c;break;case"yyy":case"YYY":n+="([0-9]{3})",o.year3=c;break;case"yy":case"YY":n+="([0-9]{2})",o.year2=c;break;case"y":case"Y":n+="([0-9]{1})",o.year1=c;break;case"MMMM":n+="("+this.getStringList(this.months).join("|")+")",o.monthLong=c;break;case"MMM":n+="("+this.getStringList(this.monthsShort).join("|")+")",o.monthShort=c;break;case"MM":case"M":n+="([0-9]{2}|[0-9]{1})",o.month=c;break;case"ww":case"w":n+="([0-9]{2}|[0-9]{1})",o.week=c;break;case"dd":case"d":n+="([0-9]{2}|[0-9]{1})",o.day=c;break;case"DDD":case"DD":case"D":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=c;break;case"dddd":n+="("+this.getStringList(this.weekdays).join("|")+")",o.weekdayLong=c;break;case"ddd":n+="("+this.getStringList(this.weekdaysShort).join("|")+")",o.weekdayShort=c;break;case"aaa":case"aa":case"a":n+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=c;break;case"hh":case"h":n+="([0-9]{2}|[0-9]{1})",o.hour12Base1=c;break;case"HH":case"H":n+="([0-9]{2}|[0-9]{1})",o.hourBase0=c;break;case"KK":case"K":n+="([0-9]{2}|[0-9]{1})",o.hour12Base0=c;break;case"kk":case"k":n+="([0-9]{2}|[0-9]{1})",o.hourBase1=c;break;case"mm":case"m":n+="([0-9]{2}|[0-9]{1})",o.minute=c;break;case"ss":case"s":n+="([0-9]{2}|[0-9]{1})",o.second=c;break;case"SSS":case"SS":case"S":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=c,o.millisecondDigits=s.parts[d].length;break;case"nnn":case"nn":case"n":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=c;break;case"x":n+="([0-9]{1,})",o.timestamp=c;break;case"Z":n+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=c;break;case"ZZ":n+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=c;break;case"i":n+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",o.iso=c,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--}n+="[^0-9]*"}var p=new RegExp(n),f=e.match(p);if(f){if(o.year>-1&&(h.year=parseInt(f[o.year])),o.year3>-1){var g=parseInt(f[o.year3]);h.year=g+=1e3}if(o.year2>-1&&(g=parseInt(f[o.year2]),h.year=g+=g>50?1e3:2e3),o.year1>-1&&(g=parseInt(f[o.year1]),g=10*Math.floor((new Date).getFullYear()/10)+g,h.year=g),o.monthLong>-1&&(h.month=this.resolveMonth(f[o.monthLong])),o.monthShort>-1&&(h.month=this.resolveShortMonth(f[o.monthShort])),o.month>-1&&(h.month=parseInt(f[o.month])-1),o.week>-1&&-1===o.day&&(h.month=0,h.day=function qd(a,i,e,t){void 0===e&&(e=1),void 0===t&&(t=!1);var r=new Date(i,0,4,0,0,0,0);return t&&r.setUTCFullYear(i),7*a+e-((r.getDay()||7)+3)}(parseInt(f[o.week]),h.year,1,this.utc)),o.day>-1&&(h.day=parseInt(f[o.day])),o.yearDay>-1&&(h.month=0,h.day=parseInt(f[o.yearDay])),o.hourBase0>-1&&(h.hour=parseInt(f[o.hourBase0])),o.hourBase1>-1&&(h.hour=parseInt(f[o.hourBase1])-1),o.hour12Base0>-1&&(11==(g=parseInt(f[o.hour12Base0]))&&(g=0),o.am>-1&&!this.isAm(f[o.am])&&(g+=12),h.hour=g),o.hour12Base1>-1&&(12==(g=parseInt(f[o.hour12Base1]))&&(g=0),o.am>-1&&!this.isAm(f[o.am])&&(g+=12),h.hour=g),o.minute>-1&&(h.minute=parseInt(f[o.minute])),o.second>-1&&(h.second=parseInt(f[o.second])),o.millisecond>-1&&(g=parseInt(f[o.millisecond]),2==o.millisecondDigits?g*=10:1==o.millisecondDigits&&(g*=100),h.millisecond=g),o.timestamp>-1){h.timestamp=parseInt(f[o.timestamp]);var m=new Date(h.timestamp);h.year=m.getUTCFullYear(),h.month=m.getUTCMonth(),h.day=m.getUTCDate(),h.hour=m.getUTCHours(),h.minute=m.getUTCMinutes(),h.second=m.getUTCSeconds(),h.millisecond=m.getUTCMilliseconds()}o.zone>-1&&(h.offset=this.resolveTimezoneOffset(new Date(h.year,h.month,h.day),f[o.zone])),o.iso>-1&&(h.year=ve(f[o.iso+0]),h.month=ve(f[o.iso+1])-1,h.day=ve(f[o.iso+2]),h.hour=ve(f[o.iso+3]),h.minute=ve(f[o.iso+4]),h.second=ve(f[o.iso+5]),h.millisecond=ve(f[o.iso+6]),"Z"==f[o.iso+7]||"z"==f[o.iso+7]?h.utc=!0:""!=f[o.iso+7]&&(h.offset=this.resolveTimezoneOffset(new Date(h.year,h.month,h.day),f[o.iso+7]))),r=h.utc?new Date(Date.UTC(h.year,h.month,h.day,h.hour,h.minute,h.second,h.millisecond)):new Date(h.year,h.month,h.day,h.hour,h.minute+h.offset,h.second,h.millisecond)}else r=new Date(e);return r},i.prototype.resolveTimezoneOffset=function(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var n=Ce(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),s=n[1],h=n[3],u=60*parseInt(n[2])+parseInt(h);return"+"==s&&(u*=-1),u-(e||new Date).getTimezoneOffset()}return 0},i.prototype.resolveMonth=function(e){var t=this.months.indexOf(e);return t>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.months).indexOf(e))>-1?t:0},i.prototype.resolveShortMonth=function(e){var t=this.monthsShort.indexOf(e);return t>-1||(t=this.months.indexOf(e))>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.monthsShort).indexOf(e))>-1?t:0},i.prototype.isAm=function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1},i.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},i.prototype.getStringList=function(e){for(var t=[],r=0;r<e.length;r++)t.push(ts(this.language?this.language.translate(e[r]):e[r]));return t},Object.defineProperty(i.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=function Gp(a){var i=new Date;return i.setHours(0,0,0,0),Aa(i,a).getMinutes()}(e),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),i}(tt);C.registeredClasses.DateFormatter=Pr;var As=function(a){function i(){var e=a.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.format=function(e,t,r){this.language||(this.language=this.sprite?this.sprite.language:new ai);var n=r||this._baseUnit;(typeof t>"u"||""===t)&&(t=x(this.durationFormat)?this.durationFormat:this.getFormat(ve(e),null,n)),t=va(t);var h,s=this.parseFormat(t,n),o=Number(e),u=this.applyFormat(o,h=o>this._negativeBase?s.positive:o<this._negativeBase?s.negative:s.zero);return""!==h.color&&("svg"===this._outputFormat?u="<tspan fill='"+h.color+"'>"+u+"</tspan>":"html"===this._outputFormat&&(u="<span style='color: "+h.color+";'>"+u+"</span>")),u},i.prototype.parseFormat=function(e,t){var r=this,n=this.getCache(e);if(x(n))return n;var s=t||this._baseUnit,o={positive:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:s,parsed:!1,absolute:!1}},h=(e=e.replace("||",Bi)).split("|");return o.positive.source=h[0],typeof h[2]>"u"?o.zero=o.positive:o.zero.source=h[2],typeof h[1]>"u"?o.negative=o.positive:o.negative.source=h[1],q(o,function(u,c){if(!c.parsed){if(typeof r.getCache(c.source)<"u")return void(o[u]=r.getCache(c.source));var p,d=c.source;(p=c.source.match(/^\[([^\]]*)\]/))&&p.length&&""!==p[0]&&(d=c.source.substr(p[0].length),c.color=p[1]);for(var f=Xt().chunk(d,!0),g=0;g<f.length;g++){var m=f[g];if(m.text=m.text.replace(Bi,"|"),"value"===m.type){m.text.match(/[yYMdDwhHKkmsSn]+a/)&&(c.absolute=!0,m.text=m.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var v=m.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(v)for(var b=0;b<v.length;b++)x(v[b])||(v[b]=r._unitAliases[v[b]]),c.parts.push(v[b]),m.text=m.text.replace(v[b],gt)}c.template+=m.text}r.setCache(c.source,c),c.parsed=!0}}),this.setCache(e,o),o},i.prototype.applyFormat=function(e,t){var r=!t.absolute&&e<this._negativeBase;e=Math.abs(e);for(var n=this.toTimeStamp(e,t.baseUnit),s=t.template,o=0,h=t.parts.length;o<h;o++){var u=t.parts[o],c=this.toTimeUnit(u.substr(0,1)),d=u.length,p=Math.floor(n/this._unitValues[c]);s=s.replace(gt,Qe(p,d,"0")),n-=p*this._unitValues[c]}return r&&(s="-"+s),s},i.prototype.toTimeStamp=function(e,t){return e*this._unitValues[t]},i.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},i.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(i.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),i.prototype.getFormat=function(e,t,r){if(x(this.durationFormat))return this.durationFormat;if(r||(r=this.baseUnit),x(t)&&e!=t){e=Math.abs(e),t=Math.abs(t);var n=this.getValueUnit(Q(e,t),r);return this.durationFormats[r][n]}var s=this.getValueUnit(e,r);return this.durationFormats[r][s]},i.prototype.getValueUnit=function(e,t){t||(t=this.baseUnit);var r,n=this.getMilliseconds(e,t);return Go(this._unitValues,function(s,o){if(s==t||r){if(n/o<=1)return r||(r=s),!1;r=s}return!0}),r},i.prototype.getMilliseconds=function(e,t){return t||(t=this.baseUnit),e*this._unitValues[t]},Object.defineProperty(i.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),i}(tt);C.registeredClasses.DurationFormatter=As;var Os,Rl=new be,El=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e._validateDisposer=null,e}return(0,w.ZT)(i,a),i.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=C.events.on("exitframe",this.validate,this))},i.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},i.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),a.prototype.dispose.call(this)},i}(Rt),tf=function(a){function i(){var e=a.call(this)||this;return e.adapter=new ut(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new He,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){this.draw(),a.prototype.validate.call(this)},i.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),Ce(this._container).appendChild(this._element);for(var t=this.adapter.apply("items",{items:this._items}).items,r=t.length,n=0;n<r;n++)this.drawBranch(this._element,t[n],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(J().body.events.on("down",function(s){s.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push(J().body.events.on("keydown",function(s){var o=Et.getEventKey(s.event);switch(o){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&s.event.preventDefault(),e.moveSelection(o)}})),this.defaultStyles&&this.loadDefaultCSS()},i.prototype.drawBranch=function(e,t,r){var n=this;if(!0!==(t=this.adapter.apply("branch",{branch:t,level:r}).branch).unsupported){t.ascendants||(t.ascendants=new he);var h,s=t.type,o=this.createItemElement(r,s);t.icon?((h=this.createIconElement(r,s)).src=t.icon,(t.label||t.title)&&(h.title=t.title||t.label)):t.svg?(h=this.createSvgElement(r,s,t.svg),(t.label||t.title)&&(h.title=t.title||t.label)):((h=this.createLabelElement(r,s)).innerHTML=t.label?this.language.translate(t.label):"",t.title&&(h.title=t.title));var u=this.getReaderLabel(t,h.innerHTML);h.setAttribute("aria-label",u),o.appendChild(h),t.interactions=J().getInteraction(o),t.element=o,this.typeClickable(s)&&(t.interactions.events.on("hit",function(v){n.events.isEnabled("hit")&&!n.isDisposed()&&n.events.dispatchImmediately("hit",{type:"hit",event:v.event,target:n,branch:t})}),t.interactions.events.on("keyup",function(v){Et.isKey(v.event,"enter")&&n.events.isEnabled("enter")&&n.events.dispatchImmediately("enter",{type:"enter",event:v.event,target:n,branch:t})}));var c=this.getSubMenu(t);null!=c&&(t.interactions.events.on("keyup",function(v){Et.isKey(v.event,"enter")&&(n.selectBranch(c[0]),n.setFocus(c[0]))}),t.interactions.events.on("hit",function(v){n.selectBranch(t)})),t.interactions.events.on("over",function(v){v.pointer.touch&&(n._ignoreNextClose=!0),n.selectBranch(t),n.events.isEnabled("over")&&n.events.dispatchImmediately("over",{type:"over",event:v.event,target:n,branch:t})}),t.interactions.events.on("out",function(v){!n.isDisposed()&&(v.pointer.touch||n.delayUnselectBranch(t),n.events.isEnabled("out"))&&n.events.dispatchImmediately("out",{type:"out",event:v.event,target:n,branch:t})}),t.interactions.events.on("focus",function(v){n.selectBranch(t)}),t.interactions.events.on("blur",function(v){n.delayUnselectBranch(t)});var d=r+1;if(t.menu){var p=this.createMenuElement(d);t.submenuElement=p;for(var f=t.menu.length,g=0;g<f;g++){var m=new he;t.menu[g].ascendants=m,t.ascendants.length&&m.copyFrom(t.ascendants),m.push(t),this.drawBranch(p,t.menu[g],d)}if(""==p.innerHTML)return;o.appendChild(p)}t.hidden&&this.hideBranch(t),t.id&&o.setAttribute("id",t.id),t.color&&(o.style.backgroundColor=t.color.hex),e.appendChild(o)}},i.prototype.createMenuElement=function(e){var t=document.createElement(this.menuTag);return t.className=this.getMenuItemClass(e),t.setAttribute("role",0===e?"menubar":"menu"),t},i.prototype.getMenuItemClass=function(e){var t=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return 0===e&&(t+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:t,level:e}).className},i.prototype.createItemElement=function(e,t){var r=document.createElement(this.itemTag);return r.className=this.adapter.apply("itemClass",{className:this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank"),level:e,type:t}).className,r.setAttribute("role","menuitem"),r.setAttribute("tabindex",this.tabindex.toString()),r},i.prototype.createLabelElement=function(e,t){var r=document.createElement(this.labelTag),n=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,r},i.prototype.createIconElement=function(e,t){var r=document.createElement(this.iconTag),n=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},i.prototype.createSvgElement=function(e,t,r){var s=(new DOMParser).parseFromString(r,"image/svg+xml").documentElement,o=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(o+=" "+this.classPrefix+"-clickable"),s.setAttribute("class",this.adapter.apply("labelClass",{className:o,level:e,type:t}).className),s.setAttribute("tabindex",this.tabindex.toString()),s.setAttribute("role","menuitem"),s},i.prototype.dispose=function(){this._disposed||(a.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},i.prototype.typeClickable=function(e){return x(e)},i.prototype.hasSubMenu=function(e){return!(!e.menu||!e.menu.length)},i.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},i.prototype.getReaderLabel=function(e,t){return t=ol(t),0==e.ascendants.length?(t="..."==t?this.language.translate("Export"):t,t+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?t+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==e.type?t=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(t=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,t)),this.adapter.apply("rederLabel",{label:t,branch:e}).label},Object.defineProperty(i.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag="ul"==e?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.loadDefaultCSS=function(){this._disposers.push(function ef(a,i){var e=i||"amexport",t=new ce;return Rl.insertKeyIfEmpty(e,function(){var n=new Pe([new ge(a,"."+e+"-menu *",{"box-sizing":"border-box"}),new ge(a,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new ge(a,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new ge(a,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new ge(a,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new ge(a,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new ge(a,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new ge(a,"div:hover > div > ."+e+"-menu ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new ge(a,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new ge(a,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new ge(a,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":t.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:t.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new ge(a,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new ge(a,"."+e+"-item:hover, ."+e+"-item.active",{background:t.getFor("secondaryButtonHover").hex,color:t.getFor("secondaryButtonText").hex}),new ge(a,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new ge(a,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new ge(a,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new ge(a,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new ge(a,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new ge(a,"."+e+"-item > ."+e+"-menu",{display:"none"}),new ge(a,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new ge(a,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new ge(a,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new ge(a,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new ge(a,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new ge(a,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new ge(a,"."+e+"-clickable",{cursor:"pointer"})]);return new oa(function(){Rl.removeKey(e),n.dispose()})}).increment()}(ys(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(i.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"language",{get:function(){var e=this,t=this._language.get();return null==t&&(t=new ai,this._language.set(t,t.events.on("localechanged",function(r){e.invalidate()}))),t},set:function(e){var t=this;this._language.set(e,e.events.on("localechanged",function(r){t.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.close=function(){var e=this;if(!this.isDisposed()){if(this._ignoreNextClose)return void(this._ignoreNextClose=!1);if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var t=this._element.getElementsByClassName("active"),n=t.length-1;n>=0;n--)t[n]&&ms(t[n],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},i.prototype.selectBranch=function(e){var t=this;!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),gs(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&I(function bd(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return function(e){for(var t=!0,r=function(o){return t=e(o)},n=a.length,s=0;s<n&&(a[s](r),t);++s);}}(pi([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(n){!e.ascendants.contains(n)&&e!==n&&t.unselectBranch(n,!0)}),I(e.ascendants.iterator(),function(n){n.closeTimeout&&(t.removeDispose(n.closeTimeout),n.closeTimeout=void 0),gs(n.element,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected"))&&this.events.dispatchImmediately("branchselected",{type:"branchselected",target:this,branch:e})},i.prototype.unselectBranch=function(e,t){!this.isDisposed()&&(ms(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))&&this.events.dispatchImmediately("branchunselected",{type:"branchunselected",target:this,branch:e})},i.prototype.delayUnselectBranch=function(e,t){var r=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){r.unselectBranch(e,t)},this.closeDelay),!0!==t&&e.ascendants&&I(e.ascendants.iterator(),function(n){r.delayUnselectBranch(n,!0)}))},i.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var t;if("up"==e)t=this.getPrevSibling(this._currentSelection);else if("down"==e)t=this.getNextSibling(this._currentSelection);else if("left"==e&&"right"==this.align||"right"==e&&"left"==this.align){var r=this.getSubMenu(this._currentSelection);null!=r&&(t=r[0])}else("right"==e&&"right"==this.align||"left"==e&&"left"==this.align)&&(t=this.getParentItem(this._currentSelection));t&&t!==this._currentSelection&&(this.selectBranch(t),this.setFocus(t),this._currentSelection=t)}},i.prototype.getSiblings=function(e){var t=this.getParentItem(e);return t&&t.menu?t.menu:[]},i.prototype.getParentItem=function(e){if(e.ascendants&&e.ascendants.length)return e.ascendants.getIndex(e.ascendants.length-1)},i.prototype.getNextSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var r=t.indexOf(e)+1;return t[r=t.length==r?0:r].unsupported?this.getNextSibling(t[r]):t[r]}return e},i.prototype.getPrevSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var r=t.indexOf(e)-1;return t[r=-1==r?t.length-1:r].unsupported?this.getPrevSibling(t[r]):t[r]}return e},i.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch{}},i.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch{}},i.prototype.hideBranch=function(e){e.element.style.display="none"},i.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(i.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),i}(El);function ka(a,i,e){return new Promise(function(t,r){var n=x(e)&&"blob"==e.responseType,s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status){var c;if(n)return void function rf(a){return new Promise(function(i,e){var t=new FileReader;t.onload=function(r){i(t.result)},t.onerror=function(r){e(r)},t.readAsText(a)})}(c=s.response).then(function(p){var f={xhr:s,error:!1,response:p,blob:c,type:s.getResponseHeader("Content-Type"),target:i};t(f)});var d={xhr:s,error:!1,response:s.responseText||s.response,blob:c,type:s.getResponseHeader("Content-Type"),target:i};t(d)}else r({xhr:s,error:!0,type:s.getResponseHeader("Content-Type"),target:i})},s.onerror=function(){r({xhr:s,error:!0,type:s.getResponseHeader("Content-Type"),target:i})},s.open("GET",a,!0),e&&e.withCredentials&&(s.withCredentials=!0),x(e)){if(x(e.requestHeaders))for(var o=0;o<e.requestHeaders.length;o++){var h=e.requestHeaders[o];s.setRequestHeader(h.key,h.value)}x(e.responseType)&&(s.responseType=e.responseType)}s.send()})}var Ll=/src: ([^;]+);/;function sf(a){return new Promise(function(i,e){var t=new FileReader;t.onload=function(r){i(t.result)},t.onerror=function(r){e(r)},t.readAsDataURL(a)})}function lf(a){return(0,w.mG)(this,void 0,void 0,function(){var i;return(0,w.Jh)(this,function(t){switch(t.label){case 0:i=a.sheet,t.label=1;case 1:return t.trys.push([1,2,,4]),[2,i.cssRules];case 2:return t.sent(),[4,new Promise(function(r,n){a.addEventListener("load",function(){r(i.cssRules)},!0),a.addEventListener("error",function(s){n(s)},!0),setTimeout(function(){n(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,t.sent()];case 4:return[2]}})})}function jl(a,i,e){return(0,w.mG)(this,void 0,void 0,function(){var t,r,n,s;return(0,w.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,ka(i)];case 1:return t=o.sent(),[3,3];case 2:return r=o.sent(),console.error("Failed to load stylesheet",i,r),[2];case 3:(n=a.createElement("style")).textContent=t.response,""!=ie.nonce&&n.setAttribute("nonce",ie.nonce),a.head.appendChild(n),o.label=4;case 4:return o.trys.push([4,,7,8]),[4,lf(n)];case 5:return s=o.sent(),[4,Nl(a,i,s,e)];case 6:return o.sent(),[3,8];case 7:return a.head.removeChild(n),[7];case 8:return[2]}})})}function Nl(a,i,e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s,o,h;return(0,w.Jh)(this,function(u){switch(u.label){case 0:for(r=[],n=e.length,s=0;s<n;s++)(o=e[s]).type===CSSRule.IMPORT_RULE?(h=o.href)&&(h=cs(i,h),r.push(jl(a,h,t))):t(i,o);return r.length?[4,Promise.all(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})}function hf(a){return(0,w.mG)(this,void 0,void 0,function(){var i,e;return(0,w.Jh)(this,function(t){switch(t.label){case 0:(i=document.createElement("iframe")).src="about:blank",i.setAttribute("title",""),document.head.appendChild(i),t.label=1;case 1:return t.trys.push([1,,3,4]),e=i.contentDocument,[4,Promise.all(hr(document.styleSheets,function(r){var n=r.href;return null==n?Nl(e,location.href,r.cssRules,a):(n=cs(location.href,n),jl(e,n,a))}))];case 2:return t.sent(),[3,4];case 3:return document.head.removeChild(i),[7];case 4:return[2]}})})}var uf=function(a){function i(e){var t=a.call(this)||this;return t.adapter=new ut(t),t._formatOptions=new be,t._extraSprites=[],t._validateSprites=[],t.dataFieldsOrder=[],t._dynamicDataFields=!0,t._removedObjects=new he,t._hiddenObjects=[],t._objectsAlreadyHidden=!1,t._filePrefix="amCharts",t.useWebFonts=!0,t.useRetina=!0,t.useSimplifiedExport=!0,t.timeoutDelay=2e3,t._exportRunning=!1,t._prevHasData=!1,t._container=e,t.className="Export",t._formatOptions.setKey("png",{}),t._formatOptions.setKey("jpg",{quality:.8}),t._formatOptions.setKey("gif",{}),t._formatOptions.setKey("svg",{}),t._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),t._formatOptions.setKey("json",{indent:2,useLocale:!0}),t._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),t._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),t._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),t._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),t._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),t.adapter.add("options",function(r){var n=t._formatOptions.getKey(r.type);return r.options=r.options?zn(n,r.options):n,r}),t.applyTheme(),t.dispatchImmediately("inited"),t}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"menu",{get:function(){return this._menu},set:function(e){var t=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(r){return r.branch.unsupported=!t.typeSupported(r.branch.type),r}),this._menu.events.on("hit",function(r){t.export(r.branch.type,r.branch.options),t.menu.close()}),this._menu.events.on("enter",function(r){t.export(r.branch.type,r.branch.options),t.menu.close()}),this._menu.events.on("over",function(r){t._disablePointers()}),this._menu.events.on("out",function(r){setTimeout(function(){t._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(r){return r.classPrefix=ie.classNamePrefix+r.classPrefix,r}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),i.prototype.typeSupported=function(e){var t=!0,r=this.getFormatOptions(e);return x(r)&&r.disabled?t=!1:"pdf"===e||("xlsx"===e?t=!!this._hasData():("print"==e&&!window.print||-1!==["json","csv","html","pdfdata"].indexOf(e)&&!this._hasData())&&(t=!1)),this.adapter.apply("supported",{supported:t,type:e}).supported},i.prototype._hasData=function(){return this.data&&this.data.length},i.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},i.prototype.export=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var n,s,u=this;return(0,w.Jh)(this,function(c){switch(c.label){case 0:return"custom"==e?(this.handleCustom(t),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&this.events.dispatchImmediately("exportstarted",{type:"exportstarted",target:this,format:e,options:t}),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){u.events.isEnabled("exporttimedout")&&u.events.dispatchImmediately("exporttimedout",{type:"exporttimedout",target:u,format:e,options:t}),u.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),n=this._getFunction(e),t=this.adapter.apply("options",{options:t,type:e}).options,[4,(n=this.adapter.apply("exportFunction",{func:n,type:e,options:t}).func).call(this,e,t)]);case 1:return s=c.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),s?(this.events.isEnabled("exportfinished")&&this.events.dispatchImmediately("exportfinished",{type:"exportfinished",target:this,format:e,options:t}),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===e?[2,this.print(s,t,this.adapter.apply("title",{title:this.title,options:t}).title)]:"pdfdata"==e?[2,this.download(s,this.filePrefix+".pdf")]:[2,this.download(s,this.filePrefix+"."+e,t&&t.addBOM)]):(this.events.isEnabled("error")&&this.events.dispatchImmediately("error",{type:"error",target:this,format:e,options:t}),[2,!1])}})})},i.prototype.unsupported=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){return(0,w.Jh)(this,function(r){return[2,""]})})},i.prototype.handleCustom=function(e){x(e)&&x(e.callback)&&e.callback.call(e.callbackTarget||this,e)},i.prototype.getPrint=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){return(0,w.Jh)(this,function(r){return[2,this.getImage("png",t)]})})},i.prototype.getFontFamilies=function(){return(0,w.mG)(this,void 0,void 0,function(){var e,t,r,n,s=this;return(0,w.Jh)(this,function(o){switch(o.label){case 0:return e=this.getDOMURL(),t=[],r=[],[4,hf(function(h,u){if(u.type===CSSRule.FONT_FACE_RULE){var c=u.cssText,d=Ll.exec(c);if(null!==d){var p=d[1].split(/ *, */).map(function(f){return(0,w.mG)(s,void 0,void 0,function(){var g,m,v,b,_,P;return(0,w.Jh)(this,function(S){switch(S.label){case 0:return null!==(g=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(f))?[3,1]:[2,f];case 1:if(m=g[2],v=cs(h,g[1]),this.webFontFilter&&!v.match(this.webFontFilter))return[2,null];S.label=2;case 2:return S.trys.push([2,7,,8]),[4,ka(v,void 0,{responseType:"blob"})];case 3:return b=S.sent(),function nf(){return null!=window.navigator.msSaveOrOpenBlob}()?(_=e.createObjectURL(b.blob),t.push(_),[3,6]):[3,4];case 4:return[4,sf(b.blob)];case 5:_=S.sent(),S.label=6;case 6:return[2,'url("'+_+'")'+m];case 7:return P=S.sent(),console.error("Failed to load font",v,P),[2,null];case 8:return[2]}})})});r.push(Promise.all(p).then(function(f){return 0===(f=f.filter(function(g){return null!=g})).length?"":c.replace(Ll,"src: "+f.join(", ")+";")}))}}})];case 1:return o.sent(),[4,Promise.all(r)];case 2:return n=o.sent(),[2,{blobs:t,cssText:n.filter(function(h){return!!h}).join("\n")}]}})})},i.prototype.getImage=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c;return(0,w.Jh)(this,function(d){switch(d.label){case 0:return(n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),x(t)||(t=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return d.sent(),[4,this.simplifiedImageExport()];case 2:if(!d.sent())return[3,10];s=void 0,d.label=3;case 3:return d.trys.push([3,7,,9]),[4,this.getCanvas(t)];case 4:return s=d.sent(),!1===r?[3,6]:[4,this.addExtras(s,t)];case 5:o=d.sent(),this.disposeCanvas(s),s=o,d.label=6;case 6:return h=s.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(s),n||this.restoreNonExportableSprites(),[2,h];case 7:return u=d.sent(),console.error(u.message+"\n"+u.stack),ws("Simple export failed, falling back to advanced export"),s&&this.disposeCanvas(s),[4,this.getImageAdvanced(e,t,r)];case 8:return c=d.sent(),n||this.restoreNonExportableSprites(),[2,c];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,t,r)];case 11:return c=d.sent(),n||this.restoreNonExportableSprites(),[2,c];case 12:return[2]}})})},i.prototype.addExtras=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,p,f,g,m,v,b,_,P=this;return(0,w.Jh)(this,function(S){switch(S.label){case 0:return this.extraSprites.length?(n=0,s=0,o=e.width,h=e.height,u=0,c=0,[4,Promise.all(hr(this.extraSprites,function(D){return(0,w.mG)(P,void 0,void 0,function(){var T,A,O,k;return(0,w.Jh)(this,function(X){switch(X.label){case 0:return(T=D instanceof ee?{sprite:D,position:"bottom"}:D).position=T.position||"bottom",T.marginTop=T.marginTop||0,T.marginRight=T.marginRight||0,T.marginBottom=T.marginBottom||0,T.marginLeft=T.marginLeft||0,r?[4,T.sprite.exporting.getCanvasAdvanced(t)]:[3,2];case 1:return A=X.sent(),[3,4];case 2:return[4,T.sprite.exporting.getCanvas(t)];case 3:A=X.sent(),X.label=4;case 4:return O=A.width+T.marginLeft+T.marginRight,k=A.height+T.marginTop+T.marginBottom,"top"==T.position?(o=T.crop?h:Q(o,O),s+=k):"right"==T.position?(h=T.crop?h:Q(h,k),u+=O):"left"==T.position?(h=T.crop?h:Q(h,k),n+=O):"bottom"===T.position&&(o=T.crop?h:Q(o,O),c+=k),[2,{canvas:A,position:T.position,left:T.marginLeft,top:T.marginTop,width:O,height:k}]}})})}))]):[3,2];case 1:return d=S.sent(),(p=this.getDisposableCanvas()).width=n+o+u,p.height=s+h+c,f=p.getContext("2d"),(g=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(f.fillStyle=g.toString(),f.fillRect(0,0,p.width,p.height)),b=(m=n)+o,_=(v=s)+h,j(d,function(D){"top"==D.position?f.drawImage(D.canvas,n+D.left,(v-=D.height)+D.top):"right"==D.position?(f.drawImage(D.canvas,b+D.left,s+D.top),b+=D.width):"left"==D.position?f.drawImage(D.canvas,(m-=D.width)+D.left,s+D.top):"bottom"===D.position&&(f.drawImage(D.canvas,n+D.left,_+D.top),_+=D.height),P.disposeCanvas(D.canvas)}),f.drawImage(e,n,s),[2,p];case 2:return[2,e]}})})},i.prototype.getCanvas=function(e){return(0,w.mG)(this,void 0,void 0,function(){var t,r,n,s,o,h,u,c,d,p,f,g,m,v,b,_,P;return(0,w.Jh)(this,function(S){switch(S.label){case 0:x(e)||(e={}),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),r=this.getDOMURL(),n=null,s=null,S.label=1;case 1:return S.trys.push([1,,4,5]),h=this.sprite.pixelWidth,u=this.sprite.pixelHeight,c=Da(this.sprite.dom),d=Sa(this.sprite.dom),p=e.scale||1,f=this.getPixelRatio(e),p=this.getAdjustedScale(h*f,u*f,p,e),(o=this.getDisposableCanvas()).style.width=h*p+"px",o.style.height=u*p+"px",o.width=h*p,o.height=u*p,g=o.getContext("2d"),t&&(g.fillStyle=t.toString(),g.fillRect(0,0,h*p,u*p)),m=[],this.useWebFonts&&m.push(this.getFontFamilies().then(function(D){return s=D.blobs,D.cssText})),m.push(this.imagesToDataURI(this.sprite.dom,e)),m.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(m)];case 2:return v=S.sent(),b=this.normalizeSVG("<style>"+v[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,h,u,p,c,d),_=new Blob([b],{type:"image/svg+xml"}),n=r.createObjectURL(_),[4,this.loadNewImage(n,h*p*f,u*p*f,"anonymous")];case 3:return P=S.sent(),g.drawImage(P,0,0),[3,5];case 4:return null!==n&&r.revokeObjectURL(n),null!==s&&j(s,function(D){r.revokeObjectURL(D)}),this.restoreRemovedObjects(),[7];case 5:return[2,o]}})})},i.prototype.getCanvasAdvanced=function(e){return(0,w.mG)(this,void 0,void 0,function(){var t,r,n,s,o,h,u,c,d,p,f;return(0,w.Jh)(this,function(g){switch(g.label){case 0:return x(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return g.sent(),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return r=g.sent(),n=this.sprite.pixelWidth,s=this.sprite.pixelHeight,o=Da(this.sprite.dom),h=Sa(this.sprite.dom),u=e.scale||1,c=this.getPixelRatio(e),u=this.getAdjustedScale(n*c,s*c,u,e),d=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,n,s,u,o,h,t),(p=this.getDisposableCanvas()).style.width=n*c*u+"px",p.style.height=s*c*u+"px",p.width=n*c*u,p.height=s*c*u,f={useCORS:!0},1!=c&&(f.ignoreDimensions=!0,f.scaleWidth=n*c*u,f.scaleHeight=s*c*u),[4,r.fromString(p.getContext("2d"),d,f).render()];case 3:return g.sent(),[2,p]}})})},i.prototype.getImageAdvanced=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){var n,s,o;return(0,w.Jh)(this,function(h){switch(h.label){case 0:return(n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),x(t)||(t=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(t)];case 1:return s=h.sent(),!1===r?[3,3]:[4,this.addExtras(s,t,!0)];case 2:s=h.sent(),h.label=3;case 3:return o=s.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(s),n||this.restoreNonExportableSprites(),[2,o]}})})},i.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},i.prototype.disposeCanvas=function(e){document.body.contains(e)&&document.body.removeChild(e)},i.prototype.getPixelRatio=function(e){return this.useRetina?function Yd(){return window.devicePixelRatio||1}():1},i.prototype.getAdjustedScale=function(e,t,r,n){if(!n)return r;var h,u,s=e*r,o=e*r;return n.maxWidth&&s>n.maxWidth&&(h=n.maxWidth/e),n.maxHeight&&o>n.maxHeight&&(u=n.maxHeight/t),h||u?se(h,u):(n.minWidth&&s<n.minWidth&&(h=n.minWidth/e),n.minHeight&&o<n.minHeight&&(u=n.minHeight/t),h||u?Q(h,u):r)},i.prototype.imagesToDataURI=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s,o,h,u;return(0,w.Jh)(this,function(c){switch(c.label){case 0:if(!(r=e.querySelectorAll("image")).length)return[3,2];for(n=[],s=r.length,o=0;o<s;o++)(u=(h=r[o]).getAttributeNS(i.XLINK,"href"))&&(-1!==u.indexOf("data:image")||(-1!==u.indexOf(".svg")?n.push(this.svgToDataURI(h,t)):n.push(this.imageToDataURI(h,t))));return[4,Promise.all(n)];case 1:return c.sent(),[2];case 2:return[2]}})})},i.prototype.prepForeignObjects=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s;return(0,w.Jh)(this,function(o){if((r=e.querySelectorAll("foreignObject")).length)for(n=r.length,s=0;s<n;s++)this.temporarilyRemoveObject(r[s]);return[2]})})},i.prototype.imageToDataURI=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s;return(0,w.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(i.XLINK,"href"),null,null,"anonymous")];case 1:r=h.sent(),(n=document.createElement("canvas")).width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0);try{return s=n.toDataURL(),e.setAttribute("href",s),[2,s]}catch{return!1!==t.keepTainted&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return h.sent(),(!t||!1!==t.keepTainted)&&this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}})})},i.prototype.svgToDataURI=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s,o;return(0,w.Jh)(this,function(u){switch(u.label){case 0:r=e.getAttributeNS(i.XLINK,"href"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,ka(r)];case 2:return n=u.sent(),s=this.adapter.apply("charset",{charset:"base64",type:"svg",options:t}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+s+","+btoa(n.response),options:t}).data,e.setAttributeNS(i.XLINK,"href",o),[2,o];case 3:return u.sent(),(!t||!1!==t.keepTainted)&&this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}})})},i.prototype.temporarilyRemoveObject=function(e,t){var r=e.parentElement||e.parentNode;t||(t=this.sprite.paper.add("g").node),r.insertBefore(t,e),r.removeChild(e),this._removedObjects.push({element:e,placeholder:t})},i.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop();)(e.placeholder.parentElement||e.placeholder.parentNode).insertBefore(e.element,e.placeholder)},i.prototype.simplifiedImageExport=function(){return(0,w.mG)(this,void 0,void 0,function(){var e,t,r,n,s,o,h;return(0,w.Jh)(this,function(d){switch(d.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(e=C.getCache("simplifiedImageExport"))||!0===e)return[2,e];d.label=1;case 1:d.trys.push([1,6,,7]),(t=document.createElement("canvas")).width=1,t.height=1,r=t.getContext("2d"),n=this.getDOMURL(),s=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=n.createObjectURL(s),h=void 0,d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return h=d.sent(),[3,5];case 4:return d.sent(),[2,!1];case 5:r.drawImage(h,0,0),n.revokeObjectURL(o);try{return C.setCache("simplifiedImageExport",!0),[2,!0]}catch{return C.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return d.sent(),C.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},i.prototype.loadNewImage=function(e,t,r,n){return new Promise(function(s,o){var h;function u(){if(n){var c=h.src;h.onerror=function(){o(new Error('Loading image "'+e+'" failed'))},h.removeAttribute("crossorigin"),h.src="",h.src=c}else o(new Error('Loading image "'+e+'" failed'))}h=t&&r?new Image(t,r):new Image,n&&h.setAttribute("crossOrigin",n),h.onload=function(){s(h)},h.onabort=u,h.onerror=u,h.src=e})},i.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},i.prototype.getSVG=function(e,t,r){return void 0===r&&(r=!0),(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,p,f,g;return(0,w.Jh)(this,function(m){switch(m.label){case 0:return(n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),x(t)||(t=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return m.sent(),s=this.sprite.pixelWidth,o=this.sprite.pixelHeight,h=Da(this.sprite.dom),u=Sa(this.sprite.dom),c=t.scale||1,d=this.getPixelRatio(t),c=this.getAdjustedScale(s*d,o*d,c,t),p=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,s,o,c,h,u),f=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:t}).charset,g=this.adapter.apply("getSVG",{data:r?"data:"+this.getContentType(e)+";"+f+","+encodeURIComponent(p):p,options:t}).data,n||this.restoreNonExportableSprites(),[2,g]}})})},i.prototype.normalizeSVG=function(e,t,r,n,s,o,h,u){var c="";r&&(c+='width="'+Math.round(r*(s||1))+'px" '),n&&(c+='height="'+Math.round(n*(s||1))+'px" ');var d="";o&&(d+="font-family: "+o.replace(/"/g,"")+";"),h&&(d+="font-size: "+h+";"),s&&(c+='viewBox="0 0 '+r+" "+n+'" ');var p=[],f=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(f)for(var g=0;g<f.length;g++)e=e.replace(f[g],gt),p.push(f[g]);e.match(/<svg/)?""!==c&&(e=(e=(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+c)):e='<?xml version="1.0" encoding="utf-8"?><svg '+c+' style="'+d+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",u&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+u.rgba+'"/>')),function Zd(){return/MSIE |Trident\//.test(navigator.userAgent)}()&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var m=new RegExp("url\\("+ts(yr()),"g");if(e=(e=e.replace(m,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),p.length)for(g=0;g<p.length;g++)e=e.replace(gt,p[g]);return this.adapter.apply("normalizeSVG",{data:e,options:t}).data},i.prototype.serializeElement=function(e){return(new XMLSerializer).serializeToString(e)},i.prototype.getPDF=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){function r(v){var b={};b.normal=v.normal.path,m[v.normal.path]=v.normal.bytes,v.bold?(b.bold=v.bold.path,m[v.bold.path]=v.bold.bytes):b.bold=v.normal.path,v.italics?(b.italics=v.italics.path,m[v.italics.path]=v.italics.bytes):b.italics=v.normal.path,v.bolditalics?(b.bolditalics=v.bolditalics.path,m[v.bolditalics.path]=v.bolditalics.bytes):b.bolditalics=v.normal.path,g[v.name]=b}var n,s,o,h,u,c,d,p,f,g,m;return(0,w.Jh)(this,function(v){switch(v.label){case 0:return[4,this.getImage(t.imageFormat||"png",t)];case 1:return n=v.sent(),[4,this.pdfmake];case 2:return s=v.sent(),o=[30,30,30,30],h={pageSize:t.pageSize||"A4",pageOrientation:t.pageOrientation||"portrait",pageMargins:t.pageMargins||o,defaultStyle:{font:t.font?t.font.name:void 0},content:[]},u=this.adapter.apply("title",{title:this.title,options:t}).title,c=0,u&&(h.content.push({text:u,fontSize:t.fontSize||14,bold:!0,margin:[0,0,0,15]}),c+=50),t.addURL&&(h.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:t.fontSize,margin:[0,0,0,15]}),c+=50),"pdfdata"!=e&&h.content.push({image:n,alignment:t.align||"left",fit:this.getPageSizeFit(h.pageSize,h.pageMargins,c)}),"pdfdata"==e||t.addData?(p=(d=h.content).push,f={},[4,this.getPDFData("pdf",t)]):[3,4];case 3:p.apply(d,[(f.table=v.sent(),f.fontSize=t.fontSize||14,f)]),v.label=4;case 4:return h=this.adapter.apply("pdfmakeDocument",{doc:h,options:t}).doc,g=null,m=null,t.font&&(g={},m={},r(t.font),t.extraFonts&&j(t.extraFonts,r)),[4,new Promise(function(b,_){s.createPdf(h,null,g,m).getDataUrl(function(P){b(P)})})];case 5:return[2,v.sent()]}})})},i.prototype.getPDFData=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s,o,h,u,c=this;return(0,w.Jh)(this,function(d){if(r={body:[]},n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,s=this.data,t.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,zt(n,function(p,f){var g=[];t.addColumnNames&&g.push(f);for(var m=s.length,v=0;v<m;v++)g.push(c.convertToSpecialFormat(p,s[v][p],t,!0));r.body.push(c.getPDFDataRow(g,t,void 0,!0))},function(p,f){var g=o.indexOf(p),m=o.indexOf(f);return g>m?1:g<m?-1:0});else for(t.addColumnNames&&(r.body.push(this.getPDFDataRow(n,t,void 0,!0)),r.headerRows=1),h=s.length,u=0;u<h;u++)r.body.push(this.getPDFDataRow(s[u],t,n));return[2,this.adapter.apply("pdfmakeTable",{table:r,options:t}).table]})})},i.prototype.getPDFDataRow=function(e,t,r,n){var s=this;void 0===n&&(n=!1);var o=[];r||(r=e);var h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return zt(r,function(u,c){var d=s.convertEmptyValue(u,e[u],t),p=n?d:s.convertToSpecialFormat(u,d,t);o.push(p=""+p)},function(u,c){var d=h.indexOf(u),p=h.indexOf(c);return d>p?1:d<p?-1:0}),o},i.prototype.getPageSizeFit=function(e,t,r){void 0===r&&(r=0);var n=[0,0,0,0];"number"==typeof t?n=[t,t,t,t]:2==t.length?n=[t[0],t[1],t[0],t[1]]:4==t.length&&(n=t);var o={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[e];return o[0]-=n[0]+n[2],o[1]-=n[1]+n[3]+r,o},i.prototype.getExcel=function(e,t){return(0,w.mG)(this,void 0,void 0,function(){var r,n,s,o,h,u,c,d,p,g=this;return(0,w.Jh)(this,function(m){switch(m.label){case 0:return x(t)||(t=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(r=m.sent(),n=this.adapter.apply("xlsxWorkbookOptions",{xlsx:r,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,s=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:r,name:this.title||this.language.translate("Data")}).name),o={SheetNames:[s],Sheets:{}},h=[],u=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,t.pivot)c=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,zt(u,function(v,b){var _=[];t.addColumnNames&&_.push(b);for(var P=g.data.length,S=0;S<P;S++)_.push(g.convertToSpecialFormat(v,g.data[S][v],t,!0));h.push(g.getExcelRow(_,t,void 0,!0))},function(v,b){var _=c.indexOf(v),P=c.indexOf(b);return _>P?1:_<P?-1:0});else for(t.addColumnNames&&h.push(this.getExcelRow(u,t,void 0,!0)),d=this.data.length,p=0;p<d;p++)h.push(this.getExcelRow(this.data[p],t,u));return o.Sheets[s]=r.utils.aoa_to_sheet(h),o=this.adapter.apply("xlsxWorkbook",{xlsx:r,workbook:o,options:t}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+r.write(o,n),options:t}).data]}})})},i.prototype.normalizeExcelSheetName=function(e){return rs(e=e.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},i.prototype.getExcelRow=function(e,t,r,n){var s=this;void 0===n&&(n=!1);var o=[];r||(r=e);var h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return zt(r,function(u,c){var d=s.convertEmptyValue(u,e[u],t),p=n?d:s.convertToSpecialFormat(u,d,t,!0);o.push(p)},function(u,c){var d=h.indexOf(u),p=h.indexOf(c);return d>p?1:d<p?-1:0}),o},i.prototype.getCSV=function(e,t,r){return void 0===r&&(r=!0),(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,p,f,m=this;return(0,w.Jh)(this,function(v){if(x(t)||(t=this.getFormatOptions("csv")),n="",s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,o="",h=this.data,t.pivot)u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,zt(s,function(b,_){var P=[];t.addColumnNames&&P.push(_);for(var S=h.length,D=0;D<S;D++)P.push(m.convertToSpecialFormat(b,h[D][b],t,!0));n+=o+m.getCSVRow(P,t,void 0,!0),o="\n"},function(b,_){var P=u.indexOf(b),S=u.indexOf(_);return P>S?-1:P<S?1:0});else{for(c=h.length,d=0;d<c;d++)p=this.getCSVRow(h[d],t,s),t.reverse?n=p+o+n:n+=o+p,o="\n";t.addColumnNames&&(n=this.getCSVRow(s,t,void 0,!0)+o+n)}return f=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getCSV",{data:r?"data:"+this.getContentType(e)+";"+f+","+encodeURIComponent(n):n,options:t}).data]})})},i.prototype.getCSVRow=function(e,t,r,n){var s=this;void 0===n&&(n=!1);var o=t.separator||",",h=[];r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return zt(r,function(c,d){var p=s.convertEmptyValue(c,e[c],t),f=n?p:s.convertToSpecialFormat(c,p,t);f=(f=""+f).replace(/"/g,'""'),(t.forceQuotes||f.search(new RegExp('"|\n|'+o,"g"))>=0)&&(f='"'+f+'"'),h.push(f)},function(c,d){var p=u.indexOf(c),f=u.indexOf(d);return p>f?1:p<f?-1:0}),h.join(o)},i.prototype.getHTML=function(e,t,r){return void 0===r&&(r=!0),(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,f=this;return(0,w.Jh)(this,function(g){if(x(t)||(t=this.getFormatOptions("html")),n="<table>",t.tableClass&&(n='<table class="'+t.tableClass+'">'),s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,o=this.data,t.pivot)h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,n+="\n<tbody>",zt(s,function(m,v){var b=[];t.addColumnNames&&b.push(v);for(var _=o.length,P=0;P<_;P++)b.push(f.convertToSpecialFormat(m,o[P][m],t,!0));n+="\n"+f.getHTMLRow(b,t,void 0,!0)},function(m,v){var b=h.indexOf(m),_=h.indexOf(v);return b>_?-1:b<_?1:0}),n+="\n</tbody>";else{for(t.addColumnNames&&(n+="\n<thead>\n"+this.getHTMLRow(s,t,void 0,!0,!0)+"\n</thead>"),n+="\n<tbody>",u=o.length,c=0;c<u;c++)n+="\n"+this.getHTMLRow(o[c],t,s);n+="\n</tbody>"}return n+="\n</table>",d=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getHTML",{data:r?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(n):n,options:t}).data]})})},i.prototype.getHTMLRow=function(e,t,r,n,s){var o=this;void 0===n&&(n=!1),void 0===s&&(s=!1);var h="\t<tr>";t.rowClass&&(h='\t<tr class="'+t.rowClass+'">'),r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,c=s?"th":"td",d=!0;return zt(r,function(p,f){var g=o.convertEmptyValue(p,e[p],t),m=n?g:o.convertToSpecialFormat(p,g,t);m=(m=""+m).replace(/[\u00A0-\u9999<>\&]/gim,function(b){return"&#"+b.charCodeAt(0)+";"});var v=c;t.pivot&&d&&(v="th"),h+=t.cellClass?"\n\t\t<"+v+' class="'+t.cellClass+'">'+m+"</"+v+">":"\n\t\t<"+v+">"+m+"</"+v+">",d=!1},function(p,f){var g=u.indexOf(p),m=u.indexOf(f);return g>m?1:g<m?-1:0}),h+="\n\t</tr>"},i.prototype.getJSON=function(e,t,r){return void 0===r&&(r=!0),(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,p,g=this;return(0,w.Jh)(this,function(m){if(x(t)||(t=this.getFormatOptions("json")),s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)n=this.data;else for(n=[],h=function(v,b){var _=o[b];if("object"==typeof _){var P={};q(_,function(S,D){x(s[S])&&(P[s[S]]=g.convertToSpecialFormat(S,D,t))}),n.push(P)}},u=(o=this.data).length,c=0;c<u;c++)h(0,c);return d=JSON.stringify(n,function(v,b){return"object"==typeof b&&q(b,function(_,P){b[_]=g.convertToSpecialFormat(_,P,t)}),b},t.indent),p=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getJSON",{data:r?"data:"+this.getContentType(e)+";"+p+","+encodeURIComponent(d):d,options:t}).data]})})},i.prototype.convertToSpecialFormat=function(e,t,r,n){if("number"==typeof t)if(this.isDateField(e))t=new Date(t);else{if(this.isDurationField(e))return this.durationFormatter.format(t,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(t,this.numberFormat)}return t instanceof Date?r.useTimestamps?t=t.getTime():r.useLocale?n||(t=t.toLocaleString()):t=this.dateFormatter.format(t,this.dateFormat):ne(t)&&this.isDateField(e)&&this.dateFormat&&(t=this.dateFormatter.format(this.dateFormatter.parse(t),this.dateFormat)),t},i.prototype.convertEmptyValue=function(e,t,r){return x(t)?t:r.emptyAs},i.prototype.download=function(e,t,r){return void 0===r&&(r=!1),(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h,u,c,d,p,f,g,m,v,b,_,P;return(0,w.Jh)(this,function(S){if(this.msBlobDownloadSupport()){if(v=e.split(";"),b=v.shift().replace(/data:/,""),e=decodeURIComponent(v.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(b))return n=new Blob([e],{type:b}),window.navigator.msSaveBlob(n,t),[2,!0];try{o=atob(e),e=o}catch{return[2,!1]}for(c=new Array(e.length),d=0;d<e.length;++d)p=e.charCodeAt(d),c[d]=p;f=new Blob([new Uint8Array(c)],{type:b}),window.navigator.msSaveBlob(f,t)}else if(this.blobDownloadSupport()){if((s=document.createElement("a")).download=t,document.body.appendChild(s),v=e.split(";"),b=v.shift().replace(/data:/,""),e=decodeURIComponent(v.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(b))return r&&(e="\ufeff"+e),h=new Blob([e],{type:b}),u=window.URL.createObjectURL(h),s.href=u,s.download=t,s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(u)},100),[2,!0];try{o=atob(e),e=o}catch{return[2,!1]}for(c=new Array(e.length),d=0;d<e.length;++d)p=e.charCodeAt(d),c[d]=p;r&&(c=[239,187,191].concat(c)),f=new Blob([new Uint8Array(c)],{type:b}),g=window.URL.createObjectURL(f),s.href=g,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(function(){window.URL.revokeObjectURL(g)},100)}else this.linkDownloadSupport()?((m=document.createElement("a")).download=t,m.href=e,document.body.appendChild(m),m.click(),document.body.removeChild(m)):this.legacyIE()?4===(v=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==v[2]?v[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(b=void 0,t.match(/\.svg$/)?b="image/svg+xml":(b="text/plain",t+=".txt"),(_=document.createElement("iframe")).width="1px",_.height="1px",_.style.display="none",document.body.appendChild(_),(P=_.contentDocument).open(b,"replace"),P.write(decodeURIComponent(v[3])),P.close(),P.execCommand("SaveAs",!0,t),document.body.removeChild(_))):window.location.href=e;return[2,!0]})})},i.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},i.prototype.linkDownloadSupport=function(){var e=C.getCache("linkDownloadSupport");if(!1===e||!0===e)return e;var r=typeof document.createElement("a").download<"u";return C.setCache("linkDownloadSupport",r),r},i.prototype.blobDownloadSupport=function(){return x(window.Blob)},i.prototype.msBlobDownloadSupport=function(){return x(window.navigator.msSaveOrOpenBlob)},i.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==e.getElementsByTagName("i").length},i.prototype.print=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){return(0,w.Jh)(this,function(n){return"css"==t.printMethod?[2,this.printViaCSS(e,t,r)]:[2,this.printViaIframe(e,t,r)]})})},i.prototype.printViaCSS=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){var n,s,o,h;return(0,w.Jh)(this,function(c){return n=document.documentElement.scrollTop||document.body.scrollTop,s=new ge(ys(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),r&&document&&document.title&&(o=document.title,document.title=r),(h=new Image).src=e,h.style.maxWidth="100%",h.style.display="block",h.style.position="relative",h.style.visibility="visible",h.style.opacity="1",h.style.clipPath="none",document.body.appendChild(h),this.setTimeout(function(){window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout(function(){document.body.removeChild(h),s.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=n},t.delay||500),[2,!0]})})},i.prototype.printViaIframe=function(e,t,r){return(0,w.mG)(this,void 0,void 0,function(){var n,s;return(0,w.Jh)(this,function(h){return(n=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),(s=new Image).src=e,s.style.maxWidth="100%",s.style.height="auto",r&&(n.contentWindow.document.title=r),n.contentWindow.document.body.appendChild(s),n.load=function(){n.contentWindow.document.body.appendChild(s)},this.setTimeout(function(){try{n.contentWindow.document.execCommand("print",!1,null)||n.contentWindow.print()}catch{n.contentWindow.print()}},t.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout(function(){document.body.removeChild(n)},t.delay+50||100),[2,!0]})})},i.prototype.findBackgroundColor=function(e){var t=1,r=vs(e,"background-color");if((r.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==r)&&(t=0),0==t){var n=e.parentElement;return n?this.findBackgroundColor(n):G("#fff")}return G(r,t)},Object.defineProperty(i.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),i.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(i.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new Pr,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new he),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new Ts,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new he),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new As,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new he),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),i.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&j(this.data,function(t){q(t,function(r,n){x(e._dataFields[r])||(e._dataFields[r]=e.adapter.apply("dataFieldName",{name:r,field:r}).name)})})},i.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},i.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},i.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},i.prototype.getContentType=function(e){var t="";switch(e){case"png":case"gif":t="image/"+e;break;case"jpg":t="image/jpeg";break;case"svg":t="image/svg+xml";break;case"csv":t="text/csv";break;case"json":t="application/json";break;case"html":t="text/html";break;case"pdf":case"pdfdata":t="application/pdf";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:t,type:e}).contentType},Object.defineProperty(i.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),i.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},i.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(i.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),i.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},i.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(i.prototype,"language",{get:function(){return this._language||(this._language=new ai),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"modal",{get:function(){return this._modal||(this._modal=new kl,this._modal.adapter.add("classPrefix",function(e){return ie.classNamePrefix+e})),this._modal},enumerable:!0,configurable:!0}),i.prototype.showModal=function(e,t){this.hideModal(),this.hidePreloader();var r=this.modal;r.container=this.sprite.svgContainer.SVGContainer,r.content=e,r.readerTitle=t,r.open()},i.prototype.hideModal=function(){this._modal&&this.modal.close()},i.prototype._canvg=function(){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(t){switch(t.label){case 0:return[4,K.e(265).then(K.bind(K,4225))];case 1:return null!=(e=t.sent()).default?[2,e.default]:[2,e]}})})},Object.defineProperty(i.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pdfmake",{get:function(){return null==Os&&(Os=function af(){return(0,w.mG)(this,void 0,void 0,function(){var a,i,e,t;return(0,w.Jh)(this,function(r){switch(r.label){case 0:return[4,Promise.all([K.e(643).then(K.t.bind(K,7069,23)),K.e(643).then(K.bind(K,1755))])];case 1:return a=r.sent(),i=a[0].default,e=a[1].default,(t=window).pdfMake=t.pdfMake||{},t.pdfMake.vfs=e,i.vfs=e,[2,i]}})})}()),Os},enumerable:!0,configurable:!0}),i.prototype._xlsx=function(){return(0,w.mG)(this,void 0,void 0,function(){return(0,w.Jh)(this,function(e){switch(e.label){case 0:return[4,K.e(297).then(K.bind(K,8788))];case 1:return[2,e.sent()]}})})},Object.defineProperty(i.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),i.prototype.setFormatOptions=function(e,t){this._formatOptions.setKey(e,t)},i.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(i.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),i.prototype._disablePointers=function(){x(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},i.prototype._releasePointers=function(){x(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},i.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var t=this.sprite.svgContainer;t&&j(t.nonExportableSprites,function(r){!r.isHidden&&!r.isHiding&&r.visible&&e._hiddenObjects.push(r),r.hide(0)}),this._objectsAlreadyHidden=!0}},i.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(j(this._hiddenObjects,function(e){e.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},i.prototype.awaitValidSprites=function(){return(0,w.mG)(this,void 0,void 0,function(){var e;return(0,w.Jh)(this,function(t){switch(t.label){case 0:return e=[],this.validateSprites.length&&j(this.validateSprites,function(r,n){r.invalid&&e.push(new Promise(function(s,o){r.events.once("validated",function(h){s()})}))}),e.length?[4,Promise.all(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.processConfig=function(e){C.registeredClasses.ExportMenu=tf,e&&(x(e.menu)&&!x(e.menu.type)&&(e.menu.type="ExportMenu"),x(e.dataFields)&&_e(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),a.prototype.processConfig.call(this,e)},i.XLINK="http://www.w3.org/1999/xlink",i}(El),Me=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],ee=function(a){function i(){var e=a.call(this)||this;return e.properties={},e._eventDispatcher=new Ap(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new He,e._positionPrecision=3,e._language=new He,e._exporting=new He,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",R(50)),e.setPropertyValue("tooltipX",R(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new pe(function(){q(e._bindings,function(t,r){r.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new ut(this)),this._adapterO},enumerable:!0,configurable:!0}),i.prototype.applyTheme=function(){a.prototype.applyTheme.call(this),ie.autoSetClassName&&this.setClassName()},i.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var t=this._parent;return t?t.getCurrentThemes():C.themes},i.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},i.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,C.addToInvalidSprites(this),re.requestFrame())},i.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,C.removeFromInvalidSprites(this),this.afterDraw()},i.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,C.addToInvalidPositions(this),re.requestFrame())},i.prototype.validatePosition=function(){var e=this.pixelX,t=this.pixelY,r=this.dx,n=this.dy,s=e+r,o=t+n;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var h=this.measure(),u=this.group.transformString;this.group.moveTo({x:s,y:o}),this.group.rotation=this.rotation,this.group.scale=this.nonScaling?this.scale/this.globalScale:this.scale,(u!=this.group.transformString||h)&&(null==u?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),("hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.updateTooltipPosition()),e+r==s&&t+n==o&&(C.removeFromInvalidPositions(this),this.positionInvalid=!1);var c=this._maskRectangle;c&&this._clipElement.moveTo({x:c.x-e,y:c.y-t})},i.prototype.beforeDraw=function(){},i.prototype.draw=function(){},i.prototype.afterDraw=function(){var e,t;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var r=(0,w.XA)(this._adapterO.keys()),n=r.next();!n.done;n=r.next()){var s=n.value;switch(s){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[s]=this[s]}}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},i.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},i.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},i.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},i.prototype.updateFilterScale=function(){var e=this;I(this.filters.iterator(),function(t){t.scale=e.globalScale})},i.prototype.removeFromInvalids=function(){C.removeFromInvalidSprites(this),C.removeFromInvalidPositions(this)},i.prototype.copyFrom=function(e){var t=this;a.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(r){t.filters.push(r.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,Gt(e.propertyFields,this.propertyFields),Gt(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone()),e.focusFilter&&(this.focusFilter=e.focusFilter.clone())},i.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(a.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--)this._clones.getIndex(e).dispose();this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var r=this.stroke;r&&!(r instanceof ue)&&r.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==r||r.dispose());var n=this.fill;if(n&&!(n instanceof ue)&&n.dispose&&(this.clonedFrom&&this.clonedFrom.fill==n||n.dispose()),x(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var s=this._filters.getIndex(0);s.dispose(),this._filters.removeValue(s)}this._alwaysShowDisposers=void 0}},Object.defineProperty(i.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=xe(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof U&&I(this.children.iterator(),function(t){t.isTemplate=e}),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSystemTooltip",{get:function(){return x(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(e){e=xe(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){var t=this._parent;t!=e&&(t&&t.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),i.prototype.handleAlwaysShow=function(){this.showTooltip()},i.prototype.handleAlwaysShowTooltip=function(){var e=this,t=this._alwaysShowDisposers;if(t&&j(t,function(n){n.dispose()}),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=e;){var r=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(r),this._alwaysShowDisposers.push(r),e=e.parent}},Object.defineProperty(i.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),i.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var t=this.stroke;if(t&&t.element&&this.paper.appendDef(t.element),this.fillModifier&&this.fill instanceof ue){var r=this.fillModifier.modify(this.fill);r&&r.element&&this.paper.appendDef(r.element)}if(this.strokeModifier&&this.stroke instanceof ue){var n=this.strokeModifier.modify(this.stroke);n&&n.element&&this.paper.appendDef(n.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(i.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new be),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new be),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this),ie.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:wr()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),i.prototype.setPaper=function(e){return this._paper!=e&&(this._paper=e,this.appendDefs(),!0)},Object.defineProperty(i.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;return e?e.htmlContainer:void 0},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"filters",{get:function(){return this._filters||(this._filters=new he,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new ye(this._filters))),this._filters},enumerable:!0,configurable:!0}),i.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},i.prototype.setSVGAttribute=function(e){this.group.attr(e)},i.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},i.prototype.setClassName=function(){var e=this.className,t=ie.classNamePrefix;this.element&&this.element.addClass(t+e),this.group.addClass(t+e+"-group"),x(this.id)&&this.group.addClass(t+this.id),this.userClassName&&this.group.addClass(this.userClassName)},i.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},i.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},i.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=C.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+yr()+e+'")'})}},i.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof U){this._clipElement.attr({width:Q(0,e.pixelWidth),height:Q(0,e.pixelHeight)});var t=ht({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=t.x,this._clipPath.y=t.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},i.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var t=100,r=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var n="filter-"+this.uid;this.filterElement.attr({id:n}),I(this.filters.iterator(),function(h){h.sprite=e,h.paper=e.paper,e.filterElement.attr({filterUnits:h.filterUnits}),h.appendPrimitives(e.filterElement),h.width>t&&(t=h.width),h.height>r&&(r=h.height),h.scale=e.globalScale}),this.filterElement.attr({width:t+"%",height:r+"%",x:-(t-100)/2+"%",y:-(r-100)/2+"%"}),this.group.attr({filter:'url("'+yr()+n+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},i.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},i.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(i.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),ie.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),i.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},i.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,t=this.bbox,r=0,n=0,s=t.x,o=t.y,h=t.width,u=t.height,c=this.pixelPaddingLeft,d=this.pixelPaddingRight,p=this.pixelPaddingTop,f=this.pixelPaddingBottom,g=Q(h+c+d,this.pixelWidth),m=Q(u+p+f,this.pixelHeight),v=t.x,b=t.x+g,_=t.y,P=t.y+m,D=this.verticalCenter;switch(this.horizontalCenter){case"none":r=s+c;break;case"left":r=c;break;case"middle":r=c-(h+d+c)/2;break;case"right":r=-d-h}switch(D){case"none":n=o+p;break;case"top":n=p;break;case"middle":n=p-(u+f+p)/2;break;case"bottom":n=-f-u}this._measuredHeight=m,this._measuredWidth=g;var T=F(r-s,this._positionPrecision,!0),A=F(n-o,this._positionPrecision,!0);this.ex=T-c,this.ey=A-p,this.maxLeft=v+T-c,this.maxRight=b+T-c,this.maxTop=_+A-p,this.maxBottom=P+A-p,this.pixelPerfect&&0==ie.pixelPerfectPrecision&&(T-=.5,A-=.5),this.element.moveTo({x:T,y:A}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},i.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,t=this._measuredHeight,r=this.maxLeft,n=this.maxRight,s=this.maxTop,o=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=t;var h=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var u=this.paper.svg,c=u.createSVGMatrix(),d=this.rotation,p=this.scale;this.nonScaling&&(p=this.scale/this.globalScale),c.a=L(d)*p,c.c=-E(d)*p,c.e=0,c.b=E(d)*p,c.d=L(d)*p,c.f=0;var f=u.createSVGPoint();f.x=r,f.y=s;var g=u.createSVGPoint();g.x=n,g.y=s;var m=u.createSVGPoint();m.x=n,m.y=o;var v=u.createSVGPoint();v.x=r,v.y=o;var b=f.matrixTransform(c),_=g.matrixTransform(c),P=m.matrixTransform(c),S=v.matrixTransform(c);r=Math.min(b.x,_.x,P.x,S.x),n=Math.max(b.x,_.x,P.x,S.x),s=Math.min(b.y,_.y,P.y,S.y),e=n-r,t=(o=Math.max(b.y,_.y,P.y,S.y))-s,this.maxLeft=F(r,h,!0),this.maxRight=F(n,h,!0),this.maxTop=F(s,h,!0),this.maxBottom=F(o,h,!0)}return this._measuredWidth=F(e,h,!0),this._measuredHeight=F(t,h,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(x(this.tooltipText)||x(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},i.prototype.insertBefore=function(e){var t=this._parent;if(t){var r=t.children.indexOf(e);-1!==r&&(t.children.moveValue(this,r),t.sortChildren())}return this},i.prototype.insertAfter=function(e){var t=this._parent;if(t){var r=t.children.indexOf(e);-1!==r&&(t.children.moveValue(this,r+1),t.sortChildren())}return this},i.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},i.prototype.getRelativeX=function(e){return e instanceof ae?e.value:this._parent?e/this._parent.innerWidth:0},i.prototype.getRelativeY=function(e){return e instanceof ae?e.value:this._parent?e/this._parent.innerHeight:0},i.prototype.getPixelX=function(e){var t=0;return y(e)?t=e:e instanceof ae&&this._parent&&(t=F(this._parent.innerWidth*e.value,this._positionPrecision,!0)),t},i.prototype.getPixelY=function(e){var t=0;return y(e)?t=e:e instanceof ae&&this._parent&&(t=F(this._parent.innerHeight*e.value,this._positionPrecision,!0)),t},i.prototype.moveTo=function(e,t,r,n){this.isDragged&&!n||(e&&(y(e.x)&&this.setPropertyValue("x",F(e.x,this._positionPrecision,!0)),y(e.y)&&this.setPropertyValue("y",F(e.y,this._positionPrecision,!0))),y(t)&&(this.rotation=t),y(r)&&(this.scale=r),this.invalidatePosition())},Object.defineProperty(i.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var t=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof U?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new Pe([e.events.on("maxsizechanged",function(){t.inited&&t.applyMask()},void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){(e=xe(e))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),i.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var t=this.pixelX+this.maxLeft,r=this.pixelY+this.maxTop,o=e.pixelX+e.maxLeft,h=e.pixelY+e.maxTop;return!(o>t+this.maxRight||o+e.maxRight<t||h>r+this.maxBottom||h+e.maxBottom<r)},Object.defineProperty(i.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),i.prototype.isReady=function(){return this._ready},Object.defineProperty(i.prototype,"states",{get:function(){if(!this._states){var e=new wa;this._states=new gr(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new gi(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultState",{get:function(){return this.states.getKey("default")||(this.states.create("default").properties.opacity=1),this.states.getKey("default")},enumerable:!0,configurable:!0}),i.prototype.processState=function(e){var t=e.newValue;if(t.sprite=this,t.name=e.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(x(this.tooltipHTML)||x(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(x(this.tooltipHTML)||x(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var r=this.clones.values,n=r.length,s=0;s<n;++s){var o=r[s];o.isDisposed()||o.states.setKey(t.name,t)}},Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hi(this._animations))),this._animations},enumerable:!0,configurable:!0}),i.prototype.getSvgPoint=function(e){try{var t=this.htmlContainer.getBoundingClientRect();return{x:e.x-t.left,y:e.y-t.top}}catch{return e}},i.prototype.animate=function(e,t,r){return new Tt(this,e,t,r).start()},i.prototype.setState=function(e,t,r){var n;if(e instanceof wa)this.states.setKey(e.name,e),n=e;else if(!(n=this.states.getKey(e)))return;if("hover"==n.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==n.name?this.isHiding=!0:this.visible||this.setVisibility(n.properties.visible||this.defaultState.properties.visible),"active"==n.name&&(this.isActive=!0),y(t)||(t=n.transitionDuration),x(r)||(r=n.transitionEasing),this.transitTo(n,t,r)},i.prototype.applyCurrentState=function(e){var t=this.setState(this.defaultState,e);return this.isHover&&(t=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(t=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(t=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(t=this.setState("hoverActive",e))),t},i.prototype.transitTo=function(e,t,r){var h,n=this,s=[];if(q(e.allValues,function(c,d){var p=n[c];d!=p&&null==n.defaultState.properties[c]&&(n.defaultState.properties[c]=p),"__unset"!=d&&s.push({from:p,to:d,property:c})}),s.length>0&&((h=this.animate(s,t,r))&&!h.isFinished()?this._disposers.push(h.events.on("animationended",function(){n.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),e.filters.length>0){var u=[];I(e.filters.iterator(),function(c){var d=c.clone();u.push(d);var p=[];I(n.filters.iterator(),function(f){f.className==d.className&&(Gn(n.defaultState.filters.iterator(),function(g){return g.className===d.className})||n.defaultState.filters.push(f),q(d.properties,function(g,m){var v=f.properties[g];v!=m&&p.push({property:g,from:v,to:m})}))}),d.animate(p,t,r)}),this.filters.clear(),this.filters.pushAll(u)}return h},i.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(i.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(e){(e=xe(e))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(e){e=xe(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(e){e=xe(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,!0===e?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),i.prototype.setActive=function(e){e=xe(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(i.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return x(e)?e:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){if(e=xe(e),this.getPropertyValue("disabled")!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var r=this._parent.element;r.hasChild(this.group)||r.add(this.group)}this instanceof U?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),re.requestFrame(),!0}return!1},Object.defineProperty(i.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new Ts,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new Pr,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new As,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new ai,this.language=e,e))},set:function(e){var t=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",function(r){if(t._numberFormatter&&(t._numberFormatter.language=t.language),t._dateFormatter&&(t._dateFormatter.language=t.language),t._durationFormatter&&(t._durationFormatter.language=t.language),t._exporting.get()){var n=t._exporting.get();n.numberFormatter.language=t.language,n.dateFormatter.language=t.language,n.durationFormatter.language=t.language,n.language=t.language}t instanceof U&&t.deepInvalidate()}))},enumerable:!0,configurable:!0}),i.prototype.populateString=function(e,t){if(x(e)){e=Vn(e);var r=(e=Xt().escape(e)).match(/\{([^}]+)\}/g),n=void 0;if(r)for(n=0;n<r.length;n++){var s=r[n].replace(/\{([^}]+)\}/,"$1"),o=this.getTagValue(s,"",t);x(o)||(o=""),e=e.split(r[n]).join(o)}e=Xt().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},i.prototype.getTagValue=function(e,t,r){var n;x(r)||(r=this.dataItem);for(var h,s=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(h=o.exec(e));)if(h[3])s.push({prop:h[3]});else{var u=[];if(""!=sl(h[2]))for(var c=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d=void 0;null!==(d=c.exec(h[2]));)u.push(d[1]||d[2]||d[3]);s.push({method:h[1],params:u})}if(r){(!x(n=this.getTagValueFromObject(s,r.values))||_e(n))&&(n=this.getTagValueFromObject(s,r));var p=r.dataContext;!x(n)&&p&&(x(n=this.getTagValueFromObject(s,r.dataContext))||(n=this.getTagValueFromObject([{prop:e}],p)),!x(n)&&p.dataContext&&(n=this.getTagValueFromObject(s,p.dataContext))),!x(n)&&r.component&&r.component.dataItem!==r&&(n=r.component.getTagValue(e,t))}return x(n)||(n=this.getTagValueFromObject(s,this.populateStringFrom||this)),!x(n)&&this._parent&&(n=this._parent.getTagValue(e,t)),n},i.prototype.getTagValueFromObject=function(e,t,r){for(var n=t,s=!1,o=0,h=e.length;o<h;o++){var u=e[o];if(u.prop){if(!x(n=n[u.prop]))return}else switch(u.method){case"formatNumber":var c=ss(n);x(c)&&(n=this.numberFormatter.format(c,r||u.params[0]||void 0),s=!0);break;case"formatDate":var d=void 0;if(!nr(d=ne(n)?this.dateFormatter.parse(n):ll(n))||Ue(d.getTime()))return;x(d)&&(n=this.dateFormatter.format(d,r||u.params[0]||void 0),s=!0);break;case"formatDuration":var p=ss(n);x(p)&&(n=this.durationFormatter.format(p,r||u.params[0]||void 0,u.params[1]||void 0),s=!0);break;case"urlEncode":case"encodeURIComponent":n=encodeURIComponent(n);break;default:n[u.method]&&n[u.method].apply(this,u.params)}}if(!s){var f=[{method:"",params:r}];if(x(r)){var g=function zd(a){if(typeof a>"u")return"string";var i=(a=(a=(a=a.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return i?i[1]:a===pa?pa:a===fa?fa:a===es?es:a.match(/[#0]/)?pa:a.match(/[ymwdhnsqaxkzgtei]/)?fa:"string"}(r);g===pa?f[0].method="formatNumber":g===fa?f[0].method="formatDate":g===es&&(f[0].method="formatDuration")}else y(n)?(f[0].method="formatNumber",f[0].params=""):nr(n)&&(f[0].method="formatDate",f[0].params="");f[0].method&&(n=this.getTagValueFromObject(f,n))}return n},Object.defineProperty(i.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),i.prototype.setDataItem=function(e){var t=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var r=e.dataContext;r&&(this.config=r[this.configField],!this.config&&r.dataContext&&(this.config=r.dataContext[this.configField]))}var n=e.dataContext;if(n){var s=n.dataContext;q(this.propertyFields,function(o,h){if(x(n[h]))t[o]=n[h];else if(s){var c=s[h];x(c)&&(t[o]=c)}})}}this.invalidate()}},i.prototype.getPropertyValue=function(e){var t=this.properties[e];return this._isTemplate||(this._adapterO&&(t=this._adapterO.apply(e,t)),t=Jn.applyAll(this,e,t)),t},i.prototype.setColorProperty=function(e,t,r){var n=this.properties[e];return!(t instanceof ue&&n instanceof ue&&t.toString()==n.toString())&&this.setPropertyValue(e,t,r)},i.prototype.setPercentProperty=function(e,t,r,n,s,o){if(y(t=function $c(a){return!x(a)||y(a)||function Kc(a){return a instanceof ae}(a)?a:ne(a)&&-1!=a.indexOf("%")?R(ve(a)):ve(a)}(t)))return y(s)&&(t=F(t,s,o)),this.setPropertyValue(e,t,r,n);var h=this.properties[e];return!(t instanceof ae&&h instanceof ae&&t.value==h.value)&&this.setPropertyValue(e,t,r,n)},i.prototype.setPropertyValue=function(e,t,r,n){if(this.properties[e]!==t&&!this.isDisposed()){if(this.properties[e]=t,this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:e}),r&&this.invalidate(),n&&this.invalidatePosition(),this.applyOnClones)for(var o=this.clones.values,h=o.length,u=0;u<h;++u){var c=o[u];c.isDisposed()||(c[e]=t)}return!0}return!1},i.prototype.bind=function(e,t,r,n){var s=this;void 0===r&&(r=e),x(this._bindings[e])&&this._bindings[e].dispose(),this[e]=t[r],this._bindings[e]=t.events.on("propertychanged",function(o){if(o.property===r){var h=t[r];n&&(h=n(h)),s[e]=h}})},i.prototype.observe=function(e,t,r,n){var s=this;return new Pe(hr(Zo(e),function(o){return s.events.on("propertychanged",function(h){h.property===o&&t.call(r,h)},r,n)}))},i.prototype.applyAccessibility=function(){var e=this.readerTitle,t=this.readerDescription,r=this.role,n=this.readerHidden,s=this.readerChecked,o=this.readerControls,h=this.readerLive,u=this.readerOrientation,c=this.readerValueNow,d=this.readerValueText,p=[],f=[],g=this.readerLabelledBy;g&&p.push(g);var m=this.readerDescribedBy;if(m&&f.push(m),e)if(p.length||this.showSystemTooltip){var v=this.titleElement,b=this.uid+"-title";v.node.textContent!=e&&(v.node.textContent=e,v.attr({id:b})),p.push(b)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(t){var _=this.descriptionElement,P=this.uid+"-description";_.node.textContent!=t&&(_.node.textContent=t,_.attr({id:P})),f.push(P)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);p.length?this.setSVGAttribute({"aria-labelledby":p.join(" ")}):this.removeSVGAttribute("aria-labelledby"),f.length?this.setSVGAttribute({"aria-describedby":f.join(" ")}):this.removeSVGAttribute("aria-describedby"),r?this.setSVGAttribute({role:r}):this.removeSVGAttribute("role"),n?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),s?this.setSVGAttribute({"aria-checked":"true"}):!1===s?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),o?this.setSVGAttribute({"aria-controls":o}):this.removeSVGAttribute("aria-controls"),h?this.setSVGAttribute({"aria-live":h}):this.removeSVGAttribute("aria-live"),u?this.setSVGAttribute({"aria-orientation":u}):this.removeSVGAttribute("aria-orientation"),c?this.setSVGAttribute({"aria-valuenow":c}):this.removeSVGAttribute("aria-valuenow"),d?this.setSVGAttribute({"aria-valuetext":d}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(i.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return x(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=$e(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return x(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=$e(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=$e(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),"slider"==e&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=xe(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=xe(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=$e(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=$e(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=$e(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=$e(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=$e(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=$e(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=$e(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"interactions",{get:function(){if(!this._interaction){var e=J().getInteraction(this.dom);this._interaction=e,e.clickable=this.clickable,e.hoverable=this.hoverable,e.trackable=this.trackable,e.draggable=this.draggable,e.swipeable=this.swipeable,e.resizable=this.resizable,e.wheelable=this.wheelable,e.contextMenuDisabled=this.contextMenuDisabled,e.inert=this.inert,e.sprite=this,this._disposers.push(e)}return this._interaction},enumerable:!0,configurable:!0}),i.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(i.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("focusable",e)&&(!e&&!this.isInteractive()||(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),x(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,function(){return new Pe([t.events.on("blur",t.handleBlur,t,!1),t.events.on("focus",t.handleFocus,t,!1)])})))},enumerable:!0,configurable:!0}),i.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},i.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(i.prototype,"focusFilter",{get:function(){return this._focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tabindex",{get:function(){var e=this._tabindex;return null!=e?e:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(e){e=ve(e),this.setPropertyValue("tabindex",e)&&y(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("draggable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,function(){return new Pe([t.events.on("down",t.handleDown,t,!1),t.events.on("dragstart",t.handleDragStart,t,!1),t.events.on("drag",t.handleDragMove,t,!1),t.events.on("dragstop",t.handleDragStop,t,!1)])})))},enumerable:!0,configurable:!0}),i.prototype.handleDragStart=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},i.prototype.dragStart=function(e){this._isDragged=!0,J().dragStart(this.interactions,e)},i.prototype.handleDragStop=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},i.prototype.dragStop=function(e,t){this._isDragged=!1,J().dragStop(this.interactions,e,t)},i.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var t=this.interactions.originalPosition;if(t&&this._isDragged){var r=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:t.x+e.shift.x/r,y:t.y+e.shift.y/r},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(i.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=xe(e),this.setPropertyValue("inert",e)&&(!e&&!this.isInteractive()||(this.interactions.inert=e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("hoverable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,function(){return new Pe([t.events.on("over",t.handleOver,t,!1),t.events.on("out",t.handleOut,t,!1)])})))},enumerable:!0,configurable:!0}),i.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var t=void 0;e&&e.pointer&&(t=ii(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(t)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},i.prototype.handleOut=function(e){var t=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout(function(){t.tooltip.isHover||(t.tooltip.targetSprite==t&&t.hideTooltip(),t._outTimeout=t.setTimeout(t.handleOutReal.bind(t),t.rollOutDelay))},10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},i.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(i.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),i.prototype.handleDown=function(e){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},i.prototype.handleUp=function(e){var t=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(C.events.once("exitframe",function(){t.showTooltip()})),this._disposers.push(J().body.events.once("down",function(r){t.hideTooltip()})))},Object.defineProperty(i.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("clickable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,function(){return new Pe([t.events.on("down",t.handleDown,t,!1),t.events.on("up",t.handleUp,t,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("togglable",e)&&(!e&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",e,function(){return t.events.on("hit",t.handleToggle,t,!1)}))},enumerable:!0,configurable:!0}),i.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(i.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=xe(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),ga(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=qe.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),i.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,C.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(i.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),i.prototype.urlHandler=function(e){if(ga(this.url)){var t=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=t:window.open(t,this.urlTarget)}},Object.defineProperty(i.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=xe(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),!e&&!this.isInteractive()||(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=xe(e),this.setPropertyValue("trackable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var t=this;e=xe(e),this.setPropertyValue("resizable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,function(){return new Pe([t.events.on("down",t.handleDown,t,!1),t.events.on("resize",t.handleResize,t,!1)])})))},enumerable:!0,configurable:!0}),i.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var n=aa(ii(e.point1,this.htmlContainer,this.svgContainer.cssScale),ii(e.point2,this.htmlContainer,this.svgContainer.cssScale)),s=Zi(e.startPoint1,this._parent),o=Zi(e.startPoint2,this._parent),h=this.interactions.originalPosition,u=this.interactions.originalScale;if(h){var p=aa({x:(s.x-h.x)/u,y:(s.y-h.y)/u},{x:(o.x-h.x)/u,y:(o.y-h.y)/u}),f=mt(n,this._parent);this.moveTo({x:f.x-p.x*this.scale,y:f.y-p.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(i.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,J().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),i.prototype.applyCursorStyle=function(){},Object.defineProperty(i.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(e){if(e=xe(e),this.setPropertyValue("interactionsEnabled",e)){var t=null;e?this.group.node.style.pointerEvents="":t="none",this.group.node.style.pointerEvents=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),i.prototype.getExporting=function(){var e=this._exporting.get();return e||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((e=new uf(this.svgContainer.SVGContainer)).sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e),e))},Object.defineProperty(i.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var t=this.svgContainer;this._exportable=e,t&&(e?$(t.nonExportableSprites,this):-1==_t(t.nonExportableSprites,this)&&t.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),i.prototype.modalPrefix=function(e){return ie.classNamePrefix+e},Object.defineProperty(i.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var t=e.modal;return t.adapter.has("classPrefix",this.modalPrefix)||t.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),i.prototype.openModal=function(e,t){var r=this.svgContainer;if(r)return r.openModal(e,t)},i.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(i.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var t=e.popups;return t.template.sprite=this,t.template.adapter.has("classPrefix",this.modalPrefix)||t.template.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),i.prototype.openPopup=function(e,t){var r=this.svgContainer;if(r)return r.openPopup(e,t)},i.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(i.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelX",{get:function(){var e=B(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelY",{get:function(){var e=B(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){y(e)&&(e=F(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){y(e=ve(e))||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=$e(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=$e(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=$e(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=$e(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!y(e)&&this._parent){var t=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(t=t-this.pixelMarginLeft-this.pixelMarginRight),t}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),i.prototype.setMaxWidth=function(e){var t=this.maxWidth,r=this.maxHeight;this.setPropertyValue("maxWidth",e)&&(y(this.relativeWidth)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:t,previousHeight:r}))},Object.defineProperty(i.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!y(e)&&this._parent){var t=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(t=t-this.pixelMarginTop-this.pixelMarginBottom),t}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),i.prototype.setMaxHeight=function(e){var t=this.maxWidth,r=this.maxHeight;this.setPropertyValue("maxHeight",e)&&(y(this.relativeHeight)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:t,previousHeight:r}))},Object.defineProperty(i.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof ae?(this.percentWidth=e.percent,y(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof ae?(this.percentHeight=e.percent,y(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelWidth",{get:function(){var e;e=y(this.percentWidth)?this.maxWidth:y(this._pixelWidth)?this._pixelWidth:0;var t=this.minWidth;null!=t&&e<t&&(e=t);var r=F(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelHeight",{get:function(){var e;e=y(this.percentHeight)?this.maxHeight:y(this._pixelHeight)?this._pixelHeight:0;var t=this.minHeight;null!=t&&e<t&&(e=t);var r=F(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(y(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(y(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){(e=ve(e))<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),i.prototype.margin=function(e,t,r,n){return this.marginTop=e,this.marginRight=t,this.marginBottom=r,this.marginLeft=n,this},Object.defineProperty(i.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),i.prototype.padding=function(e,t,r,n){return this.paddingTop=e,this.paddingRight=t,this.paddingBottom=r,this.paddingLeft=n,this},Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),i.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),x(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(i.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=En(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),i.prototype.setFill=function(e){if((!_e(e)||"r"in e)&&(e=Ct(e)),this.setColorProperty("fill",e)||this.fillModifier)if(e instanceof ue&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof ue)this.setSVGAttribute({fill:e.toString()});else if(x(e)){if(e instanceof Wi||e instanceof Pt||e instanceof ri){var t=e;t.paper=this.paper,this.setSVGAttribute({fill:'url("'+yr()+t.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(i.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=En(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),i.prototype.setStroke=function(e){if((!_e(e)||"r"in e)&&(e=Ct(e)),this.setColorProperty("stroke",e)||this.strokeModifier)if(e instanceof ue&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof ue)"none"==e.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(x(e)){if(e instanceof Wi||e instanceof Pt||e instanceof ri){var t=e;t.paper=this.paper,this.setSVGAttribute({stroke:'url("'+yr()+t.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=En(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=xe(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=xe(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=ve(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(y(e)||(e=1),e/=this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=$e(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=ve(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=$e(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=xe(e),this._positionPrecision=e?ie.pixelPerfectPrecision:3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rtl",{get:function(){return x(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=xe(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),i.prototype.show=function(e){return this.showReal(e)},i.prototype.showReal=function(e){var t=this;if(!this.preventShow){var r,n=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=n.opacity&&this.opacity<n.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),y(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(r=this.applyCurrentState(e))&&!r.isFinished()?(this._showHideDisposer=r.events.on("animationended",function(){t.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var s=this.defaultState.properties.visible;x(s)||(s=!0),this.visible=s,this.readerHidden=!1,this.dispatchImmediately("shown")}return r}},i.prototype.hide=function(e){return this.hideReal(e)},i.prototype.hideReal=function(e){var r,t=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var n=this.hiddenState;n?(r=this.setState(n,e,void 0))&&!r.isFinished()?(this._hideAnimation=r,this._showHideDisposer=r.events.on("animationended",function(){t.isHiding=!1,t._isHidden=!0,0==n.properties.visible&&(t.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(r)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return y(e)||(e=this.hiddenState.transitionDuration),r},Object.defineProperty(i.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=xe(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),i.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return x(e)||(e=!0),e},i.prototype.setVisibility=function(e){this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:e})},Object.defineProperty(i.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=ve(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),i.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},i.prototype.toBack=function(){var e=this._parent;e&&0!=e.children.indexOf(this)&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(i.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipDataItem",{get:function(){return this._tooltipDataItem||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),i.prototype.showTooltip=function(e){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&"pointer"==this.tooltipPosition&&this.isHover&&(e=ii(J().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var t=this;null!=t;){if(!t.visible||t.disabled||t.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));t=t.parent}if(x(this.tooltipText)||x(this.tooltipHTML)){var r=this.tooltip,n=this.tooltipDataItem;if(r){r.targetSprite=this;var s=this,o=this.tooltipColorSource;if((r.getStrokeFromObject||r.getFillFromObject)&&o&&(o.isTemplate?n&&Bn(n.sprites,function(f){return f.clonedFrom!=o||(s=f,!1)}):s=o),r.getStrokeFromObject){for(var h=this.stroke,u=s;null!=u.parent&&(null==(h=u.stroke)&&(u=u.parent),null==h););h instanceof ue?r.background.animate({property:"stroke",to:h},r.animationDuration):r.background.stroke=h}if(r.dataItem=n,r.label.populateStringFrom=this,r.getFillFromObject){var c=this.fill;for(u=s;null!=u.parent;)if(null==(c=u.fill)||c instanceof ue&&null==c.rgb)u=u.parent;else if(null!=c)break;null==c&&(c=G("#000000")),c instanceof ue&&r.visible?r.background.animate({property:"fill",to:c},r.animationDuration):r.background.fill=c,r.autoTextColor&&c instanceof ue&&(r.label.fill=c.alternative)}var d="";if(this.tooltipHTML&&(r.html=this.tooltipHTML,d=this.tooltipHTML),this.tooltipText&&(r.text=this.tooltipText,d=this.tooltipText),this.updateTooltipPosition(e)){if(r.readerDescribedBy=this.uidAttr(),r.label.invalid&&r.label.validate(),null!=d&&""!=d&&""!=r.label.currentText){r&&!r.parent&&(r.parent=this.tooltipContainer);var p=r.defaultState.transitionDuration;return p<=0&&(p=1),r.show(p),r.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},i.prototype.updateTooltipPosition=function(e){var t=this;if("pointer"!=this.tooltipPosition){var r=wt({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(r)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=J().body.events.on("track",function(n){return t.pointTooltipTo(ii(n.point,t.svgContainer.SVGContainer,t.svgContainer.cssScale),!0)}),e)return this.pointTooltipTo(e,!0)},i.prototype.pointTooltipTo=function(e,t){var r=this.tooltip;return!(!r||!this.topParent||!r.showInViewport&&!Bo(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})||(r.pointTo(e,t),0))},i.prototype.hideTooltip=function(e){if("always"!=this.showTooltipOn){var t=this.tooltip;t&&(t.targetSprite==this&&(t.targetSprite=void 0),t.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(i.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=$e(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){(e=$e(e))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(e){(e=xe(e))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&("hit"==e&&(this.clickable=!0),this.tooltip&&("always"==e?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),i.prototype.getTooltipX=function(){var t,e=this.getPropertyValue("tooltipX");return x(e)||(e=R(50)),y(e)&&(t=e),e instanceof ae&&(t=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),y(t)||(t=0),t},i.prototype.getTooltipY=function(){var t,e=this.getPropertyValue("tooltipY");return x(e)||(e=R(50)),y(e)&&(t=e),e instanceof ae&&(t=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),y(t)||(t=0),t},i.prototype.raiseCriticalError=function(e,t){this.svgContainer&&(this.modal.content=this._adapterO?this._adapterO.apply("criticalError",e).message:e.message,t?this.modal.closable=!0:this.disabled=!0,ie.suppressErrors||this.modal.open()),ie.verbose&&console.log(e)},i.prototype.processConfig=function(e){e&&(x(e.tooltipColorSource)&&ne(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),x(e.cursorOverStyle)&&ne(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),x(e.cursorDowntyle)&&ne(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),x(e.cursorOptions)&&(x(e.cursorOptions.overStyle)&&ne(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),x(e.cursorOptions.downStyle)&&ne(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),a.prototype.processConfig.call(this,e),this.processDelayedMap()},i.prototype.getCursorStyle=function(e){switch(e){case"grab":return qe.grab;case"grabbing":return qe.grabbing;case"pointer":return qe.pointer;case"horizontalResize":return qe.horizontalResize;case"verticalResize":return qe.verticalResize;default:return qe.default}},i.prototype.configOrder=function(e,t){return e==t?0:"tooltipColorSource"==e?1:"tooltipColorSource"==t?-1:a.prototype.configOrder.call(this,e,t)},Object.defineProperty(i.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=xe(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),i.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(!e||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Pe([C.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},i.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},i.prototype.appear=function(){var e=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var t=this.show();t&&!t.isFinished()?this.addDisposer(t.events.on("animationended",function(){e.appeared=!0,e.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(i.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=xe(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new he,this._disposers.push(this._plugins.events.on("inserted",function(t){t.newValue.target=e,t.newValue.init()})),this._disposers.push(new ye(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),i.prototype._systemUpdate=function(e){this.validate()},i.prototype._systemCheckIfValidate=function(){return!0},i.prototype._systemValidatePositions=function(){this.validatePosition()},i.prototype._systemValidateLayouts=function(){},i}(Rt);C.registeredClasses.Sprite=ee;var Ma=function(a){function i(){var e=a.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var t=F(this.innerWidth,e),r=F(this.innerHeight,e);this.element.attr({width:t,height:r})},i.prototype.measureElement=function(){},Object.defineProperty(i.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Rectangle=Ma;var U=function(a){function i(){var e=a.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new be,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new gi(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},i.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new Pe([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}this.element&&this.element.add(e.group),e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},i.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},i.prototype.handleChildRemoved=function(e){var t=e.oldValue;this._childrenDisposers.removeKey(t.uid),this.element&&this.element.removeElement(t.group),t.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:t})},i.prototype.handleChildTransform=function(e){e.target.isMeasured&&this.invalidateLayout()},i.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,C.addToInvalidLayouts(this),re.requestFrame())},i.prototype.invalidate=function(){a.prototype.invalidate.call(this),this.invalidateLayout()},i.prototype.deepInvalidate=function(){a.prototype.invalidate.call(this),j(this._childrenByLayout,function(e){e instanceof i?e.deepInvalidate():e.invalidate()}),this.invalidateLayout()},Object.defineProperty(i.prototype,"children",{get:function(){return this._children||(this._children=new he),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),i.prototype.removeElement=function(){},i.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var t=[],r=[];I(this.children.iterator(),function(n){"horizontal"==e.layout||"grid"==e.layout?y(n.percentWidth)?r.push(n):t.push(n):"vertical"==e.layout&&y(n.percentHeight)?r.push(n):t.push(n)}),this._childrenByLayout=t.concat(r)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},i.prototype.calculateRelativeSize=function(){var e=this,t=0,r=0;j(this._childrenByLayout,function(n){n.isMeasured&&(y(n.percentWidth)&&(t+=n.percentWidth),y(n.percentHeight)&&(r+=n.percentHeight))}),j(this._childrenByLayout,function(n){n.isMeasured&&("horizontal"==e.layout&&(y(n.percentWidth)&&(n.relativeWidth=n.percentWidth/t),y(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100)),"vertical"==e.layout&&(y(n.percentHeight)&&(n.relativeHeight=n.percentHeight/r),y(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100)),"grid"==e.layout&&(y(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100),y(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100))),("absolute"==e.layout||!n.isMeasured)&&(y(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100),y(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100))})},i.prototype.addChildren=function(){if(this.element){var e=ur(this.children.values),t=e.map(function(h,u){return{idx:u,data:h}});t.sort(function(h,u){var c=h.data.zIndex||0,d=u.data.zIndex||0;return c<d?-1:c>d?1:h.idx-u.idx}),e=t.map(function(h){return h.data});var r=this.element,n=!0;if(r.node&&r.node.childNodes)for(var s=0,o=r.node.childNodes.length;s<o;s++)if(r.node.childNodes[s]!=e[s].group.node){n=!1;break}n||(j(e,function(h){h.group&&r.add(h.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},i.prototype.createChild=function(e){var t=new e;return t.parent=this,t},i.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},i.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(i.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),i.prototype.handleGlobalScale=function(){a.prototype.handleGlobalScale.call(this),this.children.each(function(e){e.handleGlobalScale()})},i.prototype.createBackground=function(){return new Ma},i.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=(new ce).getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},i.prototype.validateLayout=function(){var e=this;C.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var t=0,r=0,n=!0;this.children&&(this.sortChildren(),j(this._childrenByLayout,function(s){var o,h;if(y(s.relativeWidth)?(o=F(e._availableWidth*s.relativeWidth,2),"horizontal"==e.layout&&(o-=s.pixelMarginRight+s.pixelMarginLeft)):"horizontal"==e.layout&&s.invalid&&s.validate(),y(s.relativeHeight)?(h=F(e._availableHeight*s.relativeHeight,2),"vertical"==e.layout&&(h-=s.pixelMarginTop+s.pixelMarginBottom)):"vertical"==e.layout&&s.invalid&&s.validate(),0==s.invalid){if(y(s.relativeWidth)&&(s.maxWidth=o),y(s.relativeHeight)&&(s.maxHeight=h),s.isMeasured){"horizontal"==e.layout&&(y(s.percentWidth)||s.measuredWidth>0&&(e._availableWidth-=s.measuredWidth+s.pixelMarginLeft+s.pixelMarginRight)),"vertical"==e.layout&&(y(s.percentHeight)||s.measuredHeight>0&&(e._availableHeight-=s.measuredHeight+s.pixelMarginTop+s.pixelMarginBottom));var u=s.measuredWidth,c=s.measuredHeight;"none"!=s.align&&(u+=s.pixelMarginLeft+s.pixelMarginRight),"none"!=s.valign&&(c+=s.pixelMarginTop+s.pixelMarginBottom),t=Math.max(t,u),r=Math.max(r,c)}}else s.isMeasured&&(y(s.relativeWidth)&&s.maxWidth!=o&&(s.maxWidth=o,n=!1),y(s.relativeHeight)&&s.maxHeight!=h&&(s.maxHeight=h,n=!1))})),this._absoluteWidth=t,this._absoluteHeight=r,n&&this.arrange()},i.prototype.arrange=function(){var h,u,c,d,T,A,O,je,Re,rt,Ne,e=this,t=this.children,r=0,n=0,s=Q(this.innerWidth,this._absoluteWidth),o=Q(this.innerHeight,this._absoluteHeight),p=this.pixelPaddingLeft,f=this.pixelPaddingRight,g=this.pixelPaddingTop,m=this.pixelPaddingBottom,v=0,b=0,_=0,P=0,S=[],D=[],k=this.maxWidth,X=this.maxHeight,Z=this.minWidth,Y=this.minHeight,fe=ur(t.values);if(this.reverseOrder&&fe.reverse(),"grid"==this.layout){A=k,T=1;for(var Le=0,Je=fe.length;Le<Je;Le++)if((z=fe[Le]).isMeasured&&!z.disabled&&!z.__disabled){var Ve=z.measuredWidth;Ve<A&&(A=Ve),Ve>T&&(T=Ve)}A=B(A,1,k),T=B(T,1,k),O=this.fixedWidthGrid?k/T:k/A,O=Q(1,Math.floor(O)),O=se(this.maxColumns,O),S=this.getColumnWidth(fe,O,T)}for(Le=0,Je=fe.length;Le<Je;Le++){var z;if(!(z=fe[Le]).isMeasured||z.disabled||z.__disabled)z.validatePosition();else{var W=void 0,me=void 0,Ae=z.pixelMarginLeft,St=z.pixelMarginRight,bt=z.pixelMarginTop,ot=z.pixelMarginBottom,ct=z.measuredWidth,Bt=z.measuredHeight,kt=void 0,Ti=void 0,Ai=void 0,tn=void 0;switch(this.layout){case"none":break;case"absolute":switch(z.align){case"left":W=Ae-z.maxLeft;break;case"center":W=(s-ct)/2-z.maxLeft;break;case"right":W=s-St-z.maxRight;break;default:z.x instanceof ae||(W=z.pixelX)}switch(z.valign){case"top":me=bt-z.maxTop;break;case"middle":me=(o-Bt)/2-z.maxTop;break;case"bottom":me=o-ot-z.maxBottom;break;default:z.y instanceof ae||(me=z.pixelY)}break;case"vertical":switch(z.align){case"left":W=Ae-z.maxLeft;break;case"center":W=(s-ct)/2-z.maxLeft;break;case"right":W=s-St-z.maxRight;break;default:W=z.pixelX}b=(me=b+bt-z.maxTop)+z.maxBottom+ot;break;case"horizontal":switch(z.valign){case"top":me=bt-z.maxTop;break;case"middle":me=(o-Bt)/2-z.maxTop;break;case"bottom":me=o-ot-z.maxBottom;break;default:me=z.pixelY}v=(W=v+Ae-z.maxLeft)+z.maxRight+St;break;case"grid":switch(W=v+Ae-z.maxLeft,z.valign){case"top":me=b+bt-z.maxTop;break;case"middle":me=b+(o-Bt)/2-z.maxTop;break;case"bottom":me=b+o-ot-z.maxBottom;break;default:me=b-z.maxTop}v+=S[P],D[_]=Q(D[_],Bt);var lo=S[++P];if(y(lo)||(lo=T),v>se(this.innerWidth,k)-lo+1&&P<O){O=P,v=0,b=0,_=0,P=0,S=this.getColumnWidth(fe,O,T),D=[],Le=-1;continue}P>=O&&(P=0,b+=D[_],_++,v=0)}"none"!==this.layout&&(z.moveTo({x:W,y:me}),kt=W+z.maxLeft-Ae,Ai=me+z.maxTop-bt,tn=me+z.maxBottom+ot,((Ti=W+z.maxRight+St)>u||!y(u))&&(u=Ti),(kt<h||!y(h))&&(h=kt),(Ai<c||!y(c))&&(c=Ai),(tn>d||!y(d))&&(d=tn),(Ti>Re||!y(Re))&&(Re=Ti),(kt<je||!y(je))&&(je=kt),(Ai<rt||!y(rt))&&(rt=Ai),tn>Ne||y(Ne))}}if("none"==this.layout){var $i=this.bbox;h=$i.x,u=$i.x+$i.width,c=$i.y,d=$i.y+$i.height}y(h)||(h=0,je=0),y(u)||(Re=u=this._availableWidth),y(c)||(c=0,rt=0),y(d)||(Ne=d=this._availableHeight),y(rt)||(rt=0),y(Ne)||(Ne=rt),y(je)||(je=0),y(Re)||(Re=je),r=u-h,n=d-c,y(this.relativeWidth)&&(h=0,u=r=k-p-f),y(this.relativeHeight)&&(c=0,d=n=X-g-m),y(this._pixelWidth)&&(h=0,r=this._pixelWidth-p-f),y(Z)&&r<Z&&(h=0,r=this.minWidth-p-f),y(this._pixelHeight)&&(c=0,n=this._pixelHeight-g-m),y(Y)&&n<Y&&(c=0,n=Y-g-m);var rn=Re-je,an=Ne-rt;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&t.length>0){var nn,sn,on=r,ln=n;on<rn&&(on=rn),ln<an&&(ln=an),"center"==this.contentAlign&&(nn=(on-rn)/2),"right"==this.contentAlign&&(nn=on-rn),"middle"==this.contentValign&&(sn=(ln-an)/2),"bottom"==this.contentValign&&(sn=ln-an),y(nn)&&I(t.iterator(),function(Be){var Ji=Be.maxLeft,dt=nn;"horizontal"==e.layout&&(Be.x=Be.pixelX+dt),"grid"==e.layout&&(Be.x=Be.pixelX+dt),"vertical"==e.layout&&(dt+=Be.pixelMarginLeft,"none"==Be.align&&(Be.x=dt-Ji)),"absolute"==e.layout&&(dt+=Be.pixelMarginLeft,"none"==Be.align&&(Be.x=dt-Ji))}),y(sn)&&I(t.iterator(),function(Be){var Ji=Be.maxTop,dt=sn;"horizontal"==e.layout&&(dt+=Be.pixelMarginTop,"none"==Be.valign&&(Be.y=dt-Ji)),"grid"==e.layout&&(Be.y=(dt+=Be.pixelMarginTop)-Ji),"vertical"==e.layout&&(Be.y=Be.pixelY+dt),"absolute"==e.layout&&(dt+=Be.pixelMarginTop,"none"==Be.valign&&(Be.y=dt-Ji))})}var ho=this.bbox;r=Q(r,Z),n=Q(n,Y),this.contentWidth=r,this.contentHeight=n,r=se(r,k),n=se(n,X),this._bbox={x:h,y:c,width:r,height:n};var vm=this.maxLeft,ym=this.maxTop,bm=this.maxBottom,_m=this.maxRight;if(this.measure(),(vm!=this.maxLeft||_m!=this.maxRight||ym!=this.maxTop||bm!=this.maxBottom)&&this.events.isEnabled("transformed")){var Kh={type:"transformed",target:this};ho&&(Kh.dummyData=ho.width+" "+r+"  "+ho.height+" "+n),this.events.dispatchImmediately("transformed",Kh)}this.dispatchImmediately("layoutvalidated")},i.prototype.updateCenter=function(){a.prototype.updateCenter.call(this),this.updateBackground()},i.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},i.prototype.getColumnWidth=function(e,t,r){var n=this,s=[],o=0;return j(e,function(h){h.isMeasured&&!h.disabled&&!h.__disabled&&(s[o]=n.fixedWidthGrid?r:Q(s[o],h.measuredWidth+h.pixelMarginRight+h.pixelMarginLeft),++o==t&&(o=0))}),s},Object.defineProperty(i.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),i.prototype.fitsToBounds=function(e){var t=e.x,r=e.y,n=.5;return t>=-n&&t<=this.pixelWidth+n&&r>=-n&&r<=this.pixelHeight+n},i.prototype.copyFrom=function(e){var t=this;a.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),I(e.children.iterator(),function(r){r.shouldClone&&(r.clone().parent=t)})},Object.defineProperty(i.prototype,"preloader",{get:function(){return this._preloader||(this.parent?this.parent.preloader:void 0)},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),i.prototype.setPaper=function(e){var t=this,r=a.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(n){n.setPaper(e),n.topParent=t.topParent})),r},i.prototype.removeFromInvalids=function(){a.prototype.removeFromInvalids.call(this),C.removeFromInvalidLayouts(this)},i.prototype.setDataItem=function(e){this._dataItem!=e&&(I(this.children.iterator(),function(t){t.dataItem=e}),this._background&&(this._background.dataItem=e)),a.prototype.setDataItem.call(this,e)},i.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),i.prototype.invalidateLabels=function(){this.children.each(function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof i&&e.invalidateLabels()})},Object.defineProperty(i.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),a.prototype.dispose.call(this)},i.prototype.setState=function(e,t,r){var n=e;return e instanceof wa&&(n=e.name),this.setStateOnChildren&&I(this.children.iterator(),function(s){s.setState(n,t,r),"active"!=n&&(s.isActive=!1)}),this._background&&this._background.setState(n),this.setStateOnSprites.length&&j(this.setStateOnSprites,function(s){s.setState(n,t,r)}),a.prototype.setState.call(this,e,t,r)},i.prototype.setActive=function(e){a.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},i.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var t=!0;ft(this.children.iterator(),function(r){return!!(r.__disabled||r.disabled||r.isReady())||(t=!1,!1)}),Bn(this._shouldBeReady,function(r){return!!(r.__disabled||r.disabled||r.isReady())||(t=!1,!1)}),t?a.prototype.dispatchReady.call(this):C.events.once("exitframe",function(){e.dispatchReady(),re.requestFrame()},void 0,!1)}},i.prototype._systemUpdate=function(e){this.children.each(function(t){t.invalid&&(t._systemCheckIfValidate()?t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid?e.push(t):t.validate():e.push(t))}),a.prototype._systemUpdate.call(this,e)},i.prototype._systemValidatePositions=function(){this.children.each(function(e){e.positionInvalid&&e.validatePosition()}),a.prototype._systemValidatePositions.call(this)},i.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(i.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),i.prototype.setTapToActivate=function(e){var t=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,function(){return new Pe([t.events.on("hit",t.handleTapToActivate,t,!1),t.events.on("down",t.initTapTimeout,t,!1),t.events.on("track",t.initTapTimeout,t,!1),J().body.events.on("down",function(r){J().isLocalElement(r.pointer,t.paper.svg,t.uid)||t.handleTapToActivateDeactivation()},t,!1)])}),J()},i.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},i.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},i.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){e.handleTapToActivateDeactivation()},this.tapTimeout))},i.prototype.moveHtmlContainer=function(e){var t=wl(e);if(t){this.htmlContainer=t;var r=this.svgContainer;r.htmlElement=t,r.htmlElement.appendChild(r.SVGContainer),r.initSensor(),r.measure()}else ne(e)&&""!=e&&re.log("html container '"+e+"' not found")},i.prototype.hasLicense=function(){if(ie.commercialLicense)return!0;for(var e=0;e<ie.licenses.length;e++)if(ie.licenses[e].match(/^CH.{5,}/i))return!0;return!1},i}(ee);C.registeredClasses.Container=U;var re=new(function(){function a(){this._isPaused=!1,this.animations=[],this.uid=C.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return a.prototype.reportTime=function(i,e){e&&(this.time=Date.now())},a.prototype.update=function(){var i=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();for(var r in C.dispatchImmediately("enterframe"),C.invalidDatas)if(Ft(C.invalidDatas,r)){for(var n=C.invalidDatas[r];n.length>0;){var o=(s=n[0]).dataProvider;if(s.isDisposed())$(n,s);else if(o&&o.dataInvalid)try{if(o.validateData(),o.dataValidationProgress<1)break}catch(d){$(n,o),o.raiseCriticalError(d)}else try{if(s.validateData(),s.dataValidationProgress<1)break}catch(d){$(n,s),s.raiseCriticalError(d)}}if(Date.now()-e>this.updateStepDuration)break}for(;C.invalidRawDatas.length>0;)if((s=C.invalidRawDatas[0]).isDisposed())$(C.invalidRawDatas,s);else try{s.validateRawData()}catch(p){$(C.invalidRawDatas,s),s.raiseCriticalError(p)}for(;C.invalidDataItems.length>0;){if(o=(s=C.invalidDataItems[0]).dataProvider,!(s.isDisposed()||s.dataInvalid||o&&o.dataInvalid))try{s.validateDataItems()}catch(f){$(C.invalidDataItems,s),s.raiseCriticalError(f)}$(C.invalidDataItems,s)}for(;C.invalidDataRange.length>0;){var s;if(o=(s=C.invalidDataRange[0]).dataProvider,!(s.isDisposed()||s.dataInvalid||o&&o.dataInvalid))try{s.validateDataRange(),s.skipRangeEvent||s.dispatchImmediately("datarangechanged"),s.skipRangeEvent=!1}catch(f){$(C.invalidDataRange,s),s.raiseCriticalError(f)}$(C.invalidDataRange,s)}var h=[];q(C.invalidLayouts,function(d){i.validateLayouts(d)}),q(C.invalidPositions,function(d){i.validatePositions(d)});var u=!1;if(e=Date.now(),q(C.invalidSprites,function(d,p){for(var f=0;p.length>0;){if(i.validateLayouts(d),i.validatePositions(d),5==++f){if(Date.now()-e>i.updateStepDuration)break;f=0}var g=p[p.length-1];if(g&&!g.isDisposed()){if(g._systemCheckIfValidate())if(i.checkIfValidate2(g))try{g._systemUpdate(h)}catch(m){g.invalid=!1,$(p,g),g.raiseCriticalError(m)}else h.push(g);else h.push(g);g.invalid=!1}$(p,g)}C.invalidSprites[d]=C.invalidSprites[d].concat(h)}),q(C.invalidSprites,function(d,p){p.length>0&&(u=!0)}),q(C.invalidDatas,function(d,p){p.length>0&&(u=!0)}),j(ur(this.animations),function(d){d.update()}),q(C.invalidLayouts,function(d){i.validateLayouts(d)}),q(C.invalidPositions,function(d){i.validatePositions(d)}),function pd(){for(var a=Date.now(),i=Yn.length,e=0;e<i;++e)Yn.shift()(a)}(),q(C.invalidLayouts,function(d){i.validateLayouts(d)}),q(C.invalidPositions,function(d){i.validatePositions(d)}),C.dispatchImmediately("exitframe"),!!(u||this.animations.length>0)&&this.requestFrame(),this.updateStepDuration<200){var c=!0;q(C.invalidDatas,function(d,p){p.length>0&&(c=!1)}),q(C.invalidSprites,function(d,p){p.length>0&&(c=!1)}),c&&(this.updateStepDuration=200)}}},a.prototype.checkIfValidate2=function(i){return!(i.dataItem&&i.dataItem.component&&i.dataItem.component.dataInvalid&&!i.dataItem.component.isTemplate)},a.prototype.requestFrame=function(){var i=this;this._frameRequested||(Un(function(){i.update()}),this._frameRequested=!0)},a.prototype.softInvalidate=function(i){var e=this;i.children.each(function(t){t instanceof U&&e.softInvalidate(t),t.measureFailed&&(nt(t,"Label")?t.hardInvalidate():t.invalidate(),t.measureFailed=!1)})},a.prototype.validatePositions=function(i){for(var e=C.invalidPositions[i];e.length>0;){var t=e[e.length-1];if(t.isDisposed())$(e,t);else try{t._systemValidatePositions()}catch(r){t.positionInvalid=!1,$(e,t),t.raiseCriticalError(r)}}},a.prototype.validateLayouts=function(i){for(var e=C.invalidLayouts[i];e.length>0;){var t=e[e.length-1];if(t.isDisposed())$(e,t);else try{t.children.each(function(r){r._systemValidateLayouts()}),t.validateLayout()}catch(r){t.layoutInvalid=!1,$(e,t),t.raiseCriticalError(r)}}},a.prototype.log=function(i){!function qp(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];ie.verbose&&console&&console.log.apply(console,(0,w.fl)(a))}(i)},Object.defineProperty(a.prototype,"isPaused",{get:function(){return this._isPaused},set:function(i){this._isPaused=i,i||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),a.VERSION="4.10.37",a}()),Bl=function(){function a(){}return a.prototype.parse=function(i){return[]},Object.defineProperty(a.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),a.prototype.maybeToNumber=function(i,e){return-1!==this.options.numberFields.indexOf(i)?ss(e):e},Object.defineProperty(a.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),a.prototype.maybeToDate=function(i,e){return-1!==this.options.dateFields.indexOf(i)?this.options.dateFormatter.parse(e,this.dateFormat):e},a.prototype.maybeToEmpty=function(i){return x(i)&&""!=i||!x(this.options.emptyAs)?i:this.options.emptyAs},Object.defineProperty(a.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new Pr,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),a}(),df=[",",";","\t"],Ia=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return(0,w.ZT)(i,a),i.isCSV=function(e){return!!i.getDelimiterFromData(e)},i.getDelimiterFromData=function(e){var n,t=e.split("\n"),r=t.length;return j(df,function(s){for(var o=0,h=0,u=0;u<r;++u){if(!((o=t[u].split(s).length)>1)){h=0;break}if(0===h)h=o;else if(o!=h){h=0;break}}h&&(n=s)}),n},i.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=i.getDelimiterFromData(e));var u,c,p,t=this.CSVToArray(e,this.options.delimiter),r=x(this.options.emptyAs),n=this.parsableNumbers,s=this.parsableDates,o=[],h=[];for(c=0;c<this.options.skipRows;c++)t.shift();if(this.options.useColumnNames){h=t.shift();for(var d=0;d<h.length;d++)""===(u=x(h[d])?h[d].replace(/^\s+|\s+$/gm,""):"")&&(u="col"+d),h[d]=u}for(;p=this.options.reverse?t.pop():t.shift();)if(!this.options.skipEmpty||1!==p.length||""!==p[0]){var f={};for(c=0;c<p.length;c++)f[u=void 0===h[c]?"col"+c:h[c]]=""===p[c]?this.options.emptyAs:p[c],r&&(f[u]=this.maybeToEmpty(f[u])),n&&(f[u]=this.maybeToNumber(u,f[u])),s&&(f[u]=this.maybeToDate(u,f[u]));o.push(f)}return o},i.prototype.CSVToArray=function(e,t){t=t||",";for(var r=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],s=null;s=r.exec(e);){var o=s[1];o.length&&o!==t&&n.push([]);var h;h=s[2]?s[2].replace(new RegExp('""',"g"),'"'):s[3],n[n.length-1].push(h)}return n},i}(Bl),Dr=function(a){function i(){var e=null!==a&&a.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return(0,w.ZT)(i,a),i.isJSON=function(e){try{return JSON.parse(e),!0}catch{return!1}},i.prototype.parse=function(e){var r,t=this;try{x(JSON)&&(r=JSON.parse(e))}catch{return}var n=x(this.options.emptyAs),s=this.parsableNumbers,o=this.parsableDates;if(Array.isArray(r)&&(s||o||n))for(var h=function(d,p){var f=r[d];q(f,function(g,m){n&&(f[g]=t.maybeToEmpty(f[g])),s&&(f[g]=t.maybeToNumber(g,f[g])),o&&(f[g]=t.maybeToDate(g,f[g]))})},u=0,c=r.length;u<c;u++)h(u);return r},i}(Bl),ks=new(function(){function a(){this.adapter=new ut(this)}return a.prototype.load=function(i){var t=hr(Array.isArray(i)?i:[i],function(r){return r.dispatchImmediately("started"),r.dispatchImmediately("loadstarted"),ka(r.url,r,r.requestOptions)});Promise.all(t).then(function(r){j(r,function(n){var s=n.target;s.dispatchImmediately("loadended"),n.error?s.events.isEnabled("error")&&s.events.dispatchImmediately("error",{type:"error",code:n.xhr.status,message:s.language.translate("Unable to load file: %1",null,s.url),target:s}):s.processData(n.response,n.type),s.dispatchImmediately("ended")})}).catch(function(r){r.target&&(r.target.dispatchImmediately("loadended"),r.target.events.isEnabled("error")&&r.target.events.dispatchImmediately("error",{type:"error",code:r.xhr.status,message:r.target.language.translate("Unable to load file: %1",null,r.target.url),target:r.target}),r.target.dispatchImmediately("ended"))})},a.prototype.getParserByType=function(i){return this.adapter.apply("getParserByType",{parser:null,type:i}).parser||("csv"==i||"text/csv"==i||"application/vnd.ms-excel"==i?new Ia:"json"==i||"application/json"==i?new Dr:void 0)},a.prototype.getParserByData=function(i,e){var t=this.adapter.apply("getParserByData",{parser:null,data:i,type:e}).parser;if(!t){if(t=this.getParserByType(e))return t;if(Dr.isJSON(i))return this.getParserByType("json");if(Ia.isCSV(i))return this.getParserByType("csv")}return t},a}()),ff=function(a){function i(e,t){var r=a.call(this)||this;return r.adapter=new ut(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",e&&(r.url=e),t&&(r.parser="string"==typeof t?ks.getParserByType(t):t),r}return(0,w.ZT)(i,a),i.prototype.processData=function(e,t){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=ks.getParserByData(e,t),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!x(this.data)&&this.events.isEnabled("parseerror")){var n={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",n)}this.dispatchImmediately("parseended"),x(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended")}},Object.defineProperty(i.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parser",{get:function(){return this._parser||(this._parser=new Dr),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var t=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?x(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(r){t._reloadTimeout=setTimeout(function(){t.load()},t.reloadFrequency)})):x(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new ai,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new Pr,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),i.prototype.timestampUrl=function(e){var r={};return r[(new Date).getTime().toString()]="",this.addUrlParams(e,r)},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),x(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},i.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),ks.load(this))},i.prototype.addUrlParams=function(e,t){var r=e.match(/\?/)?"&":"?",n=[];return q(t,function(s,o){n.push(""!=o?s+"="+encodeURIComponent(o):s)}),n.length?e+r+n.join("&"):e},i.prototype.processConfig=function(e){C.registeredClasses.json=Dr,C.registeredClasses.JSONParser=Dr,C.registeredClasses.csv=Ia,C.registeredClasses.CSVParser=Ia,a.prototype.processConfig.call(this,e)},i}(Rt),gf=function(a){function i(){var e=a.call(this)||this;return e._rules=new he,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new ut(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",function(){e.checkRules()},!0),e.rules.events.on("removed",function(){e.checkRules()},!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"component",{get:function(){return this._component},set:function(e){var t=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(Ce(this.component).events.on("sizechanged",function(){t.checkRules()},this)),this._responsiveDisposers.push(Ce(this.component).events.once("datavalidated",function(){t._component.isReady()&&t.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Ke)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"allRules",{get:function(){var e=new he;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),i.prototype.isApplied=function(e){var t=this._appliedRules[e];return!!x(t)&&t},i.prototype.checkRules=function(e){var t=this;void 0===e&&(e=!1);var r=this.allRules;if(r&&0!=r.length){var n=!1,s=Ce(this.component);if(0!=s.pixelWidth&&0!=s.pixelHeight&&(I(r.iterator(),function(o){o.id||(o.id=C.getUniqueId());var h=o.relevant(s);(h&&!t.isApplied(o.id)||!h&&t.isApplied(o.id))&&(n=!0),t._appliedRules[o.id]=h}),e&&(n=!0),n)){if(!this.component.isReady())return s.hidden=!0,void s.events.once("ready",function(o){o.target.show(0),t._applyRules()});this.dispatchImmediately("ruleschanged"),this._applyRules()}}},i.prototype._applyRules=function(){var e=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){e.applyRules()},10)},i.prototype.applyRules=function(e){var t=this,r=x(e)?e:Ce(this.component),n=!1;if(this.enabled){var s=!1;I(this.allRules.iterator(),function(o){var h=t.getState(o,r);h&&(n||(-1!==_t(t._appliedTargets,r.uid)&&r.setState(t.getDefaultState(r),0),n=!0),t.isApplied(Ce(o.id))&&(h.transitionDuration=0,t.setTargetState(r,h),t.dispatchImmediately("ruleapplied",{rule:o}),s=!0))}),s?function hd(a,i,e){var t=a.indexOf(i);-1!==t&&a.splice(t,1),y(e)?a.splice(e,0,i):a.push(i)}(this._appliedTargets,r.uid):$(this._appliedTargets,r.uid)}r.children&&I(r.children.iterator(),function(o){t.applyRules(o)})},i.prototype.getState=function(e,t){var r="responsive-"+e.id,n=t.uid+"_"+r;if(-1===_t(this._noStates,n)){if(t.states.hasKey(r))return t.states.getKey(r);var s=e.state(t,r);return s||this._noStates.push(n),s}},i.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},i.prototype.setTargetState=function(e,t){var r=this,n=this.getDefaultState(e);q(t.properties,function(s,o){x(n.properties[s])||(n.properties[s]=r.getValue(e,s))}),e.setState(t)},i.prototype.getValue=function(e,t){var r=e.getPropertyValue(t);return!x(r)&&x(e[t])&&(r=e[t]),r},i.prototype.dispose=function(){this.disposeResponsiveHandlers(),a.prototype.dispose.call(this)},i.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},i}(Rt),Ke=new he;Ke.events.on("inserted",function(a){a.newValue.id=C.getUniqueId()});var et=function(){function a(){}return a.widthXXS=function(i){return i.pixelWidth<=a.XXS},a.widthXS=function(i){return i.pixelWidth<=a.XS},a.widthS=function(i){return i.pixelWidth<=a.S},a.widthM=function(i){return i.pixelWidth<=a.M},a.widthL=function(i){return i.pixelWidth<=a.L},a.widthXL=function(i){return i.pixelWidth<=a.XL},a.widthXXL=function(i){return i.pixelWidth<=a.XXL},a.heightXXS=function(i){return i.pixelHeight<=a.XXS},a.heightXS=function(i){return i.pixelHeight<=a.XS},a.heightS=function(i){return i.pixelHeight<=a.S},a.heightM=function(i){return i.pixelHeight<=a.M},a.heightL=function(i){return i.pixelHeight<=a.L},a.heightXL=function(i){return i.pixelHeight<=a.XL},a.heightXXL=function(i){return i.pixelHeight<=a.XXL},a.isXXS=function(i){return i.pixelWidth<=a.XXS&&i.pixelHeight<=a.XXS},a.isXS=function(i){return i.pixelWidth<=a.XS&&i.pixelHeight<=a.XS},a.isS=function(i){return i.pixelWidth<=a.S&&i.pixelHeight<=a.S},a.isM=function(i){return i.pixelWidth<=a.M&&i.pixelHeight<=a.M},a.isL=function(i){return i.pixelWidth<=a.L&&i.pixelHeight<=a.L},a.isXL=function(i){return i.pixelWidth<=a.XL&&i.pixelHeight<=a.XL},a.isXXL=function(i){return i.pixelWidth<=a.XXL&&i.pixelHeight<=a.XXL},a.maybeXXS=function(i){return i.pixelWidth<=a.XXS||i.pixelHeight<=a.XXS},a.maybeXS=function(i){return i.pixelWidth<=a.XS||i.pixelHeight<=a.XS},a.maybeS=function(i){return i.pixelWidth<=a.S||i.pixelHeight<=a.S},a.maybeM=function(i){return i.pixelWidth<=a.M||i.pixelHeight<=a.M},a.maybeL=function(i){return i.pixelWidth<=a.L||i.pixelHeight<=a.L},a.maybeXL=function(i){return i.pixelWidth<=a.XL||i.pixelHeight<=a.XL},a.maybeXXL=function(i){return i.pixelWidth<=a.XXL||i.pixelHeight<=a.XXL},a.XXS=100,a.XS=200,a.S=300,a.M=400,a.L=600,a.XL=800,a.XXL=1e3,a}(),vi=function(a){function i(){var e=a.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new ut(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hi(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,j(this.sprites,function(t){t.__disabled=e})},enumerable:!0,configurable:!0}),i.prototype.setVisibility=function(e,t){j(this.sprites,function(n){n.visible=e?n.defaultState.properties.visible:!!n.hiddenState&&n.hiddenState.properties.visible}),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:e})},i.prototype.show=function(e,t,r){var s,n=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),r&&j(r,function(o){s=n.setWorkingValue(o,n.values[o].value,e,t)}),j(this.sprites,function(o){var h=o.show(e);null!=h&&!h.isFinished()&&(n._disposers.push(h),null!=t&&t>0&&h.delay(t))}),s},i.prototype.dispose=function(){a.prototype.dispose.call(this),j(this.sprites,function(e){e.dispose()}),this.sprites=[]},i.prototype.hide=function(e,t,r,n){var s=this;if(this.isHiding=!0,j(this.sprites,function(h){var u=h.hide(e);null!=u&&!u.isFinished()&&(s._disposers.push(u),null!=t&&t>0&&u.delay(t))}),y(r)&&n){var o;if(j(n,function(h){var u=s.setWorkingValue(h,r,e,t);u&&(o=u)}),o&&!o.isFinished())return this._hideDisposer=o.events.on("animationended",function(){s.setVisibility(!1,!0),s.isHiding=!1}),this._disposers.push(this._hideDisposer),o;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},i.prototype.getDuration=function(e){if(!y(e)){var t=this.component;t&&(e=t.interpolationDuration)}if(null!=e)return this._adapterO?this._adapterO.apply("duration",e):e},i.prototype.getValue=function(e,t){if(e&&this.component){t||(t=this.component.dataFields[e+"Show"])||(t="value");var r=this.values[e][t];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:r,field:e}).value:r}},i.prototype.getWorkingValue=function(e){if(e&&this.component){var t=this.component.dataFields[e+"Show"];return t||(t="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][t],field:e}).workingValue:this.values[e][t]}},i.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},i.prototype.setValue=function(e,t,r,n){var s=this.values[e].value,o=this.getDuration(r);s!==(t=ve(t))&&(this.values[e].value=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")&&this.events.dispatchImmediately("valuechanged",{type:"valuechanged",target:this,property:e}),this.component&&this.component.handleDataItemValueChange(this,e)),this.setWorkingValue(e,t,o,n)},i.prototype.setCalculatedValue=function(e,t,r){this.values[e][r]!==t&&y(t)&&(this.values[e][r]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")&&this.events.dispatchImmediately("calculatedvaluechanged",{type:"calculatedvaluechanged",target:this,property:e}),this.component&&this.component.handleDataItemCalculatedValueChange(this,e))},i.prototype.setWorkingValue=function(e,t,r,n){if(y(this.values[e].value)){var s=this.getDuration(r),o=this.values[e].workingValue;if(null!=s&&s>0&&y(o)&&this.component){if(o!=t){var h=this.animate({childObject:this.values[e],property:"workingValue",from:o,to:t,dummyData:e},s,this.component.interpolationEasing);return null!=n&&h.delay(n),h.events.on("animationstarted",this.handleInterpolationProgress,this),h.events.on("animationprogress",this.handleInterpolationProgress,this),h.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=h,h}(u=this._valueAnimations[e])&&u.stop(),this.values[e].workingValue=t}else{var u;(u=this._valueAnimations[e])&&u.stop(),this.values[e].workingValue=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:e}),this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},i.prototype.setLocation=function(e,t,r,n){this.locations[e]!==t&&(this.locations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")&&this.events.dispatchImmediately("locationchanged",{type:"locationchanged",target:this,property:e}),this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,t,r,n))},i.prototype.setWorkingLocation=function(e,t,r,n){var s=this.getDuration(r),o=this.workingLocations[e];if(null!=s&&s>0&&y(o)&&this.component){if(o!=t){var h=this.animate({childObject:this.workingLocations,property:e,from:o,to:t,dummyData:e},s,this.component.interpolationEasing);return null!=n&&h.delay(n),h.events.on("animationstarted",this.handleInterpolationProgress,this),h.events.on("animationprogress",this.handleInterpolationProgress,this),h.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=h,h}(u=this._locationAnimations[e])&&u.stop(),this.workingLocations[e]=t}else{var u;(u=this._locationAnimations[e])&&u.stop(),this.workingLocations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")&&this.events.dispatchImmediately("workinglocationchanged",{type:"workinglocationchanged",target:this,property:e}),this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},i.prototype.setDate=function(e,t,r){!nr(t)&&this.component&&(t=this.component.dateFormatter.parse(t)),this.dates[e]!==t&&(this.dates[e]=t,this.setValue(e,t.getTime(),r))},i.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},i.prototype.setProperty=function(e,t){this.properties[e]!==t&&(this.hasProperties=!0,this.properties[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:e,value:t}),this.component&&this.component.handleDataItemPropertyChange(this,e))},i.prototype.setCategory=function(e,t){ne(t)||(t=Vn(t)),this.categories[e]!==t&&(this.categories[e]=t)},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=function Hd(a,i){return q(a,function(e,t){i[e]=t}),i}(e.dataContext,{})),Gt(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(i.prototype,"opacity",{set:function(e){j(this.sprites,function(t){t.opacity=e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:"ignoreMinMax",value:e}),this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),i.prototype.animate=function(e,t,r){return new Tt(this,e,t,r).start()},i.prototype.handleInterpolationProgress=function(e){var r=e.target.animationOptions[0];r&&(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:r.dummyData}),this.component&&this.component.handleDataItemWorkingValueChange(this,r.dummyData))},i.prototype.hasValue=function(e){for(var t=0,r=e.length;t<r;t++){var n=this.values[e[t]];if(!n||!x(n.value))return!1}return!0},Object.defineProperty(i.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),i.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&$(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},i}(Rt),yi=function(a){function i(){var e=a.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=mi,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=mi,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new ha(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new ye(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Pe(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createDataItem=function(){return new vi},i.prototype.handleDataUserAdded=function(e){e.newValue.dataProvider=this},i.prototype.handleDataItemValueChange=function(e,t){this.dataItemsInvalid||this.invalidateDataItems()},i.prototype.handleDataItemWorkingValueChange=function(e,t){},i.prototype.handleDataItemWorkingLocationChange=function(e,t){},i.prototype.handleDataItemCalculatedValueChange=function(e,t){},i.prototype.handleDataItemPropertyChange=function(e,t){},i.prototype.processDataItem=function(e,t){var r=this;if(e){t||(t={}),e.dataContext=t;var n=!1;q(this.dataFields,function(s,o){var h=s,u=t[o];if(r._adapterO&&r._adapterO.isEnabled("dataContextValue")&&(u=r._adapterO.apply("dataContextValue",{field:h,value:u,dataItem:e}).value),x(u))if(n=!0,e.hasChildren[h]){var c=r.createDataItem();c.copyFrom(r.mainDataSet.template);var d=new ha(c);d.events.on("inserted",r.handleDataItemAdded,r,!1),d.events.on("removed",r.handleDataItemRemoved,r,!1),r._dataDisposers.push(new ye(d));for(var p=u.length,f=0;f<p;f++){var g=u[f],m=d.create();m.parent=e,r.processDataItem(m,g)}e[h]=d}else e[h]=u}),q(this.propertyFields,function(s,o){var h=s,u=t[o];x(u)&&(n=!0,e.setProperty(h,u))}),!this._addAllDataItems&&!n&&this.mainDataSet.remove(e)}},i.prototype.updateDataItem=function(e){var t=this;if(e){var r=e.dataContext;q(this.dataFields,function(n,s){var o=n,h=r[s];t._adapterO&&(h=t._adapterO.apply("dataContextValue",{field:o,value:h,dataItem:e}).value),x(h)&&(e.hasChildren[o]?e[o].each(function(d){t.updateDataItem(d)}):e[o]=h)}),q(this.propertyFields,function(n,s){var o=n,h=r[s];x(h)&&e.setProperty(o,h)})}},i.prototype.validateDataElements=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++){var r=this.dataItems.getIndex(t);r&&this.validateDataElement(r)}},i.prototype.validate=function(){this.validateDataElements(),a.prototype.validate.call(this)},i.prototype.validateDataElement=function(e){},i.prototype.addData=function(e,t,r){var n=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),r||(e instanceof Array?j(e,function(s){n.data.push(s)}):this.data.push(e)),this.inited)this.removeData(t,r);else if(y(t))for(;t>0;)this.data.shift(),t--;this.invalidateData()},i.prototype.removeData=function(e,t){if(y(e)&&e>0){for(;e>0;){var r=this.mainDataSet.getIndex(0);r&&this.mainDataSet.remove(r),this.dataUsers.each(function(n){if(!n.data||0==n.data.length){var s=n.mainDataSet.getIndex(0);s&&n.mainDataSet.remove(s)}}),t||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},i.prototype.invalidateData=function(){this.disabled||this.isTemplate||(C.addToInvalidComponents(this),re.requestFrame(),this.dataInvalid=!0,I(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},i.prototype.invalidateDataUsers=function(){I(this.dataUsers.iterator(),function(e){e.invalidate()})},i.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(xt(C.invalidDataItems,this),re.requestFrame(),this.dataItemsInvalid=!0,I(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},i.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,xt(C.invalidDataRange,this),re.requestFrame())},i.prototype.validateDataRange=function(){$(C.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},i.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},i.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},i.prototype.appendDataItems=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++)(r=this.dataItems.getIndex(t))&&(r.__disabled=!1);for(t=0;t<this.startIndex;t++)(r=this.dataItems.getIndex(t))&&(r.__disabled=!0);for(t=this.endIndex;t<this.dataItems.length;t++){var r;(r=this.dataItems.getIndex(t))&&(r.__disabled=!0)}},i.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(xt(C.invalidRawDatas,this),re.requestFrame(),this.rawDataInvalid=!0,I(this.dataUsers.iterator(),function(e){e.invalidateRawData()}))},i.prototype.validateRawData=function(){var e=this;$(C.invalidRawDatas,this),I(this.mainDataSet.iterator(),function(t){t&&e.updateDataItem(t)})},i.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),q(this._dataSources,function(t,r){e.removeDispose(r)}),this.disposeData(),a.prototype.dispose.call(this)},i.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),j(this._dataDisposers,function(e){e.dispose()}),I(this.dataUsers.iterator(),function(e){e.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},i.prototype.getDataItem=function(e){return this.mainDataSet.create()},i.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,C.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem&&(this._data=this.dataItem.dataContext[this.dataFields.data]),0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var t=this.preloader;I(this.dataUsers.iterator(),function(d){d._startIndex=void 0,d._endIndex=void 0});for(var r=0,n=Date.now(),s=this._parseDataFrom,o=this.data.length,h=function(){var d=u.data[s];if(u._usesData){var p=u.getDataItem(d);u.processDataItem(p,d)}if(u.dataUsers.each(function(g){if(0==g.data.length){var m=g.getDataItem(d);g.processDataItem(m,d)}}),100==++r&&(r=0,Date.now()-n>u.parsingStepDuration&&s<u.data.length-10))return u._parseDataFrom=s+1,t&&(s/u.data.length>.5&&!t.visible||(t.progress=s/u.data.length)),u.dataValidationProgress=s/u.data.length,s=u.data.length,u.invalidateData(),{value:void 0}},u=this;s<o;s++){var c=h();if("object"==typeof c)return c.value}t&&(t.progress=1),this.dataUsers.each(function(d){(d.hidden||d.appeared&&!d.visible&&d.stacked)&&d.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},i.prototype.validateDataItems=function(){$(C.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(i.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),i.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},i.prototype.getDataSource=function(e){var t=this;return x(this._dataSources[e])||(this._dataSources[e]=new ff,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",function(r){return t.dataSourceDateFields(r)}),this._dataSources[e].adapter.add("numberFields",function(r){return t.dataSourceNumberFields(r)}),this.events.on("inited",function(){t.loadData(e)},this,!1)),this._dataSources[e]},Object.defineProperty(i.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var t=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",function(){t.loadData("data")},this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),i.prototype.loadData=function(e){this._dataSources[e].load()},i.prototype.dataSourceDateFields=function(e){return e},i.prototype.dataSourceNumberFields=function(e){return e},i.prototype.populateDataSourceFields=function(e,t,r){return j(r,function(n){t[n]&&-1===_t(e,t[n])&&e.push(t[n])}),e},i.prototype.setDataSourceEvents=function(e,t){var r=this;e.events.on("started",function(n){var s=r.preloader;s&&(s.progress=0)},void 0,!1),e.events.on("loadstarted",function(n){var s=r.preloader;s&&(s.progress=.25)},void 0,!1),e.events.on("loadended",function(n){var s=r.preloader;s&&(s.progress=.5)},void 0,!1),e.events.on("parseended",function(n){var s=r.preloader;s&&(s.progress=.75)},void 0,!1),e.events.on("ended",function(n){var s=r.preloader;s&&(s.progress=1)},void 0,!1),e.events.on("error",function(n){var s=r.preloader;s&&(s.progress=1),r.openModal(n.message)},void 0,!1),t&&e.events.on("done",function(n){var s=r.preloader;s&&(s.progress=1),"data"==t&&!Ee(n.data)&&(n.data=[n.data]),e.incremental&&"data"==t&&r.data.length?r.addData(n.data,e.keepCount?n.data.length:0):e.updateCurrentData&&"data"==t&&r.data.length?(j(r.data,function(o,h){x(n.data[h])&&q(o,function(u,c){x(n.data[h][u])&&(o[u]=n.data[h][u])})}),r.invalidateRawData()):r[t]=n.data})},Object.defineProperty(i.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new gf,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),i.prototype.zoom=function(e,t,r,n){var s=this;void 0===t&&(t=!1),void 0===r&&(r=!1);var o=e.start,h=e.end,u=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),"end"==u&&1==h&&0!=o&&o<this.start&&(u="start"),"start"==u&&0==o&&h>this.end&&(u="end"),y(n)||(n=this.maxZoomDeclination),!y(o)||!y(h))return{start:this.start,end:this.end};if(this._finalStart!=o||this._finalEnd!=h){var c=this.maxZoomFactor/this.minZoomCount,d=this.maxZoomFactor/this.maxZoomCount;if("start"==u?(this.maxZoomCount>0&&1/(h-o)<d&&(h=o+1/d),1/(h-o)>c&&(h=o+1/c),h>1&&h-o<1/c&&(o=h-1/c)):(this.maxZoomCount>0&&1/(h-o)<d&&(o=h-1/d),1/(h-o)>c&&(o<=0?h=o+1/c:o=h-1/c),o<0&&h-o<1/c&&(h=o+1/c)),o<-n&&(o=-n),1/(h-o)>c&&(h=o+1/c),h>1+n&&(h=1+n),1/(h-o)>c&&(o=h-1/c),this._finalEnd=h,this._finalStart=o,this.skipRangeEvent=t,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!r){var p=this.rangeChangeAnimation;if(p&&p.progress<1){var f=p.animationOptions;if(f.length>1){if(f[0].to==o&&f[1].to==h)return{start:o,end:h};p.isDisposed()||p.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),p=this.animate([{property:"start",to:o},{property:"end",to:h}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=p,p&&!p.isFinished()?p.events.on("animationended",function(){s.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=o,this.end=h,this.dispatch("rangechangeended")}return{start:o,end:h}},i.prototype.zoomToIndexes=function(e,t,r,n){y(e)&&y(t)&&this.zoom({start:e/this.dataItems.length,end:t/this.dataItems.length},r,n)},Object.defineProperty(i.prototype,"zoomFactor",{get:function(){return B(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(1==e&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startIndex",{get:function(){return y(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=B(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),i.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(i.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!y(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=B(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var t=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(t,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),i.prototype.removeFromInvalids=function(){a.prototype.removeFromInvalids.call(this),C.removeFromInvalidComponents(this),$(C.invalidDataItems,this),$(C.invalidDataRange,this),$(C.invalidRawDatas,this)},Object.defineProperty(i.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new be),this._dataSets},enumerable:!0,configurable:!0}),i.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){if(this.dataSets.getKey(e))return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0;if(""!=this._currentDataSetId)return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0}return!1},Object.defineProperty(i.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),i.prototype._updateDataItemIndexes=function(e){for(var t=this.mainDataSet.values,r=t.length,n=e;n<r;++n)t[n]._index=n},i.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},i.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},i.prototype.bindDataField=function(e,t){this.dataFields[e]=t,this.invalidateDataRange()},i.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},i.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(i.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new he,this._disposers.push(new pe(function(){I(e._dataUsers.iterator(),function(t){t.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),i.prototype.clone=function(){var e=a.prototype.clone.call(this);return e.dataFields=Gt(this.dataFields,{}),e},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},i.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},i.prototype.getExporting=function(){var e=a.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(t){e.handleDataUpdated()})),e},i.prototype._exportData=function(e){return e.data=this.data,e},i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return t&&this.invalidateData(),t},i.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(!e||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),a.prototype.setShowOnInit.call(this,e)},i.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,C.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),a.prototype.setBaseId.call(this,e)},Object.defineProperty(i.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),i.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},i.prototype.asFunction=function(e){return"interpolationEasing"==e||"rangeChangeEasing"==e||a.prototype.asIs.call(this,e)},i}(U);C.registeredClasses.Component=yi;var st=function(a){function i(){var e=a.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=(new ce).getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.afterDraw=function(){a.prototype.afterDraw.call(this),this.validatePosition()},i.prototype.setPaper=function(e){var t=a.prototype.setPaper.call(this,e);return t&&this.hardInvalidate(),t},i.prototype.handleValidate=function(){(this.currentText||this.text)&&(0==this.bbox.width||0==this.bbox.height)&&C.events.once("exitframe",this.hardInvalidate,this)},i.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},i.prototype.arrange=function(){},i.prototype.updateCurrentText=function(){var e,t;ga(this.html)&&this.paper.supportsForeignObject()?(e="html",t=this.html):(e="svg",t=this.text),_e(t)&&(t=t.toString()),x(t)&&""!==t&&(t=this.populateString(t,this.dataItem)),"html"==e?this._adapterO&&(t=this._adapterO.apply("htmlOutput",t)):this._adapterO&&(t=this._adapterO.apply("textOutput",t));var r=t!=this.currentText||e!=this._currentFormat;return this.currentText=t,this._currentFormat=e,r},i.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},i.prototype.getLineBBox=function(e){var t=e&&e.element,r=t&&t.node;r&&r.parentNode&&(e.bbox=t.getBBox())},i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.bbox.width,t=this.bbox.height,r=this.topParent;if(!r||r.maxWidth&&r.maxHeight){var n=Q(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),s=Q(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=s+","+n+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=o){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var h=this._currentFormat,u=this.currentText;if(!x(u)||""==u)return void this.element.attr({display:"none"});var c=u.split("\n");this._prevStatus=o,this.textAlign=this.textAlign;var d=this.group.getAttr("display");if("none"==d&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===h){this.element.removeAttr("display");var p=this.element;this.resetBBox();for(var f=0,g="",m=0;m<c.length;m++){var v=c[m];if(""!=v){var S=Xt().chunk(v,null,this.ignoreFormatting),D=0,T=!0,A=!1,O=this.getLineInfo(m);O?(O.text="",O.element.textContent=""):(O={text:"",element:this.getSVGLineElement("",0),complex:!1},p.add(O.element)),O.element.removeAttr("display"),O.element.removeChildren(),this.textPathElement&&O.element.add(this.textPathElement);for(var k=0;k<S.length;k++){k&&(O.complex=!0);var X=S[k];if("format"===X.type)g=X.text;else{if(A)continue;if(O.text=X.text,O.style=Xt().translateStyleShortcuts(g),this.getSvgElement(O.text,O.style,this.textPathElement?this.textPathElement:O.element),this.getLineBBox(O),O.bbox.width=Math.ceil(O.bbox.width),D<O.bbox.height&&(D=O.bbox.height),(this.wrap||this.truncate)&&O.bbox.width>n){this.isOversized=!0;var Z=O.element.textContent,Y=O.bbox.width/Z.length,fe=se(Math.ceil((O.bbox.width-n)/Y),Z.length);if(this.truncate){var Le=!1,Je=O.element.node;if(Je&&Je.childNodes)for(var z=O.element.node.childNodes.length-1;z>=0;z--){var Ve=O.element.node.childNodes[z];if(Le&&O.bbox.width<=n&&(Ve.textContent+=" "+this.ellipsis,O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),O.bbox.width<=n))break;Le=!1;var je=Ve.textContent;for(Z=O.element.textContent,fe=se(Math.ceil((O.bbox.width-n)/Y),Z.length);O.bbox.width>n&&fe<=Z.length&&fe>0;)(Re=Q(Z.length-fe-this.ellipsis.length,1))<=1&&(fe=0,z>0&&(Le=!0,O.element.node.removeChild(Ve))),(je=rs(je,Re,this.ellipsis,this.fullWords,this.rtl)).length>Re&&this.fullWords&&(je=rs(je,Re,this.ellipsis,!1,this.rtl)),Ve.textContent=je,O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),fe=Math.ceil(1.1*fe);A=!0}}else if(O.element.node){for(var Ne=O.element.node.lastChild,W=void 0;O.bbox.width>n&&fe<=Z.length&&fe>0;){var Re=Q(X.text.length-fe,1);if(T?W=is(X.text,Re,!0,this.rtl):((W=is(X.text,Re,!0,this.rtl,!1))[0].length>Re||1===Re)&&(O.element.node.removeChild(Ne),fe=0),fe>0){var me=W.shift();T&&(me=sl(me)),Ne.textContent=Xt().cleanUp(me)}O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),fe++}if(W.length>0){var Ae="";x(W)&&(Ae+=this.rtl?W.join("")+g:g+W.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var St=k+1;St<S.length;St++)Ae+="value"==S[St].type?S[St].text.replace(/([\[\]]{1})/g,"$1$1"):S[St].text;c.splice(m+1,0,Ae)}A=!0}}this.bbox.width<O.bbox.width&&(this.bbox.width=O.bbox.width),this.bbox.height=f+D,O.element.attr(this.textPathElement?{dy:-this.paddingBottom.toString()}:{x:"0",y:f+D,dy:F(this.baseLineRatio*D,3).toString()}),T=!1}}var bt=O.element.node;bt&&(Ne=bt.lastChild)&&(Ne.textContent=this.rtl?Wd(Ne.textContent):Ud(Ne.textContent)),f+=D,this.addLineInfo(O,m)}else{var b=this.getSVGLineElement("",0);b.add(this.getSvgElement(".",Xt().translateStyleShortcuts(g))),p.add(b);var _=Math.ceil(b.getBBox().height);_>0&&(f+=_),p.removeElement(b);var P=this.getLineInfo(m);P&&(P.text="",P.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,(0==this.bbox.width||0==this.bbox.height)&&(this.measureFailed=!0),this._measuredWidth=F(Q(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=F(Q(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(t!=this._measuredHeight||e!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(c.length)}else{this.element.removeAttr("display"),this.resetBBox(),(p=this.element).removeChildren(),this.setCache("lineInfo",[],0);var ot=this.paper.foreignObject();p.add(ot),this.maxWidth&&ot.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&ot.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var ct=this.getHTMLLineElement(u);ot.node.appendChild(ct),ct.style.display="inline-block";var Bt=ct.clientWidth,kt=ct.clientHeight;ct.style.display="block",this._bbox={x:0,y:0,width:Bt,height:kt},ot.attr({width:Bt+1,height:kt}),this.maybeHideOversized(),this._measuredWidth=Q(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Q(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(ct.style.overflow="hidden"),(Bt>n||kt>s)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==d&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}}else r.events.once("maxsizechanged",this.hardInvalidate,this,!1)},i.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},i.prototype.alignSVGText=function(){var e=this.element,t=e.node.children||e.node.childNodes;if(t&&(!t||0!=t.length)){var r=this._measuredWidth,n=this._measuredHeight;this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.setAttribute("text-anchor",this.textAlign),this.textPathElement)o.removeAttribute("x"),o.removeAttribute("y");else{switch(this.textAlign){case"middle":o.setAttribute("x",(r/2).toString()+"px");break;case"end":this.rtl||o.setAttribute("x",r.toString());break;default:this.rtl?o.setAttribute("x",r.toString()):o.removeAttribute("text-anchor")}var h=ve(o.getAttribute("y"));switch(this.textValign){case"middle":o.setAttribute("y",((h||0)+(n-this.bbox.height)/2).toString());break;case"bottom":o.setAttribute("y",((h||0)+n-this.bbox.height).toString());break;default:o.setAttribute("y",(h||0).toString())}}}}},i.prototype.getSVGLineElement=function(e,t){var r=this.paper.addGroup("text");return r.textContent=e,r.attr({x:"0"}),x(t)&&r.attr({y:t.toString()}),(this.truncate||this.wrap)&&r.attr({overflow:"hidden"}),r},Object.defineProperty(i.prototype,"rtl",{get:function(){return x(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=xe(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),i.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},i.prototype.getHTMLLineElement=function(e){var t=document.createElement("div");switch(t.innerHTML=e,this.textAlign){case"middle":t.style.textAlign="center";break;case"end":t.style.textAlign="right"}return this.wrap?t.style.wordWrap="break-word":t.style.whiteSpace="nowrap",this.rtl&&(t.style.direction="rtl"),x(this.fill)&&(t.style.color=this.fill.toString()),t},i.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},i.prototype.hideUnused=function(e){this.initLineCache();var t=this.getCache("lineInfo");if(t.length>=e)for(var r=e;r<t.length;r++){var n=t[r];n&&n.element&&n.element.attr({display:"none"})}},Object.defineProperty(i.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(fs,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:100*e+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){this.setPropertyValue("html",e,!0),x(e)||this.element.removeChildrenByTag("foreignObject")},enumerable:!0,configurable:!0}),i.prototype.setFill=function(e){if(a.prototype.setFill.call(this,e),this.html)for(var r=this.element.node.getElementsByTagName("div"),n=0;n<r.length;n++){var s=r[n];x(this.fill)&&(s.style.color=this.fill.toString())}},Object.defineProperty(i.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),i.prototype.measureElement=function(){},i.prototype.getLineInfo=function(e){this.initLineCache();var t=this.getCache("lineInfo");return t.length>e?t[e]:void 0},i.prototype.addLineInfo=function(e,t){this.initLineCache(),this.getCache("lineInfo")[t]=e},i.prototype.initLineCache=function(){x(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},i.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Pe([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),a.prototype.setDataItem.call(this,e)},Object.defineProperty(i.prototype,"availableWidth",{get:function(){return x(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"availableHeight",{get:function(){return x(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),i.prototype.getSvgElement=function(e,t,r){var n=this.paper.add("tspan");if(n.textContent=e,t)if(ie.nonce&&r){var s="amcharts_element_style_"+btoa(t).replace(/[^\w]*/g,"");n.node.setAttribute("class",s);var o=document.createElementNS(Yi,"defs");r.node.appendChild(o);var h=document.createElement("style");h.type="text/css",h.innerHTML="."+s+" { "+t+"}",h.setAttribute("nonce",ie.nonce),o.appendChild(h)}else n.node.setAttribute("style",t);return r&&r.add(n),n},i.prototype.deepInvalidate=function(){a.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(i.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(ns(ga(this.html)?this.html:this.text)),e},set:function(e){e=$e(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.Label=st,Ke.push({relevant:et.heightXS,state:function(a,i){if(a instanceof st&&a.parent&&a.parent.isBaseSprite){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var jt=function(a){function i(){var e=a.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.innerWidth,t=this.innerHeight;if(y(e)&&y(t)){var r=se(e,t)/2,n=we(this.cornerRadiusTopLeft,r),s=we(this.cornerRadiusTopRight,r),o=we(this.cornerRadiusBottomRight,r),h=we(this.cornerRadiusBottomLeft,r),u=se(Math.abs(e/2),Math.abs(t/2)),c=B(n,0,u),d=B(s,0,u),p=B(o,0,u),f=B(h,0,u);this.path="M"+c+",0 L"+(e-d)+",0 a"+d+","+d+" 0 0 1 "+d+","+d+" L"+e+","+(t-p)+" a"+p+","+p+" 0 0 1 -"+p+","+p+" L"+f+","+t+" a"+f+","+f+" 0 0 1 -"+f+",-"+f+" L0,"+c+" a"+c+","+c+" 0 0 1 "+c+",-"+c+" Z"}},i.prototype.cornerRadius=function(e,t,r,n){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=t,this.cornerRadiusBottomLeft=r,this.cornerRadiusBottomRight=n},Object.defineProperty(i.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),i.prototype.measureElement=function(){},Object.defineProperty(i.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.RoundedRectangle=jt;var ni=function(a){function i(){var e=a.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var t=new ce,r=e.background;r.fill=t.getFor("secondaryButton"),r.stroke=t.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),e.label=new st,e.label.fill=t.getFor("secondaryButtonText"),e.label.shouldClone=!1;var n=r.states.create("hover");n.properties.fillOpacity=1,n.properties.fill=t.getFor("secondaryButtonHover");var s=r.states.create("down");return s.transitionDuration=100,s.properties.fill=t.getFor("secondaryButtonDown"),s.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"icon",{get:function(){return this._icon},set:function(e){var t=this._icon;t&&(t.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&("left"==e?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),i.prototype.createBackground=function(){return new jt},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},i}(U);C.registeredClasses.Button=ni;var bi=function(a){function i(){var e=a.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",R(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return we(this.radius,se(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),i.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:2*e,height:2*e}},i}(ee);C.registeredClasses.Circle=bi;var Ms=function(a){function i(){var e=a.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(i.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=2*e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=2*e,this.invalidate()},enumerable:!0,configurable:!0}),i}(bi);C.registeredClasses.Ellipse=Ms;var mf=function(a){function i(){var e=a.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return(0,w.ZT)(i,a),i.prototype.draw=function(){if(a.prototype.draw.call(this),this.href){var e=this.innerWidth,t=this.innerHeight;y(this.widthRatio)&&(this.width=e=t*this.widthRatio),y(this.heightRatio)&&(this.height=t=e*this.heightRatio),this.element.attr({width:e,height:t}),this.element.attrNS(fs,"xlink:href",this.href)}},Object.defineProperty(i.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Image=mf;var At=function(a){function i(){var e=a.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=G(),e.x1=0,e.y1=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),this.pixelPerfect=this.x1==this.x2||this.y1==this.y2,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(i.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){y(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Pt&&(t=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return y(e)||(e=this.pixelWidth),e},set:function(e){y(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){y(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Pt&&(t=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return y(e)||(e=this.pixelHeight),e},set:function(e){y(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},r={x:this.x2,y:this.y2},n=aa(t,r,e),s=We(t,r);return{x:n.x,y:n.y,angle:s}},i}(ee);C.registeredClasses.Line=At;var yf=function(a){function i(){var e=a.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.cornerRadius,t=this.innerWidth,r=this.innerHeight;if(t>0&&r>0){var Z,Y,n=this.pointerX,s=this.pointerY,o=this.pointerBaseWidth/2,h=se(t/2,r/2),u=B(e,0,h),c=B(e,0,h),d=B(e,0,h),p=B(e,0,h),D=void 0,T=void 0,A=void 0,O=void 0,k=(n-0)*(r-0)-(s-0)*(t-0),X=(n-0)*(0-r)-(s-r)*(t-0);D=k>0&&X>0?"M"+u+",0 L"+((Z=B(n,u+o,t-o-c))-o)+",0 L"+n+","+(s=B(s,-1/0,0))+" L"+(Z+o)+",0 L"+(t-c)+",0":"M"+u+",0 L"+(t-c)+",0",A=k<0&&X<0?" L"+(t-d)+","+r+" L"+((Z=B(n,p+o,t-o-d))+o)+","+r+" L"+n+","+(s=B(s,r,1/0))+" L"+(Z-o)+","+r+" L"+p+","+r:" L"+p+","+r,O=k<0&&X>0?" L0,"+(r-p)+" L0,"+((Y=B(s,u+o,r-p-o))+o)+" L"+(n=B(n,-1/0,0))+","+s+" L0,"+(Y-o)+" L0,"+u:" L0,"+u,T=k>0&&X<0?" L"+t+","+c+" L"+t+","+((Y=B(s,c+o,r-o-d))-o)+" L"+(n=B(n,t,1/0))+","+s+" L"+t+","+(Y+o)+" L"+t+","+(r-d):" L"+t+","+(r-d),this.path=D+" a"+c+","+c+" 0 0 1 "+c+","+c+T+" a"+d+","+d+" 0 0 1 -"+d+","+d+A+" a"+p+","+p+" 0 0 1 -"+p+",-"+p+O+" a"+u+","+u+" 0 0 1 "+u+",-"+u}},Object.defineProperty(i.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),i}(function(a){function i(){var e=a.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),y(this.pointerX)||(this.pointerX=this.pixelWidth/2),y(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(i.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),i}(ee));function Sr(a){var i=M(a[0]),e={x:0,y:0},t=ie.minPolylineStep;y(t)||(t=.5);for(var r=0,n=a.length;r<n;r++){var s=a[r];de(s,e)>t&&(i+=M(s),e=s)}return i}function N(a){return" M"+F(a.x,4)+","+F(a.y,4)+" "}function M(a){return" L"+F(a.x,4)+","+F(a.y,4)+" "}function _i(a,i){return" Q"+F(i.x,4)+","+F(i.y,4)+" "+F(a.x,4)+","+F(a.y,4)}function zi(a,i,e){return" C"+F(i.x,4)+","+F(i.y,4)+" "+F(e.x,4)+","+F(e.y,4)+" "+F(a.x,4)+","+F(a.y,4)}function Ye(a,i,e,t){if(0==i)return"";y(t)||(t=e);var r="",n=",",s=Math.ceil(Math.abs(i)/180),o=1;i<0&&(o=0);var h=0,u=0,c=-L(a)*e,d=-E(a)*t;if(i<.5&&e>3e3)return M({x:f=F(L(p=a+i)*e,4),y:g=F(E(p)*t,4)});for(var m=0;m<s;m++){var p,f,g;r+=" a"+e+n+t+n+0+n+0+n+o+n+(f=F(L(p=a+i/s*(m+1))*e+c-h,4))+n+(g=F(E(p)*t+d-u,4)),h=f,u=g}return r}function Gi(a,i,e,t,r,n,s){if(0==i||(y(t)||(t=0),0==e&&t<=0))return"";if(e<t){var o=e;e=t,t=o,y(r)&&(r=r/t*e)}360==(i=se(i,360))&&(n=0,s=0);var h=a+i,u=E(se(i,45)/2),c=(r=y(r)?r:e)/e*t,d=r/e*(n=n||0),p=r/e*(s=y(s)?s:n);n=B(n,0,(e-t)/2),d=B(d,0,(r-c)/2),s=B(s,0,(e-t)/2),p=B(p,0,(r-c)/2),n=F(B(n,0,e*u),4),d=F(B(d,0,r*u),4),s=F(B(s,0,t*u),4),p=F(B(p,0,c*u),4);var f=Math.asin(n/e/2)*ei*2,g=Math.asin(d/r/2)*ei*2;t<s&&(t=s),c<p&&(c=p);var m=Math.asin(s/t/2)*ei*2,v=Math.asin(p/c/2)*ei*2;y(m)||(m=0),y(v)||(v=0);var b=a+i/2,_={x:F(L(b)*t,4),y:E(b)*c},P={x:L(a)*(t+s),y:E(a)*(c+p)},S={x:L(a)*(e-n),y:E(a)*(r-d)},D={x:L(h)*(e-n),y:E(h)*(r-d)},T={x:L(h)*(t+s),y:E(h)*(c+p)},A={x:L(a+f)*e,y:E(a+g)*r},O={x:L(h-m)*t,y:E(h-v)*c};s+=s*E(m/2),p+=p*E(v/2),m>(h-a)/2&&(O=_);var k="";return 360==i?k=N(S):(k=N(P),k+=M(S),k+=vt(A,n,d,!0)),k+=Ye(a+f,i-2*f,e,r),y(t)&&0!=t?(360==i&&0==n?k+=N(T):(k+=vt(D,n,d,!0),k+=M(T),k+=vt(O,s,p,!0)),k+=Ye(h-m,-(i-2*m),t,c),(i<360||n>0)&&(k+=vt(P,s,p,!0)),k+=M(P)):(k+=vt(D,n,d,!0),i<360&&(k+=M(P))),k}function vt(a,i,e,t,r,n){if(0==i)return"";var s=",";return" A"+i+s+e+s+(n=n||0)+s+ +(r=!!r)+s+ +(t=!!t)+s+F(a.x,4)+s+F(a.y,4)}function Is(a,i,e,t){return y(e)||(e=0),y(t)||(t=0),N({x:e,y:t})+M({x:e+a,y:t})+M({x:e+a,y:t+i})+M({x:e,y:t+i})+" Z"}function si(a,i){var e=",",t=" L";return i?"M"+a.x+e+a.y+t+a.x+e+(a.y+a.height)+t+(a.x+a.width)+e+(a.y+a.height)+t+(a.x+a.width)+e+a.y+t+a.x+e+a.y:"M"+a.x+e+a.y+t+(a.x+a.width)+e+a.y+t+(a.x+a.width)+e+(a.y+a.height)+t+a.x+e+(a.y+a.height)+t+a.x+e+a.y}var Tr=function(a){function i(){var e=a.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=G(),e.strokeOpacity=1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var t="",r=0,n=e.length;r<n;r++){var s=e[r];if(s.length>0){t+=N(s[0]);for(var o=1;o<s.length;o++){var h=s[o];t+=M(h),this._distance+=de(s[o-1],h)}}}this.path=t}this._realSegments=e},Object.defineProperty(i.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e){var t=0;e<0&&(e=Math.abs(e),t=180);var r=this._realSegments;if(r){for(var n=this.distance,s=0,h=0,u=0,c=void 0,d=void 0,p=0;p<r.length;p++){var f=r[p];if(f.length>1){for(var g=1;g<f.length;g++)if(h=s/n,u=(s+=de(c=f[g-1],d=f[g]))/n,h<=e&&u>e){p=r.length;break}}else 1==f.length&&(c=f[0],d=f[0],h=0,u=1)}if(c&&d){var v=aa(c,d,(e-h)/(u-h));return{x:v.x,y:v.y,angle:t+We(c,d)}}}return{x:0,y:0,angle:0}},Object.defineProperty(i.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Polyline=Tr;var bf=function(a){function i(){var e=a.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var t="";this._realSegments=[];for(var r=0,n=e.length;r<n;r++){var s=e[r],o=[];if(this._realSegments.push(o),s.length>0){t+=N(s[0]);for(var h=1;h<s.length;h++){var u=s[h-1],c=s[h],d=de(c,u),p=d*this.controlPointDistance,f=this.controlPointPosition,g=-We(u,c),b={x:u.x+(c.x-u.x)*f*.5-p*E(g),y:u.y+(c.y-u.y)*f*.5-p*L(g)},S={x:u.x+(c.x-u.x)*f*1.5-p*E(g),y:u.y+(c.y-u.y)*f*1.5-p*L(g)};t+=zi(c,b,S);var D=Math.ceil(d),T=u;if(D>0)for(var A=0;A<=D;A++){var O=Ln(u,c,b,S,A/D);o.push(O),this._distance+=de(T,O),T=O}else o.push(u)}}}this.path=t}},Object.defineProperty(i.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),i}(Tr);C.registeredClasses.Polyarc=bf;var _f=function(a){function i(e){var t=a.call(this)||this;return t._bboxes=[],t.morphDuration=800,t.morphEasing=mi,t.morphToSingle=!0,t.scaleRatio=1,t.className="Morpher",t.morphable=e,t.applyTheme(),t}return(0,w.ZT)(i,a),i.prototype.morphToPolygon=function(e,t,r){var n=this.morphable.currentPoints;if(n&&e){this.sortPoints(n),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],x(t)||(t=this.morphDuration),x(r)||(r=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,n),this._morphToPointsReal=this.normalizePoints(n,e),this.morphable.currentPoints=this._morphFromPointsReal;var s=new Tt(this,{property:"morphProgress",from:0,to:1},t,r);return this._disposers.push(s),s.start(),s}},i.prototype.normalizePoints=function(e,t){for(var r=0,n=e.length;r<n;r++){var s=e[r][0],o=e[r][1],h=Ce(or(s)),u=h.x+h.width,c=h.y+h.height;if(t[r]||(t[r]=[]),s&&!t[r][0]&&(t[r][0]=[{x:u,y:c},{x:u,y:c}]),t[r][0]){t[r][0]=this.addPoints(t[r][0],s.length);for(var d=1/0,p=0,f=0;f<t[r][0].length;f++){var g=de(t[r][0][f],s[0]);g<d&&(p=f,d=g)}var m=t[r][0].slice(0,p),v=t[r][0].slice(p);t[r][0]=v.concat(m)}o&&(t[r][1]||(t[r][1]=[{x:u,y:c},{x:u,y:c}]),t[r][1]=this.addPoints(t[r][1],o.length))}return t},i.prototype.sortPoints=function(e){e.sort(function(o,h){var u=Ce(or(o[0])),c=Ce(or(h[0]));return u.width*u.height>c.width*c.height?-1:1});for(var t=[],r=0,n=e.length;r<n;r++){var s=e[r][0];s&&t.push(Ce(or(s)))}return lr(t)},i.prototype.morphToCircle=function(e,t,r){var n=this.morphable.points,s=this.sortPoints(n);this._morphFromPointsReal=[],this._morphToPointsReal=[],x(t)||(t=this.morphDuration),x(r)||(r=this.morphEasing);for(var o=0,h=n.length;o<h;o++){var u=n[o][0],c=n[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var d=u,p=u,f=Ce(or(p));this.morphToSingle&&(f=Ce(s));var g=f.x+f.width/2,m=f.y+f.height/2,v=e;y(v)||(v=Math.min(f.width/2,f.height/2)),d=[];var b=We({x:g,y:m},u[0]),_=100;u.length>_&&(_=u.length);for(var P=360/((_=(p=this.addPoints(u,_)).length)-1),S=0;S<_;S++){var D=P*S+b,T={x:g+v*L(D),y:m+v*E(D)};d[S]=T}if(c&&c.length>0)for(var A=0,O=c.length;A<O;A++)d.push({x:g,y:m});this._morphFromPointsReal[o][0]=p,this._morphToPointsReal[o][0]=d}}this.morphable.currentPoints=this._morphFromPointsReal;var k=new Tt(this,{property:"morphProgress",from:0,to:1},t,r);return this._disposers.push(k),k.start(),k},i.prototype.addPoints=function(e,t){for(var r=Math.round(t/e.length),n=[],s=0,o=e.length;s<o;s++){var u,h=e[s];u=s==e.length-1?e[0]:e[s+1],n.push(h);for(var c=1;c<r;c++){var d=c/r;n.push({x:h.x+(u.x-h.x)*d,y:h.y+(u.y-h.y)*d})}n.length+e.length-s==t&&(r=0)}if(n.length<t&&e.length>0){var f=e[e.length-1];for(c=n.length;c<t;c++)n.push({x:f.x,y:f.y})}return n},i.prototype.morphToRectangle=function(e,t,r,n){var s=this.morphable.points;this.sortPoints(s),this._morphFromPointsReal=[],this._morphToPointsReal=[],x(r)||(r=this.morphDuration),x(n)||(n=this.morphEasing);for(var o=0,h=s.length;o<h;o++){var u=s[o][0],c=s[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var d=u,p=u,f=this._bboxes[o],g=f.x,m=f.y,v=e,b=t;if(y(v)||(v=f.width),y(b)||(b=f.height),d=this.addPoints(d=[{x:g,y:m},{x:g+v,y:m},{x:g+v,y:m+b},{x:g,y:m+b}],u.length),u.length<4)for(var _=u.length;_<4;_++)d.push({x:u[_].x,y:u[_].y});if(c&&c.length>0)for(var P=f.x+f.width/2,S=f.y+f.height/2,D=0,T=c.length;D<T;D++)d.push({x:P,y:S});this._morphFromPointsReal[o][0]=p,this._morphToPointsReal[o][0]=d}}this.morphable.currentPoints=this._morphFromPointsReal;var A=new Tt(this,{property:"morphProgress",from:0,to:1},r,n);return this._disposers.push(A),A.start(),A},Object.defineProperty(i.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var t=[];if(null!=e){var r=this._morphFromPointsReal,n=this._morphToPointsReal;if(null!=r&&null!=n)for(var s=0,o=r.length;s<o;s++){var h=[];t.push(h);var u=r[s][0],c=r[s][1],d=n[s][0],p=n[s][1];if(u&&u.length>0&&d&&d.length>0){for(var f=[],g=0,m=u.length;g<m;g++)f.push({x:(v=u[g]).x+((b=d[g]).x*this.scaleRatio-v.x)*e,y:v.y+(b.y*this.scaleRatio-v.y)*e});h[0]=f}if(c&&c.length>0&&p&&p.length>0){for(var P=[],S=0,D=c.length;S<D;S++){var v,b;P.push({x:(v=c[S]).x+((b=p[S]).x*this.scaleRatio-v.x)*e,y:v.y+(b.y*this.scaleRatio-v.y)*e})}h[1]=P}}}this.morphable.currentPoints=t},enumerable:!0,configurable:!0}),i.prototype.morphBack=function(e,t){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,x(e)||(e=this.morphDuration),x(t)||(t=this.morphEasing);var r=new Tt(this,{property:"morphProgress",from:0,to:1},e,t);return this._disposers.push(r),r.start(),r},Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hi(this._animations))),this._animations},enumerable:!0,configurable:!0}),i}(tt),xf=function(a){function i(){var e=a.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),t=this.path;if(t&&(!e||0==e.length)){for(var n=t.slice(1,t.length-1).split("ZM"),s=0;s<n.length;s++){var o=n[s];if(o.length>0){var h=o.split("M"),u=h[0],c=h[1];if(u&&u.length>0){var d=u.split("L");if(d.length>0){var p=[],f=[p];e.push(f);for(var g=0;g<d.length;g++){var m=d[g].split(",");p.push({x:+m[0],y:+m[1]})}if(c&&c.length>0){var v=c.split("L");if(v.length>0){var b=[];for(f.push(b),g=v.length-1;g>=0;g--)m=v[g].split(","),b.push({x:+m[0],y:+m[1]})}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPoints",{get:function(){return(!this._currentPoints||0==this._currentPoints.length)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),i.prototype.draw=function(){var r,n,s,o,e="",t=this._currentPoints;if(t.length>0){for(var h=0,u=t.length;h<u;h++){var c=t[h][0],d=t[h][1];if(c&&c.length>0){e+=N(p=c[0]);for(var f=0;f<c.length;f++)e+=M(p=c[f]),(!y(n)||n<p.x)&&(n=p.x),(!y(r)||r>p.x)&&(r=p.x),(!y(s)||s>p.y)&&(s=p.y),(!y(o)||o<p.y)&&(o=p.y)}if(d&&d.length>0){var p;e+=N(p=d[0]);for(var g=0,m=d.length;g<m;g++)e+=M(p=d[g])}}e&&(e+=" Z"),this.bbox.x=r,this.bbox.y=s,this.bbox.width=n-r,this.bbox.height=o-s,a.prototype.setPath.call(this,e)}},i.prototype.setPath=function(e){return!!a.prototype.setPath.call(this,e)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},i.prototype.measureElement=function(){},Object.defineProperty(i.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new _f(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Polygon=xf;var Fa=function(a){function i(){var e=a.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.makePath=function(){this._distance=0;var e=this.segments,t=this.tensionX,r=this.tensionY;if(this.allPoints=[],e&&e.length>0){var n="";this._realSegments=[];for(var s=0,o=e.length;s<o;s++){var h=e[s],u=[];if(this._realSegments.push(u),h.length>0){var c=h[0],d=h[h.length-1],p=!1;F(c.x,3)==F(d.x)&&F(c.y)==F(d.y)&&(p=!0),n+=N(h[0]);for(var f=0;f<h.length-1;f++){var g=h[f-1],m=h[f],v=h[f+1],b=h[f+2];0===f?g=h[f]:f==h.length-2&&(b=h[f+1]),b||(b=v),0===f?g=p?h[h.length-2]:h[s]:f==h.length-2&&(b=p?h[1]:h[f+1]);var _=jo(g,m,v,0,t,r),P=No(0,m,v,b,t,r);n+=zi(v,_,P);var S=1.2*Math.ceil(id(m,v,_,P,20)),D=m;if(S>0)for(var T=0;T<=S;T++){var A=Ln(m,v,_,P,T/S);if(A.x!=D.x||A.y!=D.y){u.push(A);var O=F(We(D,A),5);this._distance+=de(D,A),this.allPoints[Math.floor(this._distance)]={x:A.x,y:A.y,angle:O},D=A}}else u.push(g)}}var k=this.allPoints;if(k.length>1)for(var X=0;X<k.length;X++)if(!k[X])if(X>1)k[X]=k[X-1];else for(var Z=1;Z<k.length;Z++)if(k[Z]){k[X]=k[Z];break}}this.path=n}},i.prototype.getClosestPointIndex=function(e){var r,t=this.allPoints,n=1/0;if(t.length>1)for(var s=1;s<t.length;s++){var o=de(e,t[s]);o<n&&(r=s,n=o)}return r},Object.defineProperty(i.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e,t){var r=0,n=this.allPoints,s=n.length;if(y(e)||(e=0),s>1){if(t&&s>3){var o,h,u,c;if(e<0)return e<-.01&&(e=-.01),{x:u=(o=n[0]).x-(o.x-(h=n[1]).x)*s*e,y:c=o.y-(o.y-h.y)*s*e,angle:We(o,h)};if(e>1)return e>1.01&&(e=1.01),{x:u=(o=n[n.length-2]).x+(o.x-(h=n[n.length-3]).x)*s*(e-1),y:c=o.y+(o.y-h.y)*s*(e-1),angle:We(o,{x:u,y:c})};if(1==e){var d=n[n.length-1];return{x:d.x,y:d.y,angle:d.angle}}}else e<0&&(e=Math.abs(e),r=180),e>=1&&(e=.9999999999999);var p;return{x:(p=n[Math.floor(e*s)]).x,y:p.y,angle:p.angle+r}}return 1==s?{x:(p=n[0]).x,y:p.y,angle:p.angle}:{x:0,y:0,angle:0}},i}(Tr);C.registeredClasses.Polyspline=Fa;var xi=function(a){function i(){var e=a.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(ee),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&0==e&&(e=.01),this.slice.path=Gi(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof ri&&this.updateGradient(this.realFill),this.realStroke instanceof ri&&this.updateGradient(this.realStroke)},i.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(i.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?lr([It(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),It(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",di(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){y(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return y(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return y(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return we(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ix",{get:function(){return L(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iy",{get:function(){return E(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),i.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(y(e))return e;var t=.5;e instanceof ae&&(t=e.value);var r=we(this.innerRadius,this.radius);return this.ix*(r+(this.radius-r)*t)},i.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(y(e))return e;var t=.5;e instanceof ae&&(t=e.value);var r=we(this.innerRadius,this.radius);return this.iy*(r+(this.radius-r)*t)+this.slice.dy},i}(U);C.registeredClasses.Slice=xi;var Zl=function(a){function i(){var e=a.call(this)||this;e.className="Preloader",e.width=R(100),e.height=R(100);var t=new ce,r=e.createChild(U);r.shouldClone=!1;var n=r.createChild(xi);n.shouldClone=!1,n.radius=53,n.arc=360,n.fill=t.getFor("fill"),n.fillOpacity=.8,n.innerRadius=42,n.isMeasured=!1,e.backgroundSlice=n;var s=r.createChild(xi);s.shouldClone=!1,s.radius=50,s.innerRadius=45,s.fill=t.getFor("alternativeBackground"),s.fillOpacity=.2,s.isMeasured=!1,e.progressSlice=s;var o=r.createChild(st);return o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=t.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,e.label=o,e.background.opacity=1,e.background.fill=t.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300,e.states.create("hidden").properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(r),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var t=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(100*e)+"%"),e>=1?(this._started&&(this._started=void 0),C.events.once("enterframe",function(){var r=t.hide();r&&!r.isFinished()?r.events.once("animationended",function(){t.__disabled=!0}):t.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.Preloader=Zl;var Fs=function(a){function i(){var e=a.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var t=new ee;t.element=e.paper.add("path");var r=N({x:-2,y:-6});return r+=M({x:-2,y:6}),r+=N({x:2,y:-6}),r+=M({x:2,y:6}),t.path=r,t.pixelPerfect=!0,t.padding(0,4,0,4),t.stroke=(new ce).getFor("alternativeText"),t.strokeOpacity=.7,e.icon=t,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"orientation",{set:function(e){var t=this.icon;t&&(t.rotation="horizontal"==e?0:-90)},enumerable:!0,configurable:!0}),i}(ni);C.registeredClasses.ResizeButton=Fs;var Cf=function(a){function i(){var e=a.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var t=new ce;e.cursorOverStyle=qe.pointer;var r=e.background;r.cornerRadius(20,20,20,20);var n=t.getFor("background");r.fill=n,r.stroke=t.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var s=t.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=n;var h=r.states.getKey("down");h.properties.stroke=s,h.properties.fill=n;var u=new ee;return u.element=e.paper.add("path"),u.stroke=r.stroke,e.icon=u,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){a.prototype.validate.call(this);var e=this.pixelWidth/3,t=this.pixelHeight/3,r=N({x:-e/2,y:-t/2});r+=M({x:e/2,y:t/2}),r+=N({x:e/2,y:-t/2}),r+=M({x:-e/2,y:t/2}),this.icon.path=r,this.invalidateLayout()},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},i}(ni);C.registeredClasses.CloseButton=Cf;var wf=function(a){function i(){var e=a.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var t=new ce,r=new st;r.fillOpacity=.3,r.states.create("active").properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var s=new ni,o=new bi;s.contentValign="none",s.padding(0,0,0,0),o.radius=10,s.icon=o,s.icon.valign="middle",s.label=void 0;var h=R(100);s.background.cornerRadius(h,h,h,h),s.width=3.5*o.radius,s.height=2.1*o.radius,s.marginLeft=8,s.marginRight=8,s.togglable=!0,o.dx=.7*-o.radius,o.fill=t.getFor("primaryButton"),o.states.create("hover").properties.fill=t.getFor("primaryButtonHover");var c=o.states.create("active");c.properties.fill=t.getFor("primaryButtonActive"),c.properties.dx=.7*o.radius,e.switchButton=s,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var d=new st;return d.fillOpacity=.3,d.states.create("active").properties.fillOpacity=1,e.rightLabel=d,e.role="button",e.focusable=!0,d.valign="middle",r.valign="middle",s.valign="middle",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},i}(U);C.registeredClasses.SwitchButton=wf;var Va=function(a){function i(){var e=a.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=mi,e.margin(10,10,10,10);var t=new ce,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=t.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new Fs,e.endGrip=new Fs,e.events.on("transformed",function(){e.updateThumb()},e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(x(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),x(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),x(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),x(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(x(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),x(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),x(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),x(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},i.prototype.validateLayout=function(){this.updateSize(),a.prototype.validateLayout.call(this),this.updateExtremes()},i.prototype.processBackground=function(){a.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},i.prototype.handleBgHit=function(e){this.makeBusy();var t=e.spritePoint;t=ht(t,this.background,this);var r=this.thumb;if("horizontal"==this.orientation){var n=t.x-r.pixelWidth/2;n=B(n,0,this.innerWidth-r.pixelWidth),this._thumbAnimation=r.animate({property:"x",to:n},this.animationDuration,this.animationEasing)}else{var s=t.y-r.pixelHeight/2;s=B(s,0,this.innerHeight-r.pixelHeight),this._thumbAnimation=r.animate({property:"y",to:s},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},i.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},i.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},i.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},i.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},i.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},i.prototype.updateThumb=function(e){if(void 0===e&&(e=!0),this.parent){var d,p,t=this.thumb,r=this.start,n=this.end,s=this.startGrip,o=this.endGrip,h=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,u=h?"To %1":"From %1",c=h?"From %1":"To %1";if("horizontal"==this.orientation){var f=this.innerWidth;t.width=f*(n-r),t.maxX=f-t.pixelWidth,t.x=r*f,s.moveTo({x:t.pixelX,y:0},void 0,void 0,!0),o.moveTo({x:t.pixelX+t.pixelWidth,y:0},void 0,void 0,!0),d=this.adapter.apply("positionValue",{value:Math.round(100*r)+"%",position:r}).value,p=this.adapter.apply("positionValue",{value:Math.round(100*n)+"%",position:n}).value,s.readerTitle=this.language.translate(u,void 0,d),s.readerValueNow=""+Math.round(100*r),s.readerValueText=s.readerTitle,o.readerTitle=this.language.translate(c,void 0,p),o.readerValueNow=""+Math.round(100*n),o.readerValueText=o.readerTitle}else{var g=this.innerHeight;t.height=g*(n-r),t.maxY=g-t.pixelHeight,t.y=(1-n)*g,s.moveTo({x:0,y:t.pixelY+t.pixelHeight},void 0,void 0,!0),o.moveTo({x:0,y:t.pixelY},void 0,void 0,!0),d=this.adapter.apply("positionValue",{value:Math.round(100*(1-r))+"%",position:1-r}).value,p=this.adapter.apply("positionValue",{value:Math.round(100*(1-n))+"%",position:1-n}).value,s.readerTitle=this.language.translate(c,void 0,d),s.readerValueNow=""+Math.round(100*r),s.readerValueText=s.readerTitle,o.readerTitle=this.language.translate(u,void 0,p),o.readerValueNow=""+Math.round(100*n),o.readerValueText=o.readerTitle}t.readerTitle=this.language.translate("From %1 to %2",void 0,d,p),t.readerValueNow=""+Math.round(100*r),t.readerValueText=t.readerTitle,this.readerValueNow=""+Math.round(100*r),this.readerValueText=t.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange()}},i.prototype.updateExtremes=function(){var t=0,r=0,n=0,s=0;"horizontal"==this.orientation?(n=this.innerWidth,r=s=this.innerHeight/2):(s=this.innerHeight,t=n=this.innerWidth/2);var o=this.startGrip;o.minX=t,o.maxX=n,o.minY=r,o.maxY=s;var h=this.endGrip;h.minX=t,h.maxX=n,h.minY=r,h.maxY=s;var u=this.thumb;u.minX=t,u.maxX=n,u.minY=r,u.maxY=s},i.prototype.updateSize=function(){var e=this.orientation,t=this.startGrip;t&&(t.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var r=this.thumb;r&&("horizontal"==e?(y(this._pixelWidth)||this.width instanceof ae||(this.width=R(100)),x(this.percentHeight)&&(this.height=this.minHeight),r.height=this.innerHeight,r.verticalCenter="middle",r.horizontalCenter="left"):(y(this._pixelHeight)||this.height instanceof ae||(this.height=R(100)),x(this.percentWidth)&&(this.width=this.minWidth),r.width=this.innerWidth,r.verticalCenter="top",r.horizontalCenter="middle"))},Object.defineProperty(i.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),i.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},i.prototype.fixRange=function(e){(e.start!=F(this._start,2)||e.end!=F(this._end,2))&&(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},i.prototype.getPosition=function(e){return B(F(e,4),0,1)},Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&("horizontal"===e?(this.startGrip.cursorOverStyle=qe.horizontalResize,this.endGrip.cursorOverStyle=qe.horizontalResize):(this.startGrip.cursorOverStyle=qe.verticalResize,this.endGrip.cursorOverStyle=qe.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.updateByOrientation=function(){},Object.defineProperty(i.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),i.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},i.prototype.handleGripDrag=function(e){this.makeBusy(),this._usingGrip=e.target===this._startGrip?"start":"end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(i.prototype,"thumb",{get:function(){if(!this._thumb){var e=new ni;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var t=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=qe.grab,e.cursorDownStyle=qe.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(J().body.events.on("keyup",function(r){Et.isKey(r.event,["space","enter"])&&t.thumb.isFocused&&(r.event.preventDefault(),t.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),i.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,t=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,t=this._prevEnd);var r=this.animate([{property:"__start",to:e},{property:"__end",to:t}],this.animationDuration,this.animationEasing);r&&!r.isFinished()?(r.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=r):this.makeUnbusy()},i.prototype.handleThumbPosition=function(){var e=this.thumb;if("horizontal"==this.orientation){var t=this.innerWidth,r=e.innerWidth,n=e.pixelX;this._start=n/t,this._end=(n+r)/t,this.updateThumb()}else{var s=this.innerHeight,o=e.innerHeight,h=e.pixelY;h+o>s&&(e.y=h=s-o),this._start=1-(h+o)/s,this._end=1-h/s,this.updateThumb()}},i.prototype.createBackground=function(){return new jt},Object.defineProperty(i.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var t=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",function(){t.startGrip.show(),t.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){t.startGrip.hide(),t.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),i.prototype.asFunction=function(e){return"animationEasing"==e||a.prototype.asIs.call(this,e)},i}(U);C.registeredClasses.Scrollbar=Va;var Pf=function(a){function i(){var e=a.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y}),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),i}(Va);C.registeredClasses.Slider=Pf;var Vs=function(a){function i(){var e=a.call(this)||this;e.className="TextLink",e.selectable=!0;var t=new ce;return e.fill=t.getFor("primaryButton").brighten(.3),e.states.create("hover").properties.fill=t.getFor("primaryButtonHover").brighten(.3),e.states.create("down").properties.fill=t.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=qe.pointer,e.applyTheme(),e}return(0,w.ZT)(i,a),i}(st);C.registeredClasses.TextLink=Vs;var Xi=function(a){function i(){var e=a.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new he,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",function(t){e._disposers.push(t.newValue)}),e.width=120,e.height=120,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.appendPrimitives=function(e){I(this.filterPrimitives.iterator(),function(t){e.add(t)})},i.prototype.animate=function(e,t,r){return new Tt(this,e,t,r).start()},Object.defineProperty(i.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;a.prototype.copyFrom.call(this,e),q(e.properties,function(r,n){t[r]=n})},Object.defineProperty(i.prototype,"paper",{get:function(){return this._paper?this._paper:wr()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Hi(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),i.prototype.updateScale=function(){},Object.defineProperty(i.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),i.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},i}(tt),Hl=function(a){function i(){var e=a.call(this)||this;return e.className="DropShadowFilter",e.color=G("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),i.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},i}(Xi);C.registeredClasses.DropShadowFilter=Hl;var Ra=function(a){function i(){var e=a.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var t=e.background;t.interactionsEnabled=!1,t.fillOpacity=.9,t.strokeWidth=1,t.strokeOpacity=1,t.stroke=G("#ffffff"),t.cornerRadius=3,t.pointerLength=6,t.pointerBaseWidth=10;var r=new Hl;r.dy=1,r.dx=1,r.opacity=.5,t.filters.push(r),e.autoTextColor=!0;var n=e.createChild(st);return n.shouldClone=!1,e.label=n,n.padding(7,12,4,12),n.interactionsEnabled=!1,n.horizontalCenter="middle",n.fill=G("#ffffff"),e._disposers.push(n),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=mi,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(i.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var t=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(r){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(r){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),i.prototype.createBackground=function(){return new yf},Object.defineProperty(i.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var u,c,t=this._pointTo.x,r=this._pointTo.y,n=this._boundingRect,s=e.measuredWidth,o=e.measuredHeight,h=this.background.pointerLength;if(this.ignoreBounds&&(n=void 0),n&&this.fixDoc&&s>n.width){us({x:n.x,y:n.y},this.parent);var d=us({x:n.x+n.width,y:n.y+n.height},this.parent),p=document.body.offsetWidth;document,d.x>p/2?n.x=n.width-s:n.width=n.x+s}var f=this.pointerOrientation;"horizontal"==f||"left"==f||"right"==f?(c=-o/2,u="horizontal"==f?n&&t>n.x+n.width/2?-s/2-h:s/2+h:"left"==f?s/2+h:-s/2-h):(n&&(u=B(0,n.x-t+s/2,n.x-t+n.width-s/2)),"vertical"==f?n&&r>n.y+o+h?(c=-o-h,this._verticalOrientation="up"):(c=h,this._verticalOrientation="down"):"down"==f?(c=-o-h,this._verticalOrientation="up"):(c=h,this._verticalOrientation="down")),n&&(c=B(c,n.y-r,n.y+n.height-o-r)),e.x=u,e.y=c,this.drawBackground()},i.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},i.prototype.drawBackground=function(){var e=this.label,t=this.background,r=e.measuredWidth,s=this._boundingRect,o=r,u=e.measuredHeight,c=e.pixelY,f=s.x-this._pointTo.x,g=f+s.width,m=s.y-this._pointTo.y,v=m+s.height;t.x=e.pixelX-r/2,t.y=c,t.width=o,t.height=u,this.fitPointerToBounds?(t.pointerX=B(-t.x,f-t.x,g-t.x),t.pointerY=B(-t.y,m-t.y,v-t.y)):(t.pointerX=-t.x,t.pointerY=-t.y),t.validate()},i.prototype.delayedPointTo=function(e,t){var r=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=C.events.once("exitframe",function(){r.pointTo(e,t)}),this.addDisposer(this._pointToDisposer)},i.prototype.pointTo=function(e,t){(this._pointTo.x!=e.x||this._pointTo.y!=e.y)&&(this._pointTo=e,this.invalidate(),!this.visible||t?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Tt(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},i.prototype.setBounds=function(e){var t=this._boundingRect;(t.x!=e.x||t.y!=e.y||t.width!=e.width||t.height!=e.height)&&(this._boundingRect=e,this.invalidate())},Object.defineProperty(i.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),i.prototype.updateBounds=function(){var e=this._boundingContainer,t=hs({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(t)},Object.defineProperty(i.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},i.prototype.asFunction=function(e){return"animationEasing"==e||a.prototype.asIs.call(this,e)},i}(U);C.registeredClasses.Tooltip=Ra;var Yl=function(a){function i(){var e=a.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=R(100),e.bottomSide=R(100),e.leftSide=R(100),e.rightSide=R(100),e.isMeasured=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.pixelWidth,t=this.pixelHeight,r=we(this.topSide,e),n=we(this.bottomSide,e),s=we(this.leftSide,t),o=we(this.rightSide,t),h=(e-r)/2,u=(t-s)/2,c=e-(e-r)/2,d=(t-o)/2,p=e-(e-n)/2,f=t-(t-o)/2,g=(e-n)/2,m=t-(t-s)/2,v="",b="",_="",P="";if(x(this.horizontalNeck)){var S=this.horizontalNeck.value;v=M({x:e*S,y:Math.max(u,d)}),_=M({x:e*S,y:Math.min(f,m)})}if(x(this.verticalNeck)){var D=this.verticalNeck.value;b=M({x:Math.min(c,p),y:t*D}),P=M({x:Math.max(h,g),y:t*D})}var T=N({x:h,y:u})+v+M({x:c,y:d})+b+M({x:p,y:f})+_+M({x:g,y:m})+P;this.path=T},Object.defineProperty(i.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Trapezoid=Yl;var Rs=function(a){function i(){var e=a.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var r,e=this.pixelWidth,t=this.pixelHeight;switch(this.direction){case"right":r=N({x:0,y:0})+M({x:e,y:t/2})+M({x:0,y:t})+" Z";break;case"left":r=N({x:e,y:0})+M({x:0,y:t/2})+M({x:e,y:t})+" Z";break;case"bottom":r=N({x:0,y:0})+M({x:e,y:0})+M({x:e/2,y:t})+" Z";break;case"top":r=N({x:e/2,y:0})+M({x:e,y:t})+M({x:0,y:t})+" Z"}this.path=r},Object.defineProperty(i.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Triangle=Rs;var oi=function(){function a(i,e){this._tensionX=i,this._tensionY=e}return a.prototype.smooth=function(i){for(var e=i.length-1;e>0;e--){var t=i[e],r=i[e-1];Math.abs(t.x-r.x)<.1&&Math.abs(t.y-r.y)<.1&&i.splice(e-1,1)}var n=this._tensionX,s=this._tensionY;if(i.length<3||n>=1&&s>=1)return Sr(i);var o=i[0],h=i[i.length-1],u=!1;F(o.x,3)==F(h.x)&&F(o.y)==F(h.y)&&(u=!0);for(var c="",d=(e=0,i.length-1);e<d;e++){t=i[e-1];var p=i[e+1],f=i[e+2];0===e?t=u?i[i.length-2]:i[e]:e==i.length-2&&(f=u?i[1]:i[e+1]),c+=zi(p,jo(t,r=i[e],p,0,n,s),No(0,r,p,f,n,s))}return c},a}();function Ar(a,i,e,t,r,n){var s=a.x,o=a.y,h=i.x,u=i.y,c=de(a,i);n&&(e=c/Math.round(c/e));var d=C.getCache(nl(["wavedLine",a.x,i.x,a.y,i.y,e,t]));if(!d){if(c>0){var p=Math.atan2(u-o,h-s),f=Math.cos(p),g=Math.sin(p),m=e*f,v=e*g;if(e<=1||t<=1)d=M(i);else{var b=Math.round(2*c/e),_=[],P=1;h<s&&(P*=-1),u<o&&(P*=-1);for(var S=0;S<=b;S++)_.push({x:s+S*m/2+(P*=-1)*t/2*g,y:o+S*v/2-P*t/2*f});d=new oi(r,r).smooth(_)}}else d="";C.setCache(nl(["wavedLine",a.x,i.x,a.y,i.y,e,t]),d)}return d}var Ul=function(){function a(i,e){this._reversed=i,this._closed=e.closed}return a.prototype._curve=function(i,e,t,r,n,s){var o=(e-i)/3;return this._reversed?zi({x:r,y:e},{x:t+o*n,y:i+o},{x:r-o*s,y:e-o}):zi({x:e,y:r},{x:i+o,y:t+o*n},{x:e-o,y:r-o*s})},a.prototype.smooth=function(i){var e=this,t=NaN,r=NaN,n=NaN,s=NaN,o=NaN,h=0,u="";switch(j(i,function(c){var d=c.x,p=c.y;if(e._reversed){var f=d;d=p,p=f}var g=NaN;if(d!==r||p!==s){switch(h){case 0:h=1,u+=M(e._reversed?{x:p,y:d}:{x:d,y:p});break;case 1:h=2;break;case 2:h=3,u+=e._curve(t,r,n,s,zl(t,r,n,s,g=Gl(t,r,n,s,d,p)),g);break;default:u+=e._curve(t,r,n,s,o,g=Gl(t,r,n,s,d,p))}t=r,r=d,n=s,s=p,o=g}}),h){case 2:u+=M(this._reversed?{x:s,y:r}:{x:r,y:s});break;case 3:u+=this._curve(t,r,n,s,o,zl(t,r,n,s,o))}return this._closed&&(u+=" Z"),u},a}();function Wl(a){return a<0?-1:1}function zl(a,i,e,t,r){var n=i-a;return n?(3*(t-e)/n-r)/2:r}function Gl(a,i,e,t,r,n){var s=i-a,o=r-i,h=(t-e)/(s||o<0&&-0),u=(n-t)/(o||s<0&&-0),c=(h*o+u*s)/(s+o);return(Wl(h)+Wl(u))*Math.min(Math.abs(h),Math.abs(u),.5*Math.abs(c))||0}var Xl=function(a){function i(e){return a.call(this,!1,e)||this}return(0,w.ZT)(i,a),i}(Ul),ql=function(a){function i(e){return a.call(this,!0,e)||this}return(0,w.ZT)(i,a),i}(Ul),Ea=function(a){function i(){var e=a.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){var e="",t=this.pixelRadius;t>0&&(e=N((r=this.getPoints(t))[0])+new oi(this.tension,this.tension).smooth(r));var r,n=this.pixelInnerRadius;n>0&&((r=this.getPoints(n)).reverse(),e+=N(r[0])+new oi(this.tension,this.tension).smooth(r)),this.path=e},i.prototype.getPoints=function(e){for(var t=e*Math.PI*2,r=this.waveHeight/2,n=t/Math.round(t/this.waveLength),s=n/2,o=[],h=t/n,u=0;u<=h;u++){var c=u*n/t*360,d=(u*n+s)/t*360;o.push({x:(e-r)*L(c),y:(e-r)*E(c)}),o.push({x:(e+r)*L(d),y:(e+r)*E(d)})}return o.pop(),o},Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return we(this.innerRadius,se(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),i}(bi);C.registeredClasses.WavedCircle=Ea;var Ci=function(a){function i(){var e=a.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=G(),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2};this.path=N(e)+Ar(e,t,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(i.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),i}(At),Kl=function(a){function i(){var e=a.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.pixelWidth,t=this.pixelHeight;if(e>0&&t>0){var r={x:0,y:0},n={x:e,y:0},s={x:e,y:t},o={x:0,y:t},h=Math.min(e,this.waveLength),u=Math.min(t,this.waveHeight),c=Math.min(t,this.waveLength),d=Math.min(e,this.waveHeight),p="",f="",g="",m="";this.wavedTop&&(p=Ar(r,n,h,u,this.tension,!0)),this.wavedRight&&(f=Ar(n,s,c,d,this.tension,!0)),this.wavedBottom&&(g=Ar(s,o,h,u,this.tension,!0)),this.wavedLeft&&(m=Ar(o,r,c,d,this.tension,!0)),this.path=N(r)+p+M(n)+f+M(s)+g+M(o)+m+"z"}},Object.defineProperty(i.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.setWavedSides=function(e,t,r,n){this.wavedTop=e,this.wavedRight=t,this.wavedBottom=r,this.wavedLeft=n},Object.defineProperty(i.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),i}(Ma),$l=function(a){function i(){var e=a.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var t=new ce,r=e.background;r.cornerRadius(20,20,20,20),r.fill=t.getFor("primaryButton"),r.stroke=t.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=t.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=t.getFor("primaryButtonActive");var n=new ee;n.element=e.paper.add("path");var s=N({x:0,y:0});return s+=M({x:11,y:0}),n.path=s,n.pixelPerfect=!0,n.padding(8,3,8,3),n.stroke=t.getFor("primaryButtonText"),e.icon=n,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},i}(ni);C.registeredClasses.ZoomOutButton=$l;var Df=function(a){function i(){var e=a.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var t=new ce,r=e.background;r.cornerRadius(25,25,25,25),r.fill=t.getFor("primaryButton"),r.stroke=t.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=t.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=t.getFor("primaryButtonActive");var n=new Rs;n.direction="right",n.width=9,n.height=11,n.marginLeft=1,n.marginRight=1,n.horizontalCenter="middle",n.verticalCenter="middle",n.stroke=t.getFor("primaryButtonText"),n.fill=n.stroke,e.icon=n;var s=new jt;s.width=11,s.height=11,s.horizontalCenter="middle",s.verticalCenter="middle",s.cornerRadius(0,0,0,0),s.stroke=t.getFor("primaryButtonText"),s.fill=n.stroke,e.togglable=!0;var o=e.states.create("active");return o.transitionDuration=0,o.properties.icon=s,e.defaultState.transitionDuration=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},i}(ni);C.registeredClasses.PlayButton=Df;var Jl=function(a){function i(){var e=a.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.modify=function(e){return e},i}(tt);C.registeredClasses.ColorModifier=Jl;var Es=function(a){function i(){var e=a.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),i.prototype.modify=function(e){this.gradient.clear();var t=0;this.opacities&&(t=Q(t,this.opacities.length)),this.lightnesses&&(t=Q(t,this.lightnesses.length)),this.brightnesses&&(t=Q(t,this.brightnesses.length));for(var n,s,r=1,o=0;o<t;o++){var h=e;this.opacities&&y(this.opacities[o])&&(r=this.opacities[o]),this.lightnesses&&y(this.lightnesses[o])&&(n=this.lightnesses[o],s=void 0),this.brightnesses&&y(this.brightnesses[o])&&(s=this.brightnesses[o],n=void 0),y(s)?h=e.brighten(this.brightnesses[o]):y(n)&&(h=e.lighten(this.lightnesses[o])),this.gradient.addColor(h,r,this.offsets[o])}return this.gradient},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},i}(Jl);C.registeredClasses.GradientModifier=Es;var La=function(a){function i(){var e=a.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new Pt,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},i}(Es);C.registeredClasses.LinearGradientModifier=La;var Sf=function(a){function i(){var e=a.call(this)||this;return e.className="Cone",e.angle=30,e.radius=R(100),e.topRadius=R(100),e.top=e.createChild(Ms),e.top.shouldClone=!1,e.bottom=e.createChild(Ms),e.bottom.shouldClone=!1,e.body=e.createChild(ee),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new La,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),Fe(this,this.top,Me),Fe(this,this.bottom,Me),Fe(this,this.body,Me);var o,h,u,e=this.innerWidth,t=this.innerHeight,r=this.bottom,n=this.top,s=this.angle;"horizontal"==this.orientation?(o=t/2,r.y=t/2,r.x=0,n.y=t/2,n.x=e,h=(90-s)/90,u=0,this.bodyFillModifier.gradient.rotation=90):(h=0,u=(90-s)/90,o=e/2,r.y=t,r.x=e/2,n.x=e/2,this.bodyFillModifier.gradient.rotation=0);var p,c=this.radius.value*o,d=this.topRadius.value*o;r.radius=c-c*h,r.radiusY=c-c*u,n.radius=d-d*h,n.radiusY=d-d*u,p="horizontal"==this.orientation?N({x:0,y:t/2-r.radiusY})+Ye(-90,-180,r.radius,r.radiusY)+M({x:e,y:t/2+n.radiusY})+Ye(90,180,n.radius,n.radiusY)+" Z":N({x:e/2-n.radius,y:0})+Ye(180,-180,n.radius,n.radiusY)+M({x:e/2+r.radius,y:t})+Ye(0,180,r.radius,r.radiusY)+" Z",this.body.path=p},Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),i}(U),Ls=function(a){function i(){var e=a.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var t=e+1;this.feColorMatrix.attr({values:t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),i}(Xi);C.registeredClasses.LightenFilter=Ls;var Tf=function(a){function i(){var e=a.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var t=e.createChild(ee);t.shouldClone=!1,t.setElement(e.paper.add("path")),t.isMeasured=!1,e.sideBack=t,e._disposers.push(e.sideBack);var r=e.createChild(ee);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideBottom=r,e._disposers.push(e.sideBottom);var n=e.createChild(ee);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.isMeasured=!1,e.sideLeft=n,e._disposers.push(e.sideLeft);var s=e.createChild(ee);s.shouldClone=!1,s.setElement(e.paper.add("path")),s.isMeasured=!1,e.sideRight=s,e._disposers.push(e.sideRight);var o=e.createChild(ee);o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideTop=o,e._disposers.push(e.sideTop);var h=e.createChild(ee);return h.shouldClone=!1,h.setElement(e.paper.add("path")),h.isMeasured=!1,e.sideFront=h,e._disposers.push(e.sideFront),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.innerWidth,t=this.innerHeight,r=this.depth,n=this.angle,s=E(n),o=L(n),h={x:0,y:0},u={x:e,y:0},c={x:e,y:t},d={x:0,y:t},p={x:r*o,y:-r*s},f={x:r*o+e,y:-r*s},g={x:r*o+e,y:-r*s+t},m={x:r*o,y:-r*s+t};this.sideFront.path=N(h)+M(u)+M(c)+M(d)+" Z",this.sideBack.path=N(p)+M(f)+M(g)+M(m)+" Z",this.sideLeft.path=N(h)+M(p)+M(m)+M(d)+" Z",this.sideRight.path=N(u)+M(f)+M(g)+M(c)+" Z",this.sideBottom.path=N(d)+M(m)+M(g)+M(c)+" Z",this.sideTop.path=N(h)+M(p)+M(f)+M(u)+" Z"},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setFill=function(e){var t;if(a.prototype.setFill.call(this,e),(!_e(e)||"r"in e)&&(e=Ct(e)),e instanceof ue)t=e.hex;else if(e instanceof Pt||e instanceof ri)t=e.stops.getIndex(0).color.hex;else{var r=new Ls;r.lightness=-.2,this.sideBack.filters.push(r);var n=r.clone();n.lightness=-.4,this.sideLeft.filters.push(n);var s=r.clone();s.lightness=-.2,this.sideRight.filters.push(s);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var h=r.clone();h.lightness=-.5,this.sideBottom.filters.push(h)}t&&(this.sideBack.fill=G(t).lighten(-.2),this.sideLeft.fill=G(t).lighten(-.4),this.sideRight.fill=G(t).lighten(-.2),this.sideTop.fill=G(t).lighten(-.1),this.sideBottom.fill=G(t).lighten(-.5))},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},i}(U),Af=function(a){function i(){var e=a.call(this)||this;e.className="Slice3D",e.layout="none";var t=e.createChild(ee);e.edge=t,t.shouldClone=!1,t.isMeasured=!1,t.toBack(),e.angle=30,e.depth=20;var r=e.createChild(ee);e.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var n=e.createChild(ee);return e.sideB=n,n.shouldClone=!1,n.isMeasured=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.setFill=function(e){var t;if(a.prototype.setFill.call(this,e),e instanceof ue)t=e.hex;else if(e instanceof Pt||e instanceof ri)t=e.stops.getIndex(0).color.hex;else{var r=new Ls;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(t){var n=G(t).lighten(-.25);this.edge.fill=n,this.sideA.fill=n,this.sideB.fill=n,this.edge.stroke=n,this.sideA.stroke=n,this.sideB.stroke=n}},i.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,a.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,t=this.arc,r=this.pixelInnerRadius||0,n=this.radiusY||0,s=this.radius,o=e+t,h=n/s*r,u={x:L(e)*r,y:E(e)*h},c={x:L(e)*s,y:E(e)*n},d={x:L(o)*s,y:E(o)*n},p={x:L(o)*r,y:E(o)*h},f=this.depth,g={x:u.x,y:u.y-f},m={x:c.x,y:c.y-f},v={x:d.x,y:d.y-f},b={x:p.x,y:p.y-f},_="",P=Math.ceil(t/5),S=t/P,D=e,T=m,A=0;A<P;A++)if((D+=S)>0&&D<180){_+=N(T);var O={x:L(D)*s,y:E(D)*n-f};_+=M({x:T.x,y:T.y+f}),_+=vt({x:O.x,y:O.y+f},s,n,!0),_+=M(O),_+=vt(T,s,n),_+="z",T=O}else _+=N(T),_+=vt(O={x:L(D)*s,y:E(D)*n-f},s,n,!0),_+=M({x:O.x,y:O.y+f}),_+=vt({x:T.x,y:T.y+f},s,n),_+=M(T),_+="z",T=O;for(T=g,D=e,A=0;A<P;A++)(D+=S)>0&&D<180?(_+=N(T),O={x:L(D)*r,y:E(D)*h-f},_+=M({x:T.x,y:T.y+f}),_+=vt({x:O.x,y:O.y+f},r,h,!0),_+=M(O),_+=vt(T,r,h),_+="z",T=O):(_+=N(T),_+=vt(O={x:L(D)*r,y:E(D)*h-f},r,h,!0),_+=M({x:O.x,y:O.y+f}),_+=vt({x:T.x,y:T.y+f},r,h),_+=M(T),_+="z",T=O);this.edge.path=_,this.sideA.path=N(u)+M(c)+M(m)+M(g)+" Z",this.sideB.path=N(d)+M(p)+M(b)+M(v)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-f}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return y(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return y(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},i}(xi),Of=function(a){function i(){var e=a.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new ri,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},i}(Es);C.registeredClasses.RadialGradientModifier=Of;var Ql=function(a){function i(){var e=a.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){if(a.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,t=this.height,r="";if(this.gap)for(var n=this.gap+this.strokeWidth,s=this.height/n,o=-s/2;o<1.5*s;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=N({x:-e,y:(o+.5)*n})+M({x:2*e,y:(o+.5)*n}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=N({x:-e,y:o*n})+M({x:2*e,y:o*n});else Math.round(this.rotation/90)!=this.rotation/90?(r=N({x:-e,y:t/2})+M({x:2*e,y:t/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=N({x:0,y:0})+M({x:e,y:0});this._line.attr({d:r})}},Object.defineProperty(i.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),i}(Wi);C.registeredClasses.LinePattern=Ql;var eh=function(a){function i(){var e=a.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(i.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),i}(Wi);C.registeredClasses.CirclePattern=eh;var th=function(a){function i(){var e=a.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(i.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),i}(Wi);C.registeredClasses.RectPattern=th;var kf=function(a){function i(){var e=a.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyFilter=function(){var r,n,s,e=this.intensity,t=1-e,o=this.color;o&&o.rgb?(r=o.rgb.r/255*e,n=o.rgb.g/255*e,s=o.rgb.b/255*e):(r=0,n=0,s=0),this.feColorMatrix.attr({values:t+" 0 0 0 "+r+" 0 "+t+" 0 0 "+n+" 0 0 "+t+" 0 "+s+" 0 0 0 1 0"})},Object.defineProperty(i.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),i}(Xi);C.registeredClasses.ColorizeFilter=kf;var ja=function(a){function i(){var e=a.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),i}(Xi);C.registeredClasses.DesaturateFilter=ja;var Mf=function(a){function i(){var e=a.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),i}(Xi);C.registeredClasses.BlurFilter=Mf;var If=function(a){function i(){var e=a.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":(new ce).getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),i.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),a.prototype.setSprite.call(this,e)},i}(Xi),Or=function(a){function i(){var e=a.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new ue({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),i.prototype.getReusableColor=function(e){if(0==this._list.length)return this.generate(1),this.list[0];var t=e-Math.floor(e/this._list.length)*this.list.length;return this.list[t]},i.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(Q(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},i.prototype.getIndex=function(e){var t;return this.list.length<=e?this.reuse?t=this.getReusableColor(e):(this.generate(this.minColors),t=this.getIndex(e)):t=this.list[e],t.saturate(this.saturation)},i.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(i.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),i.prototype.generate=function(e){var r=da(Ce(this.currentColor.rgb)),n=x(this.stepOptions.hue)?this.stepOptions.hue:1/e,s={brighten:0,lighten:0,hue:r.h,lightness:r.l,saturation:r.s},o=[],h=0==this.list.length?0:1;if(this.reuse)for(var u=h;u<=e;u++)o.push(da(Ce(this._list[u].rgb)).h);else for(u=h;u<=e;u++){var c=r.h+n*u;this.wrap&&c>1&&(c-=1),o.push(c)}for(this.shuffle&&o.sort(function(g,m){return Math.random()-.5}),u=0;u<e;u++){this.reuse?r=da(Ce(this._list[u].rgb)):r.h=o.shift(),this.applyStepOptions(r,s,u,this._currentPass);var d=G(il(r)),p=(this.stepOptions.brighten||0)*u+(this.passOptions.brighten||0)*this._currentPass;0!=p&&(p=this.wrap?ls(p,this.minLightness,this.maxLightness):os(p,this.minLightness,this.maxLightness),d=d.brighten(p));var f=(this.stepOptions.lighten||0)*u+(this.passOptions.lighten||0)*this._currentPass;0!=f&&(f=this.wrap?ls(f,this.minLightness,this.maxLightness):os(f,this.minLightness,this.maxLightness),d=d.lighten(f)),this._list.push(d)}this._currentPass++},Object.defineProperty(i.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),i.prototype.applyStepOptions=function(e,t,r,n){e.l=t.lightness+(this.stepOptions.lightness||0)*r+(this.passOptions.lightness||0)*n,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=ls(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=os(e.l,this.minLightness,this.maxLightness))},i.prototype.processConfig=function(e){if(e){if(x(e.list)&&Ee(e.list))for(var t=0,r=e.list.length;t<r;t++)e.list[t]instanceof ue||(e.list[t]=G(e.list[t]));x(e.baseColor)&&!(e.baseColor instanceof ue)&&(e.baseColor=G(e.baseColor))}a.prototype.processConfig.call(this,e)},i}(tt);C.registeredClasses.ColorSet=Or;var Ff=function(a){function i(){var e=a.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new ue({r:103,g:183,b:220}),e.className="PatternSet";var t=new ce;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=t.getFor("stroke"),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.getLinePattern=function(e,t,r,n,s){var o=new Ql;return o.width=e,o.height=e,o.stroke=this.baseColor,o.gap=n,o.strokeDasharray=s,o.strokeWidth=r,o.rotation=t,o},i.prototype.getRectPattern=function(e,t,r,n){var s=new th;return s.width=e,s.height=e,s.rectWidth=r,s.rectHeight=r,n?(s.stroke=this.baseColor,s.strokeWidth=1,s.fillOpacity=0):(s.fill=this.baseColor,s.strokeWidth=0),0!=t&&(s.shapeRendering="auto"),s.rotation=t,s},i.prototype.getCirclePattern=function(e,t,r){var n=new eh;return n.width=e,n.height=e,n.shapeRendering="auto",n.radius=t,r?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),n},Object.defineProperty(i.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),i.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},i.prototype.getIndex=function(e){for(;this.list.length<=e;)this.generatePatterns();return this.list[e].clone()},i.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var t=0;t<e;t++)this.list.push(this.list[t].clone())},i.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(i.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){a.prototype.processConfig.call(this,e)},i}(tt);C.registeredClasses.PatternSet=Ff,function(){function a(){this._disposed=!1,this._disposers=[]}a.prototype.init=function(){},a.prototype.isDisposed=function(){return this._disposed},a.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var i=this._disposers;for(this._disposers=null;0!==i.length;)i.shift().dispose()}}}();var Vf=function(a){function i(){var e=a.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=66,e.height=21,e.background.opacity=0;var r=G("#474758");"#ffffff"==(new ce).getFor("background").alternative.hex&&(r=G("#ffffff"));var n=new Pt;n.addColor(r),n.addColor(r,1,.75),n.addColor(G("#3cabff"),1,.755),n.rotation=-10;var s=n,o=e.createChild(Fa);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],o.strokeWidth=6*.3,o.tensionX=.8,o.tensionY=1,o.stroke=G("#3cabff");var h=e.createChild(Fa);h.shouldClone=!1,h.isMeasured=!1,h.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*.3},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],h.strokeWidth=6*.3,h.tensionX=.75,h.tensionY=1,h.stroke=s,e._disposers.push(h);var u=new ja;e.filters.push(u);var c=new ja;c.saturation=1;var d=e.states.create("hover");return d.properties.opacity=1,d.filters.push(c),e.applyTheme(),e}return(0,w.ZT)(i,a),i}(U);function js(a){-1==C.queue.indexOf(a)&&(a.__disabled=!0,a.tooltipContainer.__disabled=!0,a.events.disableType("appeared"),0==C.queue.length&&(C.events.once("exitframe",function(){rh(a)}),re.requestFrame()),a.addDisposer(new pe(function(){Na(a)})),C.queue.push(a))}function Na(a){var i=C.queue.indexOf(a);if(i>=0){C.queue.splice(C.queue.indexOf(a),1);var e=C.queue[i];e&&rh(e)}}function qi(a){a.__disabled&&_s(a.htmlContainer,ie.viewportTarget)&&(a.vpDisposer&&a.vpDisposer.dispose(),js(a))}function rh(a){a&&a.tooltipContainer&&(a.__disabled=!1,a.tooltipContainer.__disabled=!1,a.events.enableType("appeared"),a.dispatch("removedfromqueue"),a.showOnInit&&a.events.on("appeared",function(){Na(a)}),a.vpDisposer&&a.vpDisposer.dispose(),a instanceof U&&a.invalidateLabels(),a.tooltipContainer&&a.tooltipContainer.invalidateLayout(),a instanceof yi?(a.invalidateData(),a.reinit(),a.events.once("datavalidated",function(){a.showOnInit?a.appear():Na(a)})):(a.reinit(),a.events.once("inited",function(){Na(a)}),a.showOnInit&&a.appear()))}function Ba(a,i){var e;ne(i)&&(x(C.registeredClasses[i])?i=C.registeredClasses[i]:(i=C.registeredClasses.Container,e=new Error("Class ["+i+"] is not loaded.")));var t=function ih(a,i){var e=wl(a),t=!1;if(e||((e=document.createElement("div")).style.width="200px",e.style.height="200px",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),t=!0),e){e.innerHTML="";var r=new Ml(e),n=new Il(r.SVGContainer,"svg-"+(Ps.length-1)),s=new U;s.htmlContainer=e,s.svgContainer=r,s.width=R(100),s.height=R(100),s.background.fillOpacity=0,s.paper=n,n.append(s.group),t&&function Lp(a){if("loading"!==document.readyState)a();else{var i=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",i),a())};document.addEventListener("readystatechange",i)}}(function(){s.moveHtmlContainer(a)}),s.relativeWidth=1,s.relativeHeight=1,r.container=s;var o=s.createChild(i);o.topParent=s;var h=o.uid;C.invalidSprites[h]=[],C.invalidDatas[h]=[],C.invalidPositions[h]=[],C.invalidLayouts[h]=[],s.baseId=h,o.isBaseSprite=!0,o.focusFilter=new If,C.baseSprites.push(o),C.baseSpritesByUid[h]=o,o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)},s.events.on("maxsizechanged",function(P){(0==P.previousWidth||0==P.previousHeight)&&s.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)})});var u=null,c=function(){o.isDisposed()?u=null:null==Sl(o.dom)?(ie.autoDispose?(s.htmlContainer=void 0,r.htmlElement=void 0,o.dispose()):ws("Chart was not disposed",o.uid),u=null):u=window.setTimeout(c,1e3)};c(),o.addDisposer(new pe(function(){null!==u&&clearTimeout(u),$(C.baseSprites,o),C.baseSpritesByUid[o.uid]=void 0})),o.addDisposer(s);var d=s.createChild(U);d.topParent=s,d.width=R(100),d.height=R(100),d.isMeasured=!1,s.tooltipContainer=d,o.tooltip=new Ra,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:d.maxWidth,height:d.maxHeight}),d.events.on("maxsizechanged",function(){Ce(o.tooltip).setBounds({x:0,y:0,width:d.maxWidth,height:d.maxHeight})},void 0,!1);var p=new Zl;if(p.events.on("inited",function(){p.__disabled=!0},void 0,!1),s.preloader=p,o instanceof U&&!o.hasLicense()){var f=d.createChild(Vf);d.events.on("maxsizechanged",function(P){d.maxWidth<=100||d.maxHeight<=50?f.hide():(f.isHidden||f.isHiding)&&f.show()},void 0,!1),o.logo=f,f.align="left",f.valign="bottom"}if(s.isStandaloneInstance=!0,ie.onlyShowOnViewport)if(_s(e,ie.viewportTarget))ie.queue&&js(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var g=[De(window,"DOMContentLoaded",function(){qi(o)}),De(window,"load",function(){qi(o)}),De(window,"resize",function(){qi(o)}),De(window,"scroll",function(){qi(o)})];if(ie.viewportTarget)for(var m=Ee(ie.viewportTarget)?ie.viewportTarget:ie.viewportTarget?[ie.viewportTarget]:[],v=0;v<m.length;v++){var b=m[v];g.push(De(b,"resize",function(){qi(o)})),g.push(De(b,"scroll",function(){qi(o)}))}var _=new Pe(g);o.addDisposer(_),o.vpDisposer=_}else ie.queue&&js(o);return o}throw re.log("html container not found"),new Error("html container not found")}(a,i);return e&&t.raiseCriticalError(e),t}function ah(a){-1===C.themes.indexOf(a)&&C.themes.push(a)}var nh=function(a){function i(){var e=a.call(this)||this;e.className="Grip";var t=new ce;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var r=new ee;r.element=e.paper.add("path");var n=N({x:-6,y:0});return n+=M({x:6,y:0}),n+=N({x:-8,y:-6}),n+=M({x:0,y:-12}),n+=M({x:8,y:-6}),n+=N({x:-8,y:6}),n+=M({x:0,y:12}),n+=M({x:8,y:6}),r.path=n,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=t.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",e.icon=r,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(s){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(s){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(s){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=R(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=R(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=R(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=R(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=R(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),i}(ni);C.registeredClasses.Grip=nh;var sh=function(a){function i(){var e=a.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(vi),wi=function(a){function i(){var e=a.call(this)||this;if(e._legend=new He,e.constructor===i)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var t=new st;e.titles=new Oe(t),e._disposers.push(new ye(e.titles)),e._disposers.push(t),e.width=R(100),e.height=R(100),e.layout="vertical";var r=e.createChild(U);r.shouldClone=!1,r.layout="vertical",r.width=R(100),r.height=R(100),e.chartAndLegendContainer=r;var n=r.createChild(U);return n.shouldClone=!1,n.width=R(100),n.height=R(100),e.chartContainer=n,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(s){e.processTitle(s),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(s){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},i.prototype.draw=function(){this.fixLayout(),a.prototype.draw.call(this)},i.prototype.fixLayout=function(){var e=this.legend;if(e){var t=this.chartAndLegendContainer,r=this.chartContainer;switch(r.x=void 0,r.y=void 0,"absolute"!=e.position&&(e.x=void 0,e.y=void 0),e.position){case"left":t.layout="horizontal",e.toBack();break;case"right":t.layout="horizontal",e.toFront();break;case"top":t.layout="vertical",e.toBack();break;case"bottom":t.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1}}},i.prototype.feedLegend=function(){},i.prototype.processTitle=function(e){var t=e.newValue;return t.parent=this,t.toBack(),t.shouldClone=!1,t.align="center",t.uidAttr(),t},i.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];I(this.titles.iterator(),function(t){e.push(t.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(i.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),i.prototype.setLegend=function(e){var t=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(r){"position"==r.property&&t.fixLayout()},void 0,!1)),e.addDisposer(new pe(function(){t.legend=void 0}))):this._legend.reset(),this.feedLegend())},i.prototype.dispose=function(){this.legend&&this.legend.dispose(),a.prototype.dispose.call(this)},i.prototype.processConfig=function(e){e&&x(e.legend)&&!x(e.legend.type)&&(e.legend.type="Legend"),a.prototype.processConfig.call(this,e)},i.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),a.prototype.copyFrom.call(this,e)},Object.defineProperty(i.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var t=this.tooltipContainer.createChild(nh);t.align="right",t.valign="middle",t.hide(0),t.events.on("down",function(r){r.touch&&(e.interactionsEnabled=!1)}),t.events.on("up",function(r){e.interactionsEnabled=!0}),this.events.on("down",function(r){r.touch&&t.show()}),this._dragGrip=t}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),i}(yi);C.registeredClasses.Chart=wi,Ke.push({relevant:et.widthXS,state:function(a,i){if(a instanceof wi){var e=a.states.create(i);return a.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),a.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}}),Ke.push({relevant:et.heightXS,state:function(a,i){if(a instanceof wi){var e=a.states.create(i);return a.pixelPaddingTop>10&&(e.properties.paddingTop=10),a.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}}),Ke.push({relevant:et.widthXXS,state:function(a,i){if(a instanceof wi){var e=a.states.create(i);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}}),Ke.push({relevant:et.heightXXS,state:function(a,i){if(a instanceof wi){var e=a.states.create(i);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var Nt=function(a){function i(){var e=a.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.Bullet=Nt,Ke.push({relevant:et.isXS,state:function(a,i){if(a instanceof Nt){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var Rf=function(a){function i(){var e=a.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new pe(function(){x(e.component)&&e.component.labels.removeValue(t)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var t=this.component.valueLabels.create();this._valueLabel=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new pe(function(){x(e.component)&&e.component.valueLabels.removeValue(t)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var t=this.component,r=t.itemContainers.create();r.parent=t,this._itemContainer=r,this.addSprite(r),this._disposers.push(r),r.togglable&&r.events.on("toggled",function(o){t.toggleDataItem(o.target.dataItem)},void 0,!1),r.focusable&&(r.events.on("hit",function(o){t.focusedItem=void 0},void 0,!1),r.events.on("focus",function(o){t.focusedItem=o.target.dataItem},void 0,!1),r.events.on("blur",function(o){t.focusedItem=void 0},void 0,!1)),this._disposers.push(new pe(function(){x(e.component)&&e.component.itemContainers.removeValue(r)})),this.dataContext.uidAttr&&(r.readerControls=this.dataContext.uidAttr(),r.readerLabelledBy=this.dataContext.uidAttr());var n=this.dataContext;if((n instanceof vi||n instanceof ee)&&!n.isDisposed()){var s=function(o){r.readerChecked=o.visible,r.events.disableType("toggled"),r.isActive=!o.visible,r.events.enableType("toggled")};n.addDisposer(new pe(function(){e.component&&e.component.dataItems.remove(e)})),n instanceof ee?(r.addDisposer(n.events.on("visibilitychanged",s,void 0,!1)),r.addDisposer(n.events.on("hidden",function(o){r.readerChecked=!1,r.events.disableType("toggled"),r.isActive=!0,r.events.enableType("toggled")},void 0,!1)),r.addDisposer(n.events.on("shown",function(o){r.readerChecked=!0,r.events.disableType("toggled"),r.isActive=!1,r.events.enableType("toggled")},void 0,!1))):r.addDisposer(n.events.on("visibilitychanged",s,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"marker",{get:function(){var e=this;if(!this._marker){var t=this.component.markers.create();this._marker=t,t.parent=this.itemContainer,this.addSprite(t),this._disposers.push(t),this._disposers.push(new pe(function(){x(e.component)&&e.component.markers.removeValue(t)}))}return this._marker},enumerable:!0,configurable:!0}),i}(vi),oh=function a(){this.createMarker=!0},Za=function(a){function i(){var e=a.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var t=new U;t.applyOnClones=!0,t.padding(8,0,8,0),t.margin(0,10,0,10),t.layout="horizontal",t.clickable=!0,t.focusable=!0,t.role="switch",t.togglable=!0,t.cursorOverStyle=qe.pointer,t.background.fillOpacity=0,e.itemContainers=new Oe(t),e._disposers.push(new ye(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(J().body.events.on("keyup",function(c){if(Et.isKey(c.event,"enter")&&e.focusedItem){var d=e.focusedItem,p=d.itemContainer;p.togglable?e.toggleDataItem(d):p.clickable&&p.events.isEnabled("hit")&&(p.dispatchImmediately("hit",{event:c}),e.focusedItem=d)}},e));var r=new ce,n=new U;n.width=23,n.height=23,n.interactionsEnabled=!1,n.applyOnClones=!0,n.setStateOnChildren=!0,n.background.fillOpacity=0,n.background.strokeOpacity=0,n.propertyFields.fill="fill",n.valign="middle";var s=r.getFor("disabledBackground");n.events.on("childadded",function(c){var p=c.newValue.states.create("active");p.properties.stroke=s,p.properties.fill=s}),e.markers=new Oe(n),e._disposers.push(new ye(e.markers)),e._disposers.push(e.markers.template);var o=n.createChild(jt);o.width=R(100),o.height=R(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var h=new st;h.text="{name}",h.margin(0,5,0,5),h.valign="middle",h.applyOnClones=!0,h.states.create("active").properties.fill=r.getFor("disabledBackground"),e.labels=new Oe(h),e._disposers.push(new ye(e.labels)),e._disposers.push(e.labels.template),h.interactionsEnabled=!1,h.truncate=!0,h.fullWords=!1;var u=new st;return u.margin(0,5,0,0),u.valign="middle",u.width=50,u.align="right",u.textAlign="end",u.applyOnClones=!0,u.states.create("active").properties.fill=r.getFor("disabledBackground"),u.interactionsEnabled=!1,e.valueLabels=new Oe(u),e._disposers.push(new ye(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",t.states.create("active"),t.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.events.on("parentset",function(){var c=e.parent;c&&e._disposers.push(c.events.on("maxsizechanged",function(){e.scrollable&&e.setTimeout(function(){e.updateMasks(),e.handleScrollbar(),e._handleWheelReal(1)},100)}))}),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},i.prototype.createDataItem=function(){return new Rf},i.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),a.prototype.validateDataElements.call(this)},i.prototype.validateDataElement=function(e){a.prototype.validateDataElement.call(this,e);var t=e.itemContainer,r=e.marker,n=e.valueLabel;t.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var s=e.label.maxWidth;e.label.width instanceof ae||(e.label.width=void 0),s>0&&(e.label.maxWidth=s),"right"==n.align&&(n.width=void 0);var o=e.dataContext.legendSettings,h=e.dataContext;!h.createLegendMarker||this.useDefaultMarker&&h instanceof ee?this.markers.template.propertyFields.fill=void 0:e.childrenCreated||(h.createLegendMarker(r),e.childrenCreated=!0),h.updateLegendValue&&h.updateLegendValue(),h.component&&h.component.updateLegendValue&&h.component.updateLegendValue(h),n.invalid&&n.validate(),n.__disabled=""==n.text||null==n.text,o&&(null!=o.itemValueText||null!=o.valueText)&&(n.__disabled=!1);var u=e.dataContext.visible;void 0===u&&(u=!0),u=xe(u),e.dataContext.visible=u,t.events.disableType("toggled"),t.isActive=!u,t.setState(t.isActive?"active":"default",0),t.events.enableType("toggled")},i.prototype.afterDraw=function(){var e=this,t=this.getPropertyValue("maxWidth"),r=0;this.labels.each(function(d){d.invalid&&(d.maxWidth=void 0,d.validate()),d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight>r&&(r=d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight)});var n=0;this.valueLabels.each(function(d){d.invalid&&d.validate(),d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight>n&&(n=d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight)});var s=0;this.markers.each(function(d){d.invalid&&d.validate(),d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight>s&&(s=d.measuredWidth+d.pixelMarginLeft+d.pixelMarginRight)});var u,o=this.itemContainers.template,h=o.pixelMarginRight+o.pixelMarginLeft,c=r+n+s;y(t)?((t-=h)>c&&(t=c),u=t-s-n):u=r,this.labels.each(function(d){("right"==e.valueLabels.template.align||d.measuredWidth>u)&&(d.width instanceof ae||(d.width=Math.min(d.maxWidth,u-d.pixelMarginLeft-d.pixelMarginRight),d.maxWidth=d.width))}),"right"==this.valueLabels.template.align&&this.valueLabels.each(function(d){d.width=n-d.pixelMarginRight-d.pixelMarginLeft}),a.prototype.afterDraw.call(this)},i.prototype.handleScrollbar=function(){var e=this.scrollbar;if(this.scrollable&&e){var t=this.maxHeight;e.height=t,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>t?(e.visible=!0,e.thumb.height=e.height*t/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight):(e.thumb.height=e.height*t/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight,e.visible=!1,e.start=0,e.end=1),e.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(i.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&("left"==e||"right"==e?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",y(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=R(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var t=this.createChild(Va);this.scrollbar=t,t.isMeasured=!1,t.orientation="vertical",t.endGrip.__disabled=!0,t.startGrip.__disabled=!0,t.visible=!1,t.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(t.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),i.prototype.handleWheel=function(e){this._handleWheelReal(e.shift.y)},i.prototype._handleWheelReal=function(e){var t=this.scrollbar;if(t){var r=e/1e3*this.measuredHeight/this.contentHeight,n=t.end-t.start;e>0?(t.start=Q(0,t.start-r),t.end=t.start+n):(t.end=se(1,t.end-r),t.start=t.end-n)}},i.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(t){t.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.maxHeight,t.maskRectangle={x:0,y:-t.dy,width:e.measuredWidth,height:e.maxHeight}}),this.invalidatePosition()},i.prototype.toggleDataItem=function(e){var t=e.dataContext;!t.visible||t.isHiding||t instanceof ee&&t.isHidden?(e.color=e.colorOrig,t.appeared=!0,e.itemContainer.isActive=!1,!0===t.hidden&&(t.hidden=!1),t.show?t.show():t.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,t.appeared=!0,t.hide?t.hide():t.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=(new ce).getFor("disabledBackground"))},Object.defineProperty(i.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),i.prototype.handleDataItemPropertyChange=function(e,t){e.valueLabel.invalidate(),e.label.invalidate()},i}(yi);C.registeredClasses.Legend=Za,Ke.push({relevant:et.widthXS,state:function(a,i){if(a instanceof Za&&("left"==a.position||"right"==a.position)){var e=a.states.create(i);return e.properties.position="bottom",e}return null}}),Ke.push({relevant:et.heightXS,state:function(a,i){if(a instanceof Za&&("top"==a.position||"bottom"==a.position)){var e=a.states.create(i);return e.properties.position="right",e}return null}}),Ke.push({relevant:et.isXS,state:function(a,i){if(a instanceof Za){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var Ha=function(a){function i(){var e=a.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new be,this._disposers.push(new gi(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.bullets.clear(),a.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),i}(vi),Ya=function(a){function i(){var e=a.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new oh,e._tmin=new be,e._tmax=new be,e._smin=new be,e._smax=new be,e.dataItemsByAxis=new be,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===i)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new he,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(U),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(ee),e._disposers.push(e.mainContainer);var t=e.mainContainer.createChild(U);return e._shouldBeReady.push(t),t.shouldClone=!1,t.layout="none",t.virtualParent=e,e._disposers.push(t),e.bulletsContainer=t,e.tooltip=new Ra,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=bl,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyTheme=function(){a.prototype.applyTheme.call(this),ie.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},i.prototype.createDataItem=function(){return new Ha},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),i.prototype.positionBullet=function(e){},i.prototype.processBullet=function(e){var t=this,r=e.newValue;r.isTemplate=!0,this.events.once("datavalidated",function(n){t.itemsFocusable()&&(r.focusable=!0)}),this.invalidate()},i.prototype.removeBullet=function(e){var t=e.oldValue;this.dataItems.each(function(r){var n=r.bullets.getKey(t.uid);n&&n.dispose()}),this.invalidate()},i.prototype.validateDataItems=function(){a.prototype.validateDataItems.call(this),this.processValues(!1)},i.prototype.getFirstValue=function(e,t){for(var r=t;r>=0;r--){var s=this.dataItems.getIndex(r).getActualWorkingValue(e);if(y(s))return s}return null},i.prototype.getAbsoluteFirstValue=function(e){for(var t=0;t<this.dataItems.length;t++){var n=this.dataItems.getIndex(t).values[e].value;if(y(n))return n}return null},i.prototype.rangeChangeUpdate=function(){a.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},i.prototype.processValues=function(e){var t=this;if(!this.simplifiedProcessing){var r=this.dataItems,n={},s={},o={},h={},u={},c={},d={},p={},f={},g={},m=Q(0,this.startIndex);m=se(m,this.dataItems.length);var v=se(this.endIndex,this.dataItems.length);if(y(m)||(m=0),y(v)||(v=this.dataItems.length),m>0){var b=r.getIndex(m-1);q(b.values,function(A,O){var k=b.getActualWorkingValue(A);y(k)&&(p[A]=k)})}for(var _=function(A){var O=r.getIndex(A);q(O.values,function(k,X){var Z=O.getActualWorkingValue(k);if(y(Z)){y(n[k])||(n[k]=0),n[k]++,y(s[k])||(s[k]=0),s[k]+=Z,y(o[k])||(o[k]=0),o[k]+=Math.abs(Z),y(c[k])||(c[k]=Z),d[k]=Z,y(h[k])?h[k]>Z&&(h[k]=Z):h[k]=Z,y(u[k])?u[k]<Z&&(u[k]=Z):u[k]=Z,y(f[k])||(f[k]=t.getFirstValue(k,m)),y(g[k])||(g[k]=t.getAbsoluteFirstValue(k)),O.setCalculatedValue(k,Z-f[k],"change"),O.setCalculatedValue(k,(Z-f[k])/f[k]*100,"changePercent"),O.setCalculatedValue(k,Z-g[k],"startChange"),O.setCalculatedValue(k,(Z-g[k])/g[k]*100,"startChangePercent");var Y=p[k];y(Y)||(Y=Z),O.setCalculatedValue(k,Z-Y,"previousChange"),O.setCalculatedValue(k,(Z-Y)/Y*100,"previousChangePercent"),p[k]=Z}})},P=m;P<v;P++)_(P);if(this.calculatePercent){var S=function(A){var O=r.getIndex(A);q(O.values,function(k){var X=o[k],Z=O.getActualWorkingValue(k);y(Z)&&(X>0?(t.usePercentHack&&Z==X&&(X=O.values[k].value),O.setCalculatedValue(k,Z/X*100,"percent")):O.setCalculatedValue(k,0,"percent"))})};for(P=m;P<v;P++)S(P)}if(m>0){var D=r.getIndex(m-1);q(D.values,function(A){var O=D.values[A].value;D.setCalculatedValue(A,O-c[A],"change"),D.setCalculatedValue(A,(O-c[A])/c[A]*100,"changePercent")})}var T=this.dataItem;q(T.values,function(A){T.setCalculatedValue(A,s[A],"sum"),T.setCalculatedValue(A,o[A],"absoluteSum"),T.setCalculatedValue(A,s[A]/n[A],"average"),T.setCalculatedValue(A,c[A],"open"),T.setCalculatedValue(A,d[A],"close"),T.setCalculatedValue(A,h[A],"low"),T.setCalculatedValue(A,u[A],"high"),T.setCalculatedValue(A,n[A],"count")})}},i.prototype.validate=function(){_r()&&this.filters.clear(),I(this.axisRanges.iterator(),function(n){n.validate()}),a.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var t=0;t<this.startIndex;t++)(r=this.dataItems.getIndex(t))&&r.bullets.each(function(n,s){s.__disabled=!0});for(t=this.dataItems.length-1;t>this.endIndex;t--){var r;(r=this.dataItems.getIndex(t))&&r.bullets.each(function(o,h){h.__disabled=!0})}}else this.bulletsContainer.children.each(function(n){n.__disabled=!0});this.updateTooltipBounds()},i.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},i.prototype.shouldCreateBullet=function(e,t){return!0},i.prototype.validateDataElement=function(e){var t=this;a.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(r){var n=e.bullets.getKey(r.uid);if(t.shouldCreateBullet(e,r)){if(!n){var s=r.propertyFields.disabled,o=e.dataContext;s&&o&&!1===o[s]?(r.applyOnClones=!1,r.disabled=!1,n=r.clone(),r.disabled=!0,r.applyOnClones=!0):n=r.clone(),n.shouldClone=!1,e.addSprite(n),(!t.visible||t.isHiding)&&n.hide(0)}var h=n.dataItem;if(h!=e){h&&h.bullets.setKey(r.uid,void 0);var u=t.itemReaderText;n instanceof Nt&&(u||(u="{"+n.xField+"}: {"+n.yField+"}"),n.isDynamic&&(e.events.on("workingvaluechanged",n.deepInvalidate,n,!1),t.dataItem.events.on("workingvaluechanged",n.deepInvalidate,n,!1)),n.deepInvalidate()),n.focusable&&(n.events.on("focus",function(c){n.readerTitle=t.populateString(u,n.dataItem)},void 0,!1),n.events.on("blur",function(c){n.readerTitle=""},void 0,!1)),n.hoverable&&(n.events.on("over",function(c){n.readerTitle=t.populateString(u,n.dataItem)},void 0,!1),n.events.on("out",function(c){n.readerTitle=""},void 0,!1))}n.parent=t.bulletsContainer,e.bullets.setKey(r.uid,n),n.maxWidth=e.itemWidth,n.maxHeight=e.itemHeight,n.__disabled=!1,t.positionBullet(n)}else n&&(n.__disabled=!0)})):this.bulletsContainer.visible=!1},i.prototype.handleDataItemWorkingValueChange=function(e,t){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(i.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),i.prototype.createMask=function(){},i.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(U),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var t=e.newValue;t&&(t.contents.parent=this.rangesContainer,t.isRange=!0,t.events.on("valuechanged",this.invalidateDataItems,this,!1))},i.prototype.getAxisField=function(e){},i.prototype.showTooltipAtPosition=function(e,t){},Object.defineProperty(i.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Oe(new Nt),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new ye(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),i.prototype.createLegendMarker=function(e){},Object.defineProperty(i.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var t=this.legendDataItem;t&&(t.component.invalidate(),t.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=ns(this.tooltipText):this.tooltipHTML&&(e=ns(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),i.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(i.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),i.prototype.updateLegendValue=function(e,t){if(this.legendDataItem){var r=this.legendSettings,n=this.legendDataItem,s=n.label,o=n.valueLabel;e&&!e.isDisposed()||t?(o&&(r.itemValueText&&(o.text=r.itemValueText),o.dataItem=e),s&&(r.itemLabelText&&(s.text=r.itemLabelText),s.dataItem=e)):(s&&((r.labelText||null!=r.itemLabelText)&&(s.text=r.labelText),s.dataItem=this.dataItem),o&&((r.valueText||null!=r.itemValueText)&&(o.text=r.valueText),o.dataItem=this.dataItem))}},i.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,a.prototype.copyFrom.call(this,e)},i.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,ie.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),ie.verbose&&console.log(e)},i.prototype.applyFilters=function(){var e=this;a.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),I(this.filters.iterator(),function(t){e.bulletsContainer.filters.push(t.clone())})},Object.defineProperty(i.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new he,this._heatRules.events.on("inserted",function(t){var r=t.newValue,n=r.target;if(n){var s=r.dataField;x(s)||(s="value");var o=e.dataItem,h=r.property,u=ve(r.minValue),c=ve(r.maxValue);!y(u)&&!y(c)&&e.dataItem.events.on("calculatedvaluechanged",function(d){d.property==s&&I(e.dataItems.iterator(),function(p){var f=!1;j(p.sprites,function(g){g.clonedFrom==n&&(g[h]=g[h],f=!0)}),f||j(p.sprites,function(g){g instanceof U&&I(g.children.iterator(),function(m){m.className==n.className?m[h]=m[h]:m instanceof U&&m.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(d){if(d.property==s){var p=d.target,f=!1;j(p.sprites,function(g){g.clonedFrom==n&&(g[h]=g[h],f=!0)}),f||j(p.sprites,function(g){g instanceof U&&I(g.children.iterator(),function(m){m.className==n.className?m[h]=m[h]:m instanceof U&&m.deepInvalidate()})})}}),n.adapter.add(h,function(d,p,f){var g=ve(r.minValue),m=ve(r.maxValue),v=r.min,b=r.max;if(p instanceof ee){var P=p.propertyFields[f];if(P&&p.dataItem){var S=p.dataItem.dataContext;if(S&&x(S[P]))return d}}var D=p.dataItem;if(y(g)||(g=o.values[s].low),y(m)||(m=o.values[s].high),D&&D.values[s]){var A=D.getActualWorkingValue(s);if(x(v)&&x(b)&&y(g)&&y(m)&&y(A)){var O=void 0;if(O=r.logarithmic?(Math.log(A)*Math.LOG10E-Math.log(g)*Math.LOG10E)/(Math.log(m)*Math.LOG10E-Math.log(g)*Math.LOG10E):(A-g)/(m-g),y(A)&&(!y(O)||Math.abs(O)==1/0)&&(O=.5),y(v))return v+(b-v)*O;if(v instanceof ue)return new ue(ua(v.rgb,b.rgb,O))}}return d})}})),this._heatRules},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){var t;if(e){if(x(e.bullets)&&Ee(e.bullets))for(var r=0,n=e.bullets.length;r<n;r++){var s=e.bullets[r];x(s.type)||(s.type="Bullet")}x(e.heatRules)&&Ee(e.heatRules)&&(t=e.heatRules,delete e.heatRules)}if(a.prototype.processConfig.call(this,e),t){for(r=0,n=t.length;r<n;r++){var o=t[r],h=this;if(x(o.target)&&ne(o.target))if(this.map.hasKey(o.target))h=this.map.getKey(o.target);else for(var u=o.target.split("."),c=0;c<u.length;c++)if(h instanceof he){var d=h.getIndex(ve(u[c]));h=d||h[u[c]]}else{var p=u[c].match(/^(.*)\[([0-9]+)\]/);h=p?h[p[1]]instanceof he?h[p[1]].getIndex(ve(p[2])):h[p[1]][ve(p[2])]:h[u[c]]}o.target=h,x(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),x(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}a.prototype.processConfig.call(this,{heatRules:t})}},i.prototype.configOrder=function(e,t){return e==t?0:"heatRules"==e?1:"heatRules"==t?-1:a.prototype.configOrder.call(this,e,t)},i.prototype.setVisibility=function(e){a.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},i}(yi);C.registeredClasses.Series=Ya,C.registeredClasses.SeriesDataItem=Ha;var lh=function(a){function i(){var e=a.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(sh),Bs=function(a){function i(){var e=a.call(this)||this;e._exitDP={},e.className="SerialChart",e.colors=new Or,e._usesData=!1;var t=e.chartContainer.createChild(U);t.shouldClone=!1,t.width=R(100),t.height=R(100),t.isMeasured=!1,t.layout="none",t.zIndex=2,e.seriesContainer=t;var r=e.chartContainer.createChild(U);return r.shouldClone=!1,r.width=R(100),r.height=R(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",e.bulletsContainer=r,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.dispose=function(){a.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(i.prototype,"series",{get:function(){return this._series||(this._series=new Oe(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new ye(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),i.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),this.dataUsers.each(function(u){u.invalidateDataItems()}),this._exitDP[t.uid]&&(this._exitDP[t.uid].dispose(),delete this._exitDP[t.uid]),t.autoDispose?t.dispose():(t.parent=void 0,t.bulletsContainer.parent=void 0);var r=this.legend;if(r){for(var n=this.legend.dataItems,s=n.length-1;s>=0;s--){var o=n.getIndex(s);o&&o.dataContext==t&&r.dataItems.remove(o)}for(s=r.data.length-1;s>=0;s--){var h=r.data[s];h&&h==t&&$(r.data,h)}}},i.prototype.handleSeriesAdded=function(e){var t=this,r=e.newValue;r.isDisposed()||(r.chart=this,r.parent=this.seriesContainer,r.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(r),r.addDisposer(new pe(function(){t.dataUsers.removeValue(r)})),this.handleSeriesAdded2(r),this.handleLegendSeriesAdded(r))},i.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},i.prototype.handleSeriesAdded2=function(e){var t=this;this.dataInvalid||(this._exitDP[e.uid]=C.events.once("exitframe",function(){(!e.data||0==e.data.length)&&(e.data=t.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==t.data&&(e._data=[])}))}),this._disposers.push(this._exitDP[e.uid]))},i.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];I(this.series.iterator(),function(r){r.hiddenInLegend||t.push(r)}),e.dataFields.name="name",e.data=t}},i.prototype.createSeries=function(){return new Ya},Object.defineProperty(i.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},i.prototype.appear=function(){a.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},i}(wi);C.registeredClasses.SerialChart=Bs;var Ua=function(a){function i(){var e=a.call(this)||this;e._axis=new He,e.dataItems=new he,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var t=new ce,r=new Ci;r.fill=t.getFor("background"),r.stroke=G(),r.fillOpacity=.9,r.zIndex=0,e._fillShape=r;var n=new Ci;n.fill=G(),n.stroke=t.getFor("grid"),n.strokeOpacity=.3,n.zIndex=1,e._startLine=n;var s=new Ci;return s.fill=G(),s.stroke=G("#000000"),s.strokeOpacity=.3,s.zIndex=2,e._endLine=s,e._disposers.push(e._axis),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.dispose=function(){a.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(i.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),i.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(i.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var t=e.axisBreaks.template;this.startLine.copyFrom(t.startLine),this.endLine.copyFrom(t.endLine),this.fillShape.copyFrom(t.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),i.prototype.draw=function(){a.prototype.draw.call(this),this.axis&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(i.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.AxisBreak=Ua;var kr=function(a){function i(){var e=a.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var r,t=void 0;if(this.isRange){if((t=e.axisRanges.template.grid).disabled)return;r=t.clone()}else{if((t=e.renderer.grid.template).disabled)return;r=e.renderer.grid.create(),this._disposers.push(new pe(function(){e.renderer.grid.removeValue(r)}))}this.grid=r,r.shouldClone=!1,this._disposers.push(r),r.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&($(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&($(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var r,t=void 0;if(this.isRange){if((t=e.axisRanges.template.tick).disabled)return;r=t.clone()}else{if((t=e.renderer.ticks.template).disabled)return;r=e.renderer.ticks.create(),this._disposers.push(new pe(function(){e.renderer.ticks.removeValue(r)}))}this.tick=r,r.axis=this.component,r.shouldClone=!1,this._disposers.push(r)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&($(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&($(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var r,t=void 0;if(this.isRange){if((t=e.axisRanges.template.label).disabled)return;r=t.clone()}else{if((t=e.renderer.labels.template).disabled)return;r=e.renderer.labels.create(),this._disposers.push(new pe(function(){e.renderer.labels.removeValue(r)}))}this._disposers.push(r),this.label=r,r.shouldClone=!1,r.axis=this.component,r.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&($(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&($(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var r,t=void 0;if(this.isRange){if(t=e.axisRanges.template.axisFill,!this.isTemplate&&t.disabled)return;r=t.clone()}else{if((t=e.renderer.axisFills.template).disabled)return;r=e.renderer.axisFills.create(),this._disposers.push(new pe(function(){e.renderer.axisFills.removeValue(r)}))}this.axisFill=r,r.shouldClone=!1,this._disposers.push(r)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&($(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&($(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contents",{get:function(){if(!this._contents){var e=new U;this.addSprite(e),e.isMeasured=!1,this._contents=e;var t=this.component;if(t){var r=t.renderer.createFill(this.component);r.disabled=!1,r.axis=t,this.addSprite(r),this._mask=r,e.mask=r}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),i.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},i.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},i.prototype.hasProperty=function(e){return"component"==e||a.prototype.hasProperty.call(this,e)},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},i.prototype.setVisibility=function(e,t){a.prototype.setVisibility.call(this,e,t),this._contents&&(this._contents.visible=e)},Object.defineProperty(i.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&($(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),i}(vi),Wa=function(a){function i(){var e=a.call(this)||this;if(e._gridCount=10,e._series=new he,e.autoDispose=!0,e._axisItemCount=0,e.constructor===i)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var t=new ce;e.title=new st,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new Xn(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var r=new Ra;e._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=e;var n=r.background;return n.cornerRadius=0,n.fill=t.getFor("alternativeBackground"),n.stroke=n.fill,n.strokeWidth=1,n.fillOpacity=1,r.label.fill=t.getFor("alternativeText"),e.tooltip=r,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(s){s.hideTooltipWhileZooming&&(s.tooltip.hide(),s.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(s){s.hideTooltipWhileZooming&&(s.tooltip.hide(),s.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.fillRule=function(e,t){y(t)||(t=e.index),t/2==Math.round(t/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},i.prototype.createDataItem=function(){return new kr},i.prototype.invalidateLayout=function(){a.prototype.invalidateLayout.call(this),I(this.series.iterator(),function(e){e.invalidateLayout()})},i.prototype.invalidateSeries=function(){I(this.series.iterator(),function(e){e.invalidate()})},i.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},i.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},i.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),a.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},i.prototype.initRenderer=function(){},i.prototype.appendDataItem=function(e){var t=this.renderer,r=e.tick;r&&(r.parent=r.above?t.bulletsContainer:t.gridContainer),e.label&&(e.label.parent=t);var n=e.axisFill;n&&(n.parent=n.above?t.bulletsContainer:t.gridContainer);var s=e.grid;s&&(s.parent=s.above?t.bulletsContainer:t.gridContainer),e.bullet&&(e.bullet.parent=t.bulletsContainer)},i.prototype.validate=function(){a.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},i.prototype.validateAxisRanges=function(){var e=this;I(this.axisRanges.iterator(),function(t){e.appendDataItem(t),e.validateDataElement(t),t.grid&&t.grid.validate(),t.tick&&t.tick.validate(),t.axisFill&&t.axisFill.validate(),t.label&&t.label.validate()})},i.prototype.validateBreaks=function(){this._axisBreaks&&I(this._axisBreaks.iterator(),function(e){e.invalidate()})},i.prototype.processBreak=function(e){var t=e.newValue;t.parent=this.renderer.breakContainer,t.axis=this},i.prototype.registerSeries=function(e){var t=this;return this.series.moveValue(e),new Pe([new pe(function(){t.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(i.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var t=this.renderer.labels.create();this._disposers.push(t),t.dataItem=this.dataItems.template.clone(),t.text="L",t.parent=this.renderer,t.shouldClone=!1,t.fillOpacity=0,t.opacity=0,t.strokeOpacity=0,t.interactionsEnabled=!1,t.validate(),this.ghostLabel=t,this.events.on("beforedatavalidated",function(){t.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),i.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},i.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},i.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},i.prototype.getAnyRangePath=function(e,t){return this.renderer.getPositionRangePath(e,t)},i.prototype.anyToPosition=function(e){return 0},i.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},i.prototype.getPositionRangePath=function(e,t){return this.renderer?this.renderer.getPositionRangePath(e,t):""},Object.defineProperty(i.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),i.prototype.hideTooltip=function(e){a.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},i.prototype.showTooltipAtPosition=function(e,t){var r=this._tooltip;if(!r||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(t||(e=this.toAxisPosition(e)),!y(e)||e<this.start||e>this.end)return r.hide(0),void(this._tooltipPosition=void 0);var n=this.renderer;r.parent||(r.parent=this.tooltipContainer);var s=n.tooltipLocation,o=this.getCellStartPosition(e),h=this.getCellEndPosition(e);if("fixed"==this.tooltipPosition&&(e=o+(h-o)*s),e=B(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var u=n.tooltipLocation2,c=n.positionToPoint(o,u),d=n.positionToPoint(h,u);this.currentItemStartPoint=c,this.currentItemEndPoint=d,n.fullWidthTooltip&&(r.width=d.x-c.x,r.height=d.y-c.y);var f=wt(n.positionToPoint(e,u),this.renderer.line);r.text=this.getTooltipText(e),r.text&&(r.delayedPointTo(f),r.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&r.hide(0)}},i.prototype.toAxisPosition=function(e){if(null!=(e=this.renderer.toAxisPosition(e)))return e*=this.end-this.start,this.renderer.inversed?this.end-e:this.start+e},i.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e-=this.start,e/(this.end-this.start)},i.prototype.getTooltipText=function(e){},i.prototype.updateTooltip=function(e,t){var r=this._tooltip;r&&(r.fixDoc=!1,r.pointerOrientation=e,r.setBounds(hs(t,this.renderer.line)))},i.prototype.roundPosition=function(e,t,r){return e},i.prototype.getCellStartPosition=function(e){return e},i.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(i.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new Oe(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new ye(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),i.prototype.processAxisRange=function(e){var t=e.newValue;t.component=this,t.isRange=!0},Object.defineProperty(i.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Qo(this.createAxisBreak(),function(e,t){return Vt(e.adjustedStartValue,t.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new ye(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),i.prototype.createAxisBreak=function(){return new Ua},Object.defineProperty(i.prototype,"series",{get:function(){return this._series||(this._series=new he),this._series},enumerable:!0,configurable:!0}),i.prototype.processSeriesDataItems=function(){},i.prototype.processSeriesDataItem=function(e,t){},i.prototype.postProcessSeriesDataItems=function(e){},i.prototype.postProcessSeriesDataItem=function(e){},i.prototype.updateAxisBySeries=function(){},i.prototype.hideUnusedDataItems=function(){var e=this,t=this._dataItemsIterator;t.createNewItems=!1,I(t.iterator(),function(r){e.validateDataElement(r),r.__disabled=!0}),t.clear(),t.createNewItems=!0},i.prototype.getSeriesDataItem=function(e,t,r){},i.prototype.getAngle=function(e,t,r,n,s){},i.prototype.getX=function(e,t,r,n,s){},i.prototype.getPositionX=function(e,t,r,n,s){},i.prototype.getY=function(e,t,r,n,s){},i.prototype.getPositionY=function(e,t,r,n,s){},Object.defineProperty(i.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),i.prototype.dataChangeUpdate=function(){},i.prototype.seriesDataChangeUpdate=function(e){},i.prototype.adjustDifference=function(e,t){var r=t-e;if(y(r))return this._axisBreaks&&ft(this._axisBreaks.iterator(),function(n){var s=n.adjustedStartValue,o=n.adjustedEndValue;if(y(s)&&y(o)){if(s>t)return!1;if(o>=e&&y(s)&&y(o)){var h=n.breakSize,u=function Qc(a,i){var e=Ce(a.start),t=Ce(i.start),r=Ce(a.end),n=Ce(i.end),s=Math.max(e,t),o=Math.min(r,n);if(!(o<s))return{start:s,end:o}}({start:s,end:o},{start:e,end:t});u&&(r-=(u.end-u.start)*(1-h))}return!0}}),r},i.prototype.isInBreak=function(e){if(this._axisBreaks)return function xd(a,i){var e;return a(function(t){return!i(t)||(e=t,!1)}),e}(this._axisBreaks.iterator(),function(t){return e>=t.adjustedStartValue&&e<=t.adjustedEndValue})},i.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var t=this._axisBreaks;if(t.length>0){j(fr(t.iterator()),function(s){var o=se(s.startValue,s.endValue),h=Q(s.startValue,s.endValue);s.adjustedStartValue=o,s.adjustedEndValue=h,e._axisBreaks.update(s)});var r=t.first,n=Math.min(r.startValue,r.endValue);I(t.iterator(),function(s){var o=s.adjustedStartValue,h=s.adjustedEndValue;o<n&&(o=n,h<n&&(h=n)),s.adjustedStartValue=o,s.adjustedEndValue=h})}}},Object.defineProperty(i.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),i.prototype.getPositionLabel=function(e){return Math.round(100*e)+"%x"},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),i.prototype.createSeriesRange=function(e){var t=this.axisRanges.create();return t.component=this,t.axisFill=this.renderer.axisFills.template.clone(),t.axisFill.disabled=!1,t.axisFill.fillOpacity=0,t.grid=this.renderer.grid.template.clone(),t.grid.disabled=!0,t.tick=this.renderer.ticks.template.clone(),t.tick.disabled=!0,t.label=this.renderer.labels.template.clone(),t.label.disabled=!0,t.addDisposer(new pe(function(){e.axisRanges.removeValue(t)})),e.axisRanges.push(t),t},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},i.prototype.resetIterators=function(){this._dataItemsIterator.reset()},i.prototype.processConfig=function(e){if(e&&x(e.axisRanges)&&Ee(e.axisRanges))for(var t=0,r=e.axisRanges.length;t<r;t++){var n=e.axisRanges[t];x(n.series)&&ne(n.series)&&this.map.hasKey(n.series)&&(e.axisRanges[t]=this.createSeriesRange(this.map.getKey(n.series)),delete n.series,e.axisRanges[t].config=n)}a.prototype.processConfig.call(this,e)},i.prototype.configOrder=function(e,t){return e==t?0:"title"==e?1:"title"==t||"component"==e?-1:"component"==t?1:a.prototype.configOrder.call(this,e,t)},Object.defineProperty(i.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),t},Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),i}(yi);C.registeredClasses.Axis=Wa,C.registeredClasses.AxisDataItem=kr,Ke.push({relevant:et.maybeXS,state:function(a,i){if(a instanceof Wa&&a.tooltip){var e=a.states.create(i);return e.properties.cursorTooltipEnabled=!1,e}return null}});var hh=function(a){function i(){var e=a.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var t=new ce;return e.stroke=t.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=G(),e.applyTheme(),e.interactionsEnabled=!1,e}return(0,w.ZT)(i,a),i}(ee);C.registeredClasses.AxisLine=hh;var Zs=function(a){function i(e){var t=a.call(this)||this;t.axis=e,t.element=t.paper.add("path"),t.className="AxisFill",t.isMeasured=!1,t.location=0,t.above=!1;var r=new ce;return t.fill=r.getFor("alternativeBackground"),t.fillOpacity=0,t.applyTheme(),t}return(0,w.ZT)(i,a),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},i.prototype.draw=function(){a.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis&&y(this.startPosition)&&y(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(i.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this.element.attr({d:e}),!0)},Object.defineProperty(i.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.AxisFill=Zs;var Mr=function(a){function i(){var e=a.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var t=new ce;return e.stroke=t.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=G(),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},i}(ee);C.registeredClasses.Grid=Mr,Ke.push({relevant:et.maybeXS,state:function(a,i){if(a instanceof Mr){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var Hs=function(a){function i(){var e=a.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},i}(st);C.registeredClasses.AxisLabel=Hs;var Ir=function(a){function i(){var e=a.call(this)||this;e.className="Tick";var t=new ce;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=t.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),i}(ee);C.registeredClasses.Tick=Ir;var uh=function(a){function i(){var e=a.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},i}(Ir);C.registeredClasses.AxisTick=uh;var za=function(a){function i(){var e=a.call(this)||this;e._chart=new He,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var t=e.createChild(U);t.shouldClone=!1,t.layout="none",t.virtualParent=e,t.width=R(100),t.height=R(100),e.gridContainer=t,t.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var r=e.createChild(U);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=R(100),r.height=R(100),e.breakContainer=r;var n=e.createChild(U);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=R(100),n.height=R(100),e.bulletsContainer=n,e.line=e.createChild(hh),e.line.shouldClone=!1,e.line.strokeOpacity=0;var s=e.createChild(Mr);s.shouldClone=!1,e.baseGrid=s;var o=e._disposers;return o.push(s),o.push(e.line),o.push(t),o.push(r),o.push(n),o.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),i.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},i.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},i.prototype.updateTooltip=function(){},Object.defineProperty(i.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),i.prototype.positionItem=function(e,t){e&&e.moveTo(t)},i.prototype.positionToPoint=function(e,t){return{x:0,y:0}},i.prototype.positionToAngle=function(e){return 0},i.prototype.positionToCoordinate=function(e){var r=this.axis,n=r.axisFullLength;return r.renderer.inversed?(r.end-e)*n:(e-r.start)*n},i.prototype.updateGridContainer=function(){},i.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},i.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},i.prototype.coordinateToPosition=function(e,t){var n=this.axis,s=n.axisFullLength;return F(n.renderer.inversed?n.end-e/s:e/s+n.start,5)},i.prototype.pointToPosition=function(e){return 0},i.prototype.getPositionRangePath=function(e,t){return""},i.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},i.prototype.updateGridElement=function(e,t,r){},i.prototype.updateTickElement=function(e,t,r){},i.prototype.updateBullet=function(e,t,r){},i.prototype.updateLabelElement=function(e,t,r,n){},i.prototype.updateFillElement=function(e,t,r){e.startPosition=t,e.endPosition=r},i.prototype.updateAxisLine=function(){},i.prototype.updateBaseGridElement=function(){},i.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(i.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),i.prototype.toggleVisibility=function(e,t,r,n){var s=this.axis,o=e.dataItem;o&&o instanceof kr&&(y(o.minPosition)&&(r=o.minPosition),y(o.maxPosition)&&(n=o.maxPosition)),e.disabled||(e.__disabled=t<s.start+(s.end-s.start)*(r-1e-4)||t>s.start+(s.end-s.start)*(n+1e-4))},i.prototype.createBreakSprites=function(e){},Object.defineProperty(i.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new Oe(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ye(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),i.prototype.createFill=function(e){return new Zs(e)},Object.defineProperty(i.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new Oe(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ye(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),i.prototype.createGrid=function(){return new Mr},Object.defineProperty(i.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new Oe(e),this._disposers.push(new ye(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),i.prototype.createTick=function(){return new uh},Object.defineProperty(i.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new Oe(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ye(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),i.prototype.createLabel=function(){return new Hs},Object.defineProperty(i.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},i.prototype.toAxisPosition=function(e){return e},i.prototype.setVisibility=function(e){a.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},i}(U);C.registeredClasses.AxisRenderer=za;var Fr=function(a){function i(){var e=a.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setDisabled=function(e){var t=a.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),t},i}(U);C.registeredClasses.AxisBullet=Fr;var Ot=function(a){function i(){var e=a.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=R(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.setAxis=function(e){a.prototype.setAxis.call(this,e),e.layout="horizontal"},i.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.y=e.pixelY,t.height=e.axisLength}},i.prototype.toAxisPosition=function(e){var t=this.axis;if(t){var r=1-e,n=t.relativePositionSprite,s=t.pixelY;if(n?s=ht({x:0,y:this.pixelY},this.parent,n).y:n=t.parent,n)return 1-(r-s/n.innerHeight)/(t.axisLength/n.innerHeight)}return e},i.prototype.processRenderer=function(){a.prototype.processRenderer.call(this);var e=this.axis;if(e){var t=e.title;t.valign="middle",e.height instanceof ae||(e.height=R(100)),this.opposite?(t.rotation=90,this.line.toBack(),t.toFront()):(t.rotation=-90,t.toBack(),this.line.toFront())}},i.prototype.updateTooltip=function(){if(this.axis){var t=2e3,r=0,s=t;this.opposite?this.inside&&(r=-t,s=t):this.inside||(r=-t,s=t),this.axis.updateTooltip("horizontal",{x:r,y:0,width:s,height:this.axisLength})}},Object.defineProperty(i.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e,t){return{x:0,y:this.positionToCoordinate(e)}},i.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},i.prototype.coordinateToPosition=function(e,t){var n=this.axis,s=n.axisFullLength;return F(n.renderer.inversed?1-n.start-e/s:e/s+(1-n.end),5)},i.prototype.getPositionRangePath=function(e,t){var r=B(this.positionToCoordinate(e),0,this.axisLength),n=B(this.positionToCoordinate(t),0,this.axisLength),s=Math.abs(n-r),o=this.getWidth();return si({x:0,y:Math.min(r,n),width:o,height:s},!0)},i.prototype.updateGridElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);e.path=N({x:0,y:0})+M({x:this.getWidth(),y:0}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateTickElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location),s=e.length;n.x=ht({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,s*=this.opposite?e.inside?-1:1:e.inside?1:-1,e.path=N({x:0,y:0})+M({x:s,y:0}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateAxisLine=function(){this.line.path=N({x:0,y:0})+M({x:0,y:this.axisLength})},i.prototype.updateBaseGridElement=function(){a.prototype.updateBaseGridElement.call(this);var e=this.axis,t=this.getWidth(),n=e.basePoint.y,s=this.baseGrid;if(n<-.2||n>this.axisLength+.2)s.hide(0);else{var o=ht({x:0,y:0},this.gridContainer,s.parent).x;s.path=N({x:0,y:0})+M({x:t,y:0}),s.moveTo({x:o,y:n}),s.show(0)}},i.prototype.updateLabelElement=function(e,t,r,n){x(n)||(n=e.location),t+=(r-t)*n,e.isMeasured=!e.inside;var o,s=this.positionToPoint(t),h=0,u=this.gridContainer.maxWidth;this.opposite?(e.inside?(o="right","left"==e.align&&(h=-u,o="left"),"center"==e.align&&(h=-u/2,o="middle")):o="left",s.x=0+h):(e.inside?(o="left","right"==e.align&&(h=u,o="right"),"center"==e.align&&(h=u/2,o="middle")):o="right",s.x=this.measuredWidth+h),0==e.rotation&&(e.horizontalCenter=o),this.positionItem(e,s),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},i.prototype.updateBreakElement=function(e){a.prototype.updateBreakElement.call(this,e);var t=e.startLine,r=e.endLine,n=e.fillShape,s=e.startPoint,o=e.endPoint,h=e.pixelMarginLeft,u=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;s.y=B(s.y,-1,this.axisLength+1),o.y=B(o.y,-1,this.axisLength+1),e.fillShape.__disabled=s.y==o.y&&(s.y<0||s.y>this.axisLength);var c=Math.abs(u-h);t.x=h,t.height=0,t.width=c,r.x=h,r.height=0,r.width=c,n.width=c,n.height=Math.abs(o.y-s.y),n.x=h,n.y=o.y},i.prototype.createBreakSprites=function(e){e.startLine=new Ci,e.endLine=new Ci;var t=new Kl;t.setWavedSides(!0,!1,!0,!1),e.fillShape=t},i.prototype.positionToCoordinate=function(e){var r=this.axis,n=r.axisFullLength;return r.renderer.inversed?(e-r.start)*n:(r.end-e)*n},i.prototype.updateBullet=function(e,t,r){var n=.5;e instanceof Fr&&(n=e.location);var s=this.positionToPoint(t+=(r-t)*n);s.x=ht({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,s),this.toggleVisibility(e,t,0,1)},i}(za);C.registeredClasses.AxisRendererY=Ot,Ke.push({relevant:et.widthS,state:function(a,i){if(a instanceof Ot){var e=a.states.create(i);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),Ke.push({relevant:et.widthXS,state:function(a,i){if(a instanceof Ot){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var Ys=function(a){function i(){var e=a.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),i}(Ua);C.registeredClasses.ValueAxisBreak=Ys;var Ga=function(a){function i(){var e=a.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),i}(kr),te=function(a){function i(){var e=a.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.fillRule=function(e){var t=e.value,r=e.component;e.axisFill.disabled||(e.axisFill.__disabled=F(t/r.step/2,5)==Math.round(t/r.step/2))},i.prototype.createDataItem=function(){return new Ga},i.prototype.createAxisBreak=function(){return new Ys},i.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),(0!=this._start||1!=this._end)&&this.dispatchImmediately("startendchanged")):(0!=this._start||1!=this._end)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},i.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),t=e.startIndex;if(e.dataItems.length>0){t>0&&t--;var r=e.endIndex;r<e.dataItems.length&&r++;for(var n=function(h){var u={},c={};s.series.each(function(d){if(!d.excludeFromTotal){var p=d.dataItems.getIndex(h);p&&q(p.values,function(f){var g=p.values[f].workingValue;y(g)&&(y(u[f])?u[f]+=Math.abs(g):u[f]=Math.abs(g),y(c[f])?c[f]+=g:c[f]=g)})}}),s.series.each(function(d){if(!d.excludeFromTotal){var p=d.dataItems.getIndex(h);p&&q(p.values,function(f){var g=p.values[f].workingValue;y(g)&&(p.setCalculatedValue(f,u[f],"total"),p.setCalculatedValue(f,100*g/u[f],"totalPercent"),p.setCalculatedValue(f,c[f],"sum"))})}})},s=this,o=t;o<r;++o)n(o)}}},i.prototype.validate=function(){this.axisLength<=0||(a.prototype.validate.call(this),this.getMinMax(),y(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},i.prototype.calculateZoom=function(){if(y(this.min)&&y(this.max)){var e=this.positionToValue(this.start),t=this.positionToValue(this.end),r=this.adjustDifference(e,t),n=this.adjustMinMax(e,t,r,this._gridCount,!0),s=function Jd(a){var i=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return i?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0}(n.step);this._stepDecimalPlaces=s,e=F(e,s),t=F(t,s);var o=(n=this.adjustMinMax(e,t,r,this._gridCount,!0)).step;if(this.syncWithAxis){var h=this.getCache(e+"-"+t);y(h)&&(o=h)}else e=n.min,t=n.max;(this._minZoomed!=e||this._maxZoomed!=t||this._step!=o||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=t,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},i.prototype.fixSmallStep=function(e){return 1+e==1?this.fixSmallStep(e*=2):e},i.prototype.validateAxisElements=function(){var e=this;if(y(this.max)&&y(this.min)){var t=this.minZoomed-2*this._step;this.logarithmic?Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(t=Math.floor(this.minZoomed/this._step)*this._step)&&(t=this.minZoomed):t=Math.floor(t/this._step)*this._step;var n=this._maxZoomed+this._step;this.resetIterators();var s=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var o=0,h=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;t<=n;){if(!this.isInBreak(t)){var c=s.find(function(v){return v.value===t});c.__disabled&&(c.__disabled=!1),this.appendDataItem(c),c.axisBreak=void 0,(c.value!=t||h)&&(c.value=t,c.text=this.formatLabel(t),c.label&&c.label.invalid&&c.label.validate(),c.value>=this.min&&c.value<=this.max&&c.label&&("Y"==this.axisLetter&&c.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&c.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=c.label.currentText,this.ghostLabel.validate())),this.validateDataElement(c)}o++;var d=t;this.logarithmic&&Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E+o):t+=this._step;var p=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(p<1){var f=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+2;if(f=Math.min(13,f),d==(t=F(t,f))){t=n;break}}}var g=this._axisBreaks;if(g){var m=this.renderer;I(g.iterator(),function(v){if(v.breakSize>0&&de(v.startPoint,v.endPoint)>m.minGridDistance)for(var b=v.adjustedMin;b<=v.adjustedMax;){if(b>=v.adjustedStartValue&&b<=v.adjustedEndValue){var _=s.find(function(P){return P.value===b});_.__disabled&&(_.__disabled=!1),e.appendDataItem(_),_.axisBreak=v,_.value!=b&&(_.value=b,_.text=e.formatLabel(b),_.label&&_.label.invalid&&_.label.validate()),e.validateDataElement(_)}b+=v.adjustedStep}})}}},i.prototype.validateDataElement=function(e){a.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var t=this.renderer,r=e.value,n=e.endValue,s=this.valueToPosition(r);e.position=s;var o=s,h=this.valueToPosition(r+this._step);y(n)&&(h=o=this.valueToPosition(n)),e.point=t.positionToPoint(s);var u=e.tick;u&&!u.disabled&&t.updateTickElement(u,s,o);var c=e.grid;c&&!c.disabled&&t.updateGridElement(c,s,o);var d=e.label;d&&!d.disabled&&t.updateLabelElement(d,s,o);var p=e.axisFill;p&&!p.disabled&&(t.updateFillElement(p,s,h),e.isRange||this.fillRule(e)),e.bullet&&t.updateBullet(e.bullet,s,o);var f=e.mask;f&&t.updateFillElement(f,s,h)},i.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&0!=e?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(i.prototype,"basePoint",{get:function(){var t=this.valueToPosition(this.baseValue);return this.renderer.positionToPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),i.prototype.anyToPosition=function(e){return this.valueToPosition(e)},i.prototype.valueToPoint=function(e){var t=this.valueToPosition(e),r=this.renderer.positionToPoint(t),n=this.renderer.positionToAngle(t);return{x:r.x,y:r.y,angle:n}},i.prototype.anyToPoint=function(e){return this.valueToPoint(e)},i.prototype.valueToPosition=function(e){if(y(e)){var t=this.min,r=this.max;if(y(t)&&y(r)){var n=this._difference,s=this._axisBreaks;s&&s.length>0&&ft(s.iterator(),function(u){var c=u.adjustedStartValue,d=u.adjustedEndValue;if(y(c)&&y(d)){if(e<c)return!1;if(ra({start:c,end:d},{start:t,end:r})){c=Math.max(c,t),d=Math.min(d,r);var p=u.breakSize;e>d?t+=(d-c)*(1-p):e<c||(e=c+(e-c)*p)}}return!0});var o=void 0;if(this.logarithmic){var h=this.treatZeroAs;y(h)&&e<=h&&(e=h),o=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else o=(e-t)/n;return o}}return 0},i.prototype.invalidateLabels=function(){a.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},i.prototype.positionToValue=function(e){var t=this.min,r=this.max;if(y(t)&&y(r)){var n=r-t,s=null,o=this._axisBreaks;return o&&o.length>0&&ft(o.iterator(),function(h){var u=h.startPosition,c=h.endPosition,d=h.adjustedStartValue,p=h.adjustedEndValue;if(y(d)&&y(p)){if(d>r)return!1;if(ra({start:d,end:p},{start:t,end:r})){d=Q(d,t),p=se(p,r);var f=h.breakSize;if(n-=(p-d)*(1-f),e>c)t+=(p-d)*(1-f);else if(!(e<u))return s=d+(e-u)/(c-u)*(p-d),!1}return!0}}),y(s)||(s=this.logarithmic?Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):e*n+t),s}},i.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},i.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},i.prototype.pointToPosition=function(e){return this.renderer instanceof Ot?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},i.prototype.animateMinMax=function(e,t){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing)},i.prototype.getMinMax=function(){var e=this;this.updateGridCount();var t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;if((!y(this._minDefined)||!y(this._maxDefined))&&(this.series.each(function(p){if(!p.ignoreMinMax){var f=p.min(e);y(f)&&f<t&&(t=f);var g=p.max(e);y(g)&&g>r&&(r=g)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(p){if(!p.ignoreMinMax){var f=se(p.value,p.endValue),g=Q(p.value,p.endValue);(f<t||!y(t))&&(t=f),(g>r||!y(r))&&(r=g)}})),this.logarithmic){var n=this.treatZeroAs;y(n)&&t<=0&&(t=n),t<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==t&&0==r&&(r=.9,t=-.9),y(this._minDefined)&&(t=this._minDefined),y(this._maxDefined)&&(r=this._maxDefined),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(r=this._adapterO.apply("max",r)),y(t)&&y(r)){this._minReal=t,this._maxReal=r,t==Number.POSITIVE_INFINITY&&(t=void 0),r==Number.NEGATIVE_INFINITY&&(r=void 0);var s=this.adjustDifference(t,r);if(t=this.fixMin(t),(r=this.fixMax(r))-t<=1/Math.pow(10,15)){if(r-t!=0)this._deltaMinMax=(r-t)/2;else{var o=Math.log(Math.abs(r))*Math.LOG10E,h=Math.pow(10,Math.floor(o));this._deltaMinMax=h/=10}t-=this._deltaMinMax,r+=this._deltaMinMax}r+=(r-(t-=(r-t)*this.extraMin))*this.extraMax;var u=this.strictMinMax;y(this._maxDefined)&&(u=!0);var c=this.adjustMinMax(t,r,s,this._gridCount,u);if(s=(r=c.max)-(t=c.min),c=this.adjustMinMax(t,r,r-t,this._gridCount,!0),t=c.min,r=c.max,this.strictMinMax&&(t=y(this._minDefined)?this._minDefined:this._minReal,(r=y(this._maxDefined)?this._maxDefined:this._maxReal)-t<=1e-8&&(t-=this._deltaMinMax,r+=this._deltaMinMax),r+=(r-(t-=(r-t)*this.extraMin))*this.extraMax),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(r=this._adapterO.apply("max",r)),this._step=c.step,!y(t)&&!y(r)&&(this.start=0,this.end=1,this.renderer.labels.each(function(p){p.dataItem.text=""})),(this._minAdjusted!=t||this._maxAdjusted!=r)&&y(t)&&y(r)){var d=this._minMaxAnimation;if(this._extremesChanged&&y(this._minAdjusted)&&y(this._maxAdjusted)&&this.inited){if(d&&!d.isFinished()&&this._finalMax==r&&this._finalMin==t)return;this._finalMin=t,this._finalMax=r,(d=this.animateMinMax(t,r))&&!d.isFinished()?(d.events.on("animationprogress",this.validateDataItems,this),d.events.on("animationended",function(){e.series.each(function(p){p.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=d):this.series.each(function(p){p.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(d&&!d.isFinished()&&this._finalMax==r&&this._finalMin==t)return;this._minAdjusted=t,this._maxAdjusted=r,this._finalMin=t,this._finalMax=r,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(t,r)}}this._extremesChanged=!1,this._difference=this.adjustDifference(t,r)}},i.prototype.fixMin=function(e){return e},i.prototype.fixMax=function(e){return e},i.prototype.adjustMinMax=function(e,t,r,n,s){n<=1&&(n=1),n=Math.round(n);var o=e,h=t;0===r&&(r=Math.abs(t));var u=Math.log(Math.abs(r))*Math.LOG10E,c=Math.pow(10,Math.floor(u)),d=c/=10;s&&(d=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),t==-1/0&&(t=10),this.strictMinMax?this._minDefined>0&&(e=this._minDefined):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),t=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E)))):(s?(e=Math.floor(e/c)*c,t=Math.ceil(t/c)*c):(e=Math.ceil(e/c)*c-d,t=Math.floor(t/c)*c+d),e<0&&o>=0&&(e=0),t>0&&h<=0&&(t=0)),u=Math.log(Math.abs(r))*Math.LOG10E,c=Math.pow(10,Math.floor(u)),c/=10;var p=Math.ceil(r/n/c)*c,f=Math.pow(10,Math.floor(Math.log(Math.abs(p))*Math.LOG10E)),g=Math.ceil(p/f);g>5?g=10:g<=5&&g>2&&(g=5),p=Math.ceil(p/(f*g))*f*g,this.maxPrecision<Number.MAX_VALUE&&p!=Ro(p,this.maxPrecision)&&(p=Ro(p,this.maxPrecision));var m=0;if(f<1&&(p=F(p,m=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1)),!this.logarithmic){var v=Math.floor(e/p);e=F(p*v,m);var b=void 0;(b=s?Math.floor(t/p):Math.ceil(t/p))==v&&b++,(t=F(p*b,m))<h&&(t+=p),e>o&&(e-=p)}return{min:e,max:t,step:p}},Object.defineProperty(i.prototype,"min",{get:function(){var e=this._minAdjusted;return y(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){var e=this._maxAdjusted;return y(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.registerSeries=function(e){return new Pe([a.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},i.prototype.handleSelectionExtremesChange=function(){var t,r,e=this,n=!0;if(I(this.series.iterator(),function(f){if(!f.ignoreMinMax&&!f.isHidden&&!f.outOfRange){f.visible&&!f.isHiding&&(n=!1);var g=f.selectionMin(e),m=f.selectionMax(e);y(g)&&(!y(t)||g<t)&&(t=g),y(m)&&(!y(r)||m>r)&&(r=m)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(f){if(!f.ignoreMinMax){var g=se(f.value,f.endValue),m=Q(f.value,f.endValue);g<t&&(t=g),m>r&&(r=m)}}),y(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),y(this._maxDefined)?r=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(r=this._maxReal),t==r){var s=this.adjustMinMax(t-=this._deltaMinMax,r+=this._deltaMinMax,0,this._gridCount,this.strictMinMax);t=s.min,r=s.max}var o=this.adjustDifference(t,r),h=this.adjustMinMax(t,r,o,this._gridCount);t=h.min,r=h.max,r+=(r-(t-=(r-t)*this.extraMin))*this.extraMax,t=B(t,this.min,this.max),r=B(r,this.min,this.max),o=this.adjustDifference(t,r),h=this.adjustMinMax(t,r,o,this._gridCount,!0),t=h.min,r=h.max,this.strictMinMax&&(t=Q(t,this._minDefined),r=se(r,this._maxDefined));var u=h.step;this.syncWithAxis&&(h=this.syncAxes(t,r,u),t=h.min,r=h.max,this.invalidate()),u=h.step,this._difference=this.adjustDifference(this.min,this.max);var c=this.valueToPosition(t),d=this.valueToPosition(r);n&&!this.syncWithAxis&&(c=0,d=1);var p=0;this.syncWithAxis?(p=5,this.setCache(t+"-"+r,u)):((this._step!=u||this._minZoomed!=t||this._maxZoomed!=r)&&(this._dsc=!0),this._step=u,this._minZoomed=t,this._maxZoomed=r),this.keepSelection||this.zoom({start:c,end:d},!1,!1,p)},Object.defineProperty(i.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(t){t.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),i.prototype.handleExtremesChange=function(){var e=this;this._extremesChanged=!0,this.getMinMax(),this.ghostLabel&&this.dataItems.each(function(r){r.label&&r.label.pixelWidth>0&&(e.ghostLabel.text=r.label.currentText)})},i.prototype.getX=function(e,t,r,n,s){return this.renderer.positionToPoint(this.getPositionX(e,t,r,n,s)).x},i.prototype.getPositionX=function(e,t,r,n,s){var o=e.getWorkingValue(t);x(n)||(n="valueX");var h=e.getValue(n,"stack");y(o)||(o=this.baseValue,this.logarithmic&&h>0&&(o=0));var u=this.valueToPosition(o+h);return s&&(u=B(u,s.start,s.end)),u},i.prototype.getY=function(e,t,r,n,s){return this.renderer.positionToPoint(this.getPositionY(e,t,r,n,s)).y},i.prototype.getPositionY=function(e,t,r,n,s){var o=e.getWorkingValue(t);x(n)||(n="valueY");var h=e.getValue(n,"stack");y(o)||(o=this.baseValue,this.logarithmic&&h>0&&(o=0));var u=this.valueToPosition(o+h);return s&&(u=B(u,s.start,s.end)),u},i.prototype.getAngle=function(e,t,r,n,s){var o=e.getWorkingValue(t),h=e.getValue(n,"stack");y(o)||(o=this.baseValue);var u=this.valueToPosition(o+h);return s&&(u=B(u,s.start,s.end)),this.positionToAngle(u)},i.prototype.getAnyRangePath=function(e,t,r){var n=this.valueToPosition(e),s=this.valueToPosition(t);return this.getPositionRangePath(n,s)},i.prototype.getTooltipText=function(e){var t=F(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),r=this.tooltip.numberFormatter.format(t);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},i.prototype.zoomToValues=function(e,t,r,n){this.zoom({start:(e-this.min)/(this.max-this.min),end:(t-this.min)/(this.max-this.min)},r,n)},Object.defineProperty(i.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:Q(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:se(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),i.prototype.fixAxisBreaks=function(){var e=this;a.prototype.fixAxisBreaks.call(this);var t=this._axisBreaks;t&&t.length>0&&t.each(function(r){var n=r.adjustedStartValue,s=r.adjustedEndValue,o=s-n,h=Math.ceil(o*r.breakSize)*e._gridCount/(e.max-e.min),u=e.adjustMinMax(n,s,o,h,!0);r.adjustedStep=u.step,r.adjustedMin=u.min,r.adjustedMax=u.max}),this._difference=this.adjustDifference(this.min,this.max)},i.prototype.getPositionLabel=function(e){var t=this.positionToValue(e);return this.numberFormatter.format(t)},i.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(i.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var t=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){t.clearCache(),t._disposers.push(C.events.once("exitframe",function(){t.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),i.prototype.syncAxes=function(e,t,r){var n=this.syncWithAxis;if(n){y(e)||(e=this.min),y(t)||(t=this.max),y(r)||(r=this._step);var s=Math.round((n.maxZoomed-n.minZoomed)/n.step),o=Math.round((t-e)/r);if(y(s)&&y(o))for(var h=!1,u=0,c=.01*(t-e),d=e,p=t,f=r;1!=h;)if(h=this.checkSync(d,p,f,s),++u>1e3&&(h=!0),h)e=d,t=p,r=f;else{u/3==Math.round(u/3)?(d=e-c*u,e>=0&&d<0&&(d=0)):(p=t+c*u)<=0&&p>0&&(p=0);var g=this.adjustMinMax(d,p,p-d,this._gridCount,!0);d=g.min,p=g.max,f=g.step}}return{min:e,max:t,step:r}},i.prototype.checkSync=function(e,t,r,n){for(var s=(t-e)/r,o=1;o<n;o++)if(F(s/o,1)==n||s*o==n)return!0;return!1},i.prototype.processConfig=function(e){e&&x(e.syncWithAxis)&&ne(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),a.prototype.processConfig.call(this,e)},i.prototype._saveMinMax=function(e,t){},i}(Wa);C.registeredClasses.ValueAxis=te,C.registeredClasses.ValueAxisDataItem=Ga;var ch=function(a){function i(){var e=a.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),i}(Ys);C.registeredClasses.DateAxisBreak=ch;var dh=function(a){function i(){var e=a.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),i}(Ga),Se=function(a){function i(){var e=a.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new he,e.groupIntervals=new he,e.dateFormats=new be,e.periodChangeDateFormats=new be,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e._intervalMax={},e._intervalMin={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.fillRule=function(e){var t=e.value,r=e.component,n=r._gridInterval,s=ke(n.timeUnit,n.count);e.axisFill.__disabled=Math.round((t-r.min)/s)/2==Math.round(Math.round((t-r.min)/s)/2)},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},i.prototype.createDataItem=function(){return new dh},i.prototype.createAxisBreak=function(){return new ch},i.prototype.validateDataItems=function(){var e=this.start,t=this.end,r=this.baseDuration,n=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),a.prototype.validateDataItems.call(this);var s=ke(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/s),this._deltaMinMax=this.baseDuration/2,this.zoom({start:e+=(t-e)*(1-n/((this.max-this.min)/r)),end:t},!1,!0)},i.prototype.handleSelectionExtremesChange=function(){},i.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},i.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},i.prototype.calculateZoom=function(){var e=this;a.prototype.calculateZoom.call(this);var t=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&x(t)){var n=this.mainBaseInterval,s=this.getIntervalMin(n),o=this.getIntervalMax(n),d=this.adjustDifference(s+(o-s)*this.start,s+(o-s)*this.end)+(this.startLocation+(1-this.endLocation))*this.baseDuration,p=void 0;this.groupInterval?p=(0,w.pi)({},this.groupInterval):ke((p=this.chooseInterval(0,d,this.groupCount,this.groupIntervals)).timeUnit,p.count)<ke(n.timeUnit,n.count)&&(p=(0,w.pi)({},n)),this._groupInterval=p;var f=p.timeUnit+p.count;this._currentDataSetId!=f&&(this._currentDataSetId=f,this.dispatch("groupperiodchanged")),this.series.each(function(m){m.baseAxis==e&&m.setDataSet(e._currentDataSetId)&&(r=!0)})}var g=this.chooseInterval(0,t,this._gridCount);ke(g.timeUnit,g.count)<this.baseDuration&&(g=(0,w.pi)({},this.baseInterval)),this._gridInterval=g,this._nextGridUnit=Al(g.timeUnit),this._intervalDuration=ke(g.timeUnit,g.count),this._gridDate=Ge(new Date(this.minZoomed-ke(g.timeUnit,g.count)),g.timeUnit,g.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),I(this.series.iterator(),function(m){if(m.baseAxis==e){var v=m.getAxisField(e),b=Ge(new Date(e._minZoomed+.05*e.baseDuration),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),_=b.toString(),P=m.dataItemsByAxis.getKey(e.uid).getKey(_+m.currentDataSetId),S=0;0!=e.start&&(S=P?(P=e.findFirst(P,b,v)).index:m.dataItems.findClosestIndex(e._minZoomed,function(X){return X[v]},"left"));var D=e.baseInterval,T=it(Ge(new Date(e._maxZoomed),D.timeUnit,D.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),D.timeUnit,D.count,e._df.utc).getTime(),A=T.toString(),O=m.dataItemsByAxis.getKey(e.uid).getKey(A+m.currentDataSetId),k=m.dataItems.length;1!=e.end&&(O?k=O.index:(k=m.dataItems.findClosestIndex(T-=1,function(X){return X[v]},"right"),k++)),m.max(e)<b?(m.startIndex=m.dataItems.length,m.endIndex=m.dataItems.length,m.outOfRange=!0):m.min(e)>T?(m.startIndex=0,m.endIndex=0,m.outOfRange=!0):(m.outOfRange=!1,m.startIndex=S,m.endIndex=k),!r&&m.dataRangeInvalid&&m.validateDataRange()}})},i.prototype.findFirst=function(e,t,r){var n=e.index;if(n>0){var o=e.component.dataItems.getIndex(n-1),h=o[r];return!h||h.getTime()<t?e:this.findFirst(o,t,r)}return e},i.prototype.validateData=function(){a.prototype.validateData.call(this),y(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(i.prototype,"minDifference",{get:function(){var e=this,t=Number.MAX_VALUE;return this.series.each(function(r){t>e._minDifference[r.uid]&&(t=e._minDifference[r.uid])}),(t==Number.MAX_VALUE||0==t)&&(t=ke("day")),t},enumerable:!0,configurable:!0}),i.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},i.prototype.postProcessSeriesDataItems=function(e){var t=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(r){t.seriesGroupUpdate(r)}),this.addEmptyUnitsBreaks()},i.prototype.seriesGroupUpdate=function(e){var t=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(r){t.postProcessSeriesDataItem(r)}),this.groupData&&this.groupSeriesData(e))},i.prototype.groupSeriesData=function(e){var t=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var r=[],n=this.mainBaseInterval,s=ke(n.timeUnit,n.count);this.groupIntervals.each(function(o){var h=ke(o.timeUnit,o.count);(h>s&&h<t.max-t.min||t.groupInterval)&&r.push(o)}),e._dataSets&&(e._dataSets.each(function(o,h){h.each(function(u){u.dispose()}),h.clear()}),e._dataSets.clear()),e.dataGrouped=!0,j(r,function(o){var h="date"+t.axisLetter,u=o.timeUnit+o.count,c=new ha(e.mainDataSet.template.clone());e.dataSets.setKey(u,c);var g,v,d=e.mainDataSet,p=Number.NEGATIVE_INFINITY,f=0,m=[];q(e.dataFields,function(b,_){var P=b;P!=h&&-1==P.indexOf("Show")&&m.push(P)}),d.each(function(b){var _=b.getDate(h);if(_){var P=_.getTime(),S=(v=Ge(new Date(P),o.timeUnit,o.count,t._df.firstDayOfWeek,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone)).getTime();p<S?(g&&e._adapterO&&j(m,function(D){g.values[D].value=e._adapterO.apply("groupDataItem",{dataItem:g,interval:o,dataField:D,date:v,value:g.values[D].value}).value,g.values[D].workingValue=g.values[D].value}),(g=c.create()).dataContext={},g.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),g.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),g.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),g.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),g.component=e,g.setDate(h,v),g._index=f,f++,j(m,function(D){var T=b.values[D];if(T){var A=T.value;e._adapterO&&(A=e._adapterO.apply("groupValue",{dataItem:b,interval:o,dataField:D,date:v,value:A}).value);var O=g.values[D];y(A)?(O.value=A,O.workingValue=A,O.open=A,O.close=A,O.low=A,O.high=A,O.sum=A,O.average=A,O.count=1):O.count=0}}),t.postProcessSeriesDataItem(g,o),q(e.propertyFields,function(D,T){var A=D,O=b.properties[D];x(O)&&(g.hasProperties=!0,g.setProperty(A,O))}),g.groupDataItems=[b],p=S):g&&(j(m,function(D){var T=e.groupFields[D],A=b.values[D];if(A){var O=A.value;if(e._adapterO&&(O=e._adapterO.apply("groupValue",{dataItem:b,interval:o,dataField:D,date:v,value:O}).value),y(O)){var k=g.values[D];y(k.open)||(k.open=O),k.close=O,(k.low>O||!y(k.low))&&(k.low=O),(k.high<O||!y(k.high))&&(k.high=O),y(k.sum)?k.sum+=O:k.sum=O,k.count++,k.average=k.sum/k.count,y(k[T])&&(k.value=k[T],k.workingValue=k.value)}}}),Gt(b.properties,g.properties),q(e.propertyFields,function(D,T){var A=D,O=b.properties[D];x(O)&&(g.hasProperties=!0,g.setProperty(A,O))}),g.groupDataItems.push(b))}g&&Gt(b.dataContext,g.dataContext)}),g&&e._adapterO&&j(m,function(b){g.values[b].value=e._adapterO.apply("groupDataItem",{dataItem:g,interval:o,dataField:b,date:v,value:g.values[b].value}).value,g.values[b].workingValue=g.values[b].value})}),this.calculateZoom()}},i.prototype.getDFFormatter=function(){this._df=this.dateFormatter},i.prototype.postProcessSeriesDataItem=function(e,t){var r=this,n="";t?n=t.timeUnit+t.count:t=this.mainBaseInterval;var o=e.component.dataItemsByAxis.getKey(this.uid);q(e.dates,function(h){var c=e.getDate(h).getTime(),p=Ge(new Date(c),t.timeUnit,t.count,r._firstWeekDay,r._df.utc,void 0,r._df.timezoneMinutes,r._df.timezone).getTime(),f=it(new Date(p),t.timeUnit,t.count,r._df.utc);e.setCalculatedValue(h,p,"open"),e.setCalculatedValue(h,f.getTime(),"close"),o.setKey(p+n,e)})},i.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&y(this.min)&&y(this.max)){var t=this.baseInterval.timeUnit,r=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var n=Ge(new Date(this.min),t,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),s=void 0,o=function(){it(n,t,r,h._df.utc);var u=n.getTime(),c=u.toString();Gn(h.series.iterator(),function(p){return!!p.dataItemsByAxis.getKey(e.uid).getKey(c+p.currentDataSetId)})?s&&(s.endDate=new Date(u-1),s=void 0):s||((s=h.axisBreaks.create()).startDate=new Date(u),h._gapBreaks=!0)},h=this;n.getTime()<this.max-this.baseDuration;)o()}},i.prototype.fixAxisBreaks=function(){var e=this;a.prototype.fixAxisBreaks.call(this);var t=this._axisBreaks;t&&t.length>0&&t.each(function(r){var n=Math.ceil(e._gridCount*(Math.min(e.end,r.endPosition)-Math.max(e.start,r.startPosition))/(e.end-e.start));r.gridInterval=e.chooseInterval(0,r.adjustedEndValue-r.adjustedStartValue,n);var s=Ge(new Date(r.adjustedStartValue),r.gridInterval.timeUnit,r.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);s.getTime()>r.startDate.getTime()&&it(s,r.gridInterval.timeUnit,r.gridInterval.count,e._df.utc),r.gridDate=s})},i.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},i.prototype.getGridDate=function(e,t){var r=this._gridInterval.timeUnit,n=this._gridInterval.count;Ge(e,r,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var s=e.getTime(),o=Ui(e),h=it(o,r,t,this._df.utc).getTime(),u=this.isInBreak(h);u&&u.endDate&&(Ge(o=new Date(u.endDate.getTime()),r,n,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o.getTime()<u.endDate.getTime()&&it(o,r,n,this._df.utc),h=o.getTime());var c=this.adjustDifference(s,h);return Math.round(c/ke(r))<n?this.getGridDate(e,t+n):o},i.prototype.getBreaklessDate=function(e,t,r){var n=new Date(e.endValue);Ge(n,t,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),it(n,t,r,this._df.utc);var s=n.getTime();return(e=this.isInBreak(s))?this.getBreaklessDate(e,t,r):n},i.prototype.validateAxisElements=function(){var e=this;if(y(this.max)&&y(this.min)){this.calculateZoom();var t=this._gridDate.getTime(),r=this._gridInterval.timeUnit,n=this._gridInterval.count,s=Ui(this._gridDate),o=this._dataItemsIterator;this.resetIterators();for(var h=function(){var d=u.getGridDate(Ui(s),n);t=d.getTime();var p=Ui(d);p=it(p,r,n,u._df.utc);var f=u.dateFormats.getKey(r);u.markUnitChange&&s&&xs(d,s,u._nextGridUnit,u._df.utc)&&"year"!==r&&(f=u.periodChangeDateFormats.getKey(r));var g=u._df.format(d,f),m=o.find(function(v){return v.text===g});m.__disabled&&(m.__disabled=!1),u.appendDataItem(m),m.axisBreak=void 0,m.date=d,m.endDate=p,m.text=g,u.validateDataElement(m),s=d},u=this;t<=this._maxZoomed;)h();var c=this.renderer;this._axisBreaks&&I(this._axisBreaks.iterator(),function(d){if(d.breakSize>0){var p=d.gridInterval.timeUnit,f=d.gridInterval.count;if(de(d.startPoint,d.endPoint)>4*c.minGridDistance)for(var m,g=d.gridDate.getTime(),v=0,b=function(){var _=Ui(d.gridDate);if(g=it(_,p,f*v,e._df.utc).getTime(),v++,g>d.adjustedStartValue&&g<d.adjustedEndValue){var P=Ui(_);P=it(P,p,f,e._df.utc);var S=e.dateFormats.getKey(p);e.markUnitChange&&m&&xs(_,m,e._nextGridUnit,e._df.utc)&&"year"!==p&&(S=e.periodChangeDateFormats.getKey(p));var D=e._df.format(_,S),T=o.find(function(A){return A.text===D});T.__disabled&&(T.__disabled=!1),e.appendDataItem(T),T.axisBreak=d,d.dataItems.moveValue(T),T.date=_,T.endDate=P,T.text=D,m=_,e.validateDataElement(T)}};g<=d.adjustedMax;)b()}})}},i.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,y(this.max)&&y(this.min)){var t=this.renderer,r=e.value,n=e.endValue;y(n)||(n=r);var s=this.valueToPosition(r),o=this.valueToPosition(n),h=o;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(o=s+(o-s)/(this._gridInterval.count/this.baseInterval.count)),e.position=s;var u=e.tick;u&&!u.disabled&&t.updateTickElement(u,s,o);var c=e.grid;c&&!c.disabled&&t.updateGridElement(c,s,o);var d=e.axisFill;d&&!d.disabled&&(t.updateFillElement(d,s,h),e.isRange||this.fillRule(e));var p=e.mask;p&&t.updateFillElement(p,s,o),e.bullet&&t.updateBullet(e.bullet,s,o);var f=e.label;if(f&&!f.disabled){var g=f.location;0==g&&(g=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||e.isRange?0:.5),t.updateLabelElement(f,s,o,g)}}},Object.defineProperty(i.prototype,"baseDuration",{get:function(){return ke(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),i.prototype.adjustMinMax=function(e,t){return{min:e,max:t,step:this.baseDuration}},i.prototype.fixMin=function(e){var t=this.baseInterval,r=Ge(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return r+(it(new Date(r),t.timeUnit,t.count,this._df.utc).getTime()-r)*this.startLocation},i.prototype.fixMax=function(e){var t=this.baseInterval,r=Ge(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return r+(it(new Date(r),t.timeUnit,t.count,this._df.utc).getTime()-r)*this.endLocation},i.prototype.chooseInterval=function(e,t,r,n){n||(n=this.gridIntervals);var s=n.getIndex(e),o=ke(s.timeUnit,s.count),h=n.length-1;if(e>=h)return(0,w.pi)({},n.getIndex(h));var u=Math.ceil(t/o);return t<o&&e>0?(0,w.pi)({},n.getIndex(e-1)):u<=r?(0,w.pi)({},n.getIndex(e)):e+1<n.length?this.chooseInterval(e+1,t,r,n):(0,w.pi)({},n.getIndex(e))},i.prototype.formatLabel=function(e){return this._df.format(e)},i.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},i.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},i.prototype.dateToPoint=function(e){var t=this.dateToPosition(e),r=this.renderer.positionToPoint(t),n=this.renderer.positionToAngle(t);return{x:r.x,y:r.y,angle:n}},i.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},i.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},i.prototype.getPositionX=function(e,t,r,n,s){var o=this.getTimeByLocation(e,t,r);y(o)||(o=this.baseValue);var h=this.valueToPosition(o);return s&&(h=B(h,s.start,s.end)),h},i.prototype.getPositionY=function(e,t,r,n,s){var o=this.getTimeByLocation(e,t,r),h=e.getValue("valueX","stack");y(o)||(o=this.baseValue);var u=this.valueToPosition(o+h);return s&&(u=B(u,s.start,s.end)),u},i.prototype.getAngle=function(e,t,r,n,s){var o=this.getTimeByLocation(e,t,r),h=e.getValue(n,"stack");y(o)||(o=this.baseValue);var u=this.valueToPosition(o+h);return s&&(u=B(u,s.start,s.end)),this.positionToAngle(u)},i.prototype.getTimeByLocation=function(e,t,r){if(x(t)){y(r)||y(r=e.workingLocations[t])||(r=0);var n=e.values[t].open,s=e.values[t].close,u=e.values[t].value-e.values[t].workingValue;if(s-=u,y(n-=u)&&y(s))return n+(s-n)*r}},i.prototype.processSeriesDataItem=function(e,t){var n,r=e.component,s=e["date"+t];if(y(this.timezoneOffset)?(s.setTime(s.getTime()+6e4*(s.getTimezoneOffset()-this.timezoneOffset)),e.setValue("date"+t,s.getTime(),0)):x(this.timezone)&&(s=Aa(s,this.timezone),e.setValue("date"+t,s.getTime(),0),e["date"+t]=s),s){n=s.getTime();var u,o=e["openDate"+t],h=this._prevSeriesTime[r.uid];if(o&&(u=o.getTime()),y(u)){var c=Math.abs(n-u);this._minDifference[r.uid]>c&&(this._minDifference[r.uid]=c)}var d=n-h;d>0&&this._minDifference[r.uid]>d&&(this._minDifference[r.uid]=d),this._prevSeriesTime[r.uid]=n,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)}},i.prototype.updateAxisBySeries=function(){a.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=ke("day",27)&&"week"==e.timeUnit&&(e.timeUnit="month",e.count=1),"month"==e.timeUnit&&(this.minDifference>=ke("day",58)&&1==e.count&&(e.count=2),this.minDifference>=ke("day",87)&&2==e.count&&(e.count=3),this.minDifference>=ke("day",174)&&5==e.count&&(e.count=6)),this.minDifference>=ke("hour",23)&&"hour"==e.timeUnit&&(e.timeUnit="day",e.count=1),this.minDifference>=ke("week",1)-ke("hour",1)&&"day"==e.timeUnit&&(e.timeUnit="week",e.count=1),this.minDifference>=ke("year",1)-ke("day",1.01)&&"month"==e.timeUnit&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(i.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,y(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var t=this.axisBreaks.template;t.startLine.disabled=!0,t.endLine.disabled=!0,t.fillShape.disabled=!0,t.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),i.prototype.getTooltipText=function(e){var t,r=this.positionToDate(e);if(r=Ge(r,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=r,x(this.tooltipDateFormat))t=this._df.format(r,this.tooltipDateFormat,-1==["day","month","week","year"].indexOf(this.baseInterval.timeUnit));else{var n=this.dateFormats.getKey(this.baseInterval.timeUnit);t=n?this._df.format(r,n):this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",t):t},i.prototype.roundPosition=function(e,t,r){var n=this.baseInterval,s=n.timeUnit,o=n.count,h=this.positionToDate(e);if(Ge(h,s,o,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),t>0&&it(h,s,t*o,this._df.utc),r>0&&r<1&&h.setTime(h.getTime()+this.baseDuration*r),this.isInBreak(h.getTime()))for(;h.getTime()<this.max&&(it(h,s,o,this._df.utc),this.isInBreak(h.getTime())););return this.dateToPosition(h)},i.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},i.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},i.prototype.getSeriesDataItem=function(e,t,r){var n=this.positionToValue(t),o=n-("Y"==this.axisLetter?e.dataItems.template.locations.dateY:e.dataItems.template.locations.dateX)*this.baseDuration,h=Ge(new Date(n),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),u=Ge(new Date(n+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);u.getTime()>h.getTime()&&Math.abs(u.getTime()-o)<Math.abs(o-h.getTime())&&(h=u);var p,d=e.dataItemsByAxis.getKey(this.uid).getKey(h.getTime()+e.currentDataSetId);return!d&&r&&(p="Y"==this.axisLetter?"dateY":"dateX",d=e.dataItems.getIndex(e.dataItems.findClosestIndex(h.getTime(),function(f){return f[p]?f[p].getTime():-1/0},"any"))),d},i.prototype.getPositionLabel=function(e){var t=this.positionToDate(e);return this._df.format(t,this.getCurrentLabelFormat())},i.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},i.prototype.initRenderer=function(){a.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(i.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),i.prototype.animateMinMax=function(e,t){var r=this,n=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing);return n.events.on("animationprogress",function(){r.dispatch("extremeschanged")}),n},i.prototype.handleExtremesChange=function(){if(a.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},i.prototype.zoomToDates=function(e,t,r,n,s){e=this._df.parse(e),t=this._df.parse(t),this.zoomToValues(e.getTime(),t.getTime(),r,n,s)},i.prototype.zoomToValues=function(e,t,r,n,s){var o=this;if(this.groupData){var c=this.adjustDifference(e,t),d=!1;t==this.max&&(d=!0);var p=!1;if(e==this.min&&(p=!0),x(c)){var f=this.mainBaseInterval,g=this.chooseInterval(0,c,this.groupCount,this.groupIntervals);(g.timeUnit==f.timeUnit&&g.count<f.count||ke(g.timeUnit,1)<ke(f.timeUnit,1))&&(g=(0,w.pi)({},f));var m=g.timeUnit+g.count,v=this.groupMin[m],b=this.groupMax[m];(!y(v)||!y(b))&&(v=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,this.series.each(function(S){var D=S.min(o),T=S.max(o);if(S._dataSets){var A=S._dataSets.getKey(g.timeUnit+g.count);if(A){var O=A.getIndex(0),k=A.getIndex(A.length-1);O&&(S.xAxis==o?D=O.dateX.getTime():S.yAxis==o&&(D=O.dateY.getTime())),k&&(S.xAxis==o?T=k.dateX.getTime():S.yAxis==o&&(T=k.dateY.getTime()))}}T=Ge(it(new Date(T),g.timeUnit,1,o._df.utc),g.timeUnit,1,o._df.firstDayOfWeek,o._df.utc,void 0,o._df.timezoneMinutes,o._df.timezone).getTime(),D<v&&(v=D),T>b&&(b=T)}),this.groupMin[m]=v,this.groupMax[m]=b),e=B(e,v,b),t=B(t,v,b),s&&(d&&(e=B(e=t-c,v,b)),p&&(t=B(t=e+c,v,b))),this.zoom({start:h=(e-v)/(b-v),end:u=(t-v)/(b-v)},r,n)}}else{var h=this.valueToPosition(e),u=this.valueToPosition(t);this.zoom({start:h,end:u},r,n)}},i.prototype.asIs=function(e){return"baseInterval"==e||a.prototype.asIs.call(this,e)},i.prototype.copyFrom=function(e){var t=this;a.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(r){t.groupIntervals.push((0,w.pi)({},r))}),this.gridIntervals.clear(),e.gridIntervals.each(function(r){t.gridIntervals.push((0,w.pi)({},r))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},i.prototype.showTooltipAtPosition=function(e,t){var r=this;if(t||(e=this.toAxisPosition(e)),this.snapTooltip){var o,s=this.positionToDate(e).getTime();if(this.series.each(function(c){if(c.baseAxis==r){var d=r.getSeriesDataItem(c,e,!0);if(d){var p=void 0;c.xAxis==r&&(p=d.dateX),c.yAxis==r&&(p=d.dateY),o?Math.abs(o.getTime()-s)>Math.abs(p.getTime()-s)&&(o=p):o=p}}}),o){var h=o.getTime();o=Ge(new Date(h),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),h=o.getTime();var u=this.renderer.tooltipLocation;0==u&&(u=1e-4),o=new Date(o.getTime()+this.baseDuration*u),e=this.dateToPosition(o),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(c){var d=c.dataItemsByAxis.getKey(r.uid).getKey(h+c.currentDataSetId),p=c.showTooltipAtDataItem(d);p?r.chart._seriesPoints.push({series:c,point:p}):(c.tooltipText||c.tooltipHTML)&&c.hideTooltip()})}}a.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(i.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var t=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(r){r.setDataSet(""),e&&!r.dataGrouped&&r.inited&&(r._baseInterval[t.uid]=t.mainBaseInterval,t.groupSeriesData(r))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),i.prototype.makeGap=function(e,t){var r=e.component;if(e&&t&&!r.connect&&y(r.autoGapCount)&&r.baseAxis==this){var n=e.dates["date"+this.axisLetter],s=t.dates["date"+this.axisLetter];if(n&&s&&n.getTime()-s.getTime()>r.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(i.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),i.prototype._saveMinMax=function(e,t){var r=this.groupInterval;r||(r=this.mainBaseInterval);var n=r.timeUnit+r.count;this._intervalMin[n]=e,this._intervalMax[n]=t},i}(te);C.registeredClasses.DateAxis=Se,C.registeredClasses.DateAxisDataItem=dh;var qt=function(a){function i(){var e=a.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=R(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.setAxis=function(e){a.prototype.setAxis.call(this,e),e.layout="vertical"},i.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.x=e.pixelX,t.width=e.axisLength}},i.prototype.processRenderer=function(){a.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof ae||(e.width=R(100));var t=e.title;t.rotation=0,t.align="center",this.opposite?(this.line.toFront(),t.toBack()):(t.toFront(),this.toBack(),this.line.toBack())}},i.prototype.updateTooltip=function(){if(this.axis){var t=1e3,n=this.line.pixelY,o=t;this.opposite?this.inside||(n=-t,o=t):this.inside&&(n=-t,o=t),this.axis.updateTooltip("vertical",{x:this.line.pixelX,y:n,width:this.axisLength,height:o})}},i.prototype.updateLabelElement=function(e,t,r,n){x(n)||(n=e.location);var s=this.positionToPoint(t+=(r-t)*n);e.isMeasured=!e.inside;var h,o=0,u=this.gridContainer.maxHeight;this.opposite?(e.inside?(h="top","bottom"==e.valign&&(o=u,h="bottom"),"middle"==e.valign&&(o=u/2,h="middle")):h="bottom",s.y=o):(e.inside?(h="bottom","top"==e.valign&&(o=-u,h="top"),"middle"==e.valign&&(o=-u/2,h="middle")):h="top",s.y+=o),0==e.rotation&&(e.verticalCenter=h),this.positionItem(e,s),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(i.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e,t){return{x:this.positionToCoordinate(e),y:0}},i.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},i.prototype.getPositionRangePath=function(e,t){var r=B(this.positionToCoordinate(e),0,this.axisLength),n=B(this.positionToCoordinate(t),0,this.axisLength),s=Math.abs(n-r),o=this.getHeight();return si({x:Math.min(r,n),y:0,width:s,height:o},!0)},i.prototype.updateBreakElement=function(e){a.prototype.updateBreakElement.call(this,e);var t=e.startLine,r=e.endLine,n=e.fillShape,s=e.startPoint,o=e.endPoint,h=e.pixelMarginLeft,u=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;s.x=B(s.x,-1,this.axisLength+1),o.x=B(o.x,-1,this.axisLength+1),e.fillShape.__disabled=s.x==o.x&&(s.x<0||s.x>this.axisLength),t.y=h,t.width=0,t.height=u,r.y=h,r.width=0,r.height=u,n.height=u,n.width=Math.abs(o.x-s.x),n.y=h,n.x=s.x},i.prototype.updateGridElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);e.path=N({x:0,y:0})+M({x:0,y:this.getHeight()}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateTickElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location),s=e.length;n.y=ht({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,s*=this.opposite?e.inside?1:-1:e.inside?-1:1,e.path=N({x:0,y:0})+M({x:0,y:s}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateAxisLine=function(){this.line.path=N({x:0,y:0})+M({x:this.axisLength,y:0})},i.prototype.updateBaseGridElement=function(){a.prototype.updateBaseGridElement.call(this);var e=this.axis,t=this.getHeight(),n=this.baseGrid,s=e.basePoint.x;if(s<-.2||s>this.axisLength+.2)n.hide(0);else{var o=ht({x:0,y:0},this.gridContainer,n.parent).y;n.path=N({x:0,y:0})+M({x:0,y:t}),n.moveTo({x:s,y:o}),n.show(0)}},i.prototype.createBreakSprites=function(e){e.startLine=new Ci,e.endLine=new Ci;var t=new Kl;t.setWavedSides(!1,!0,!1,!0),e.fillShape=t},i.prototype.toAxisPosition=function(e){var t=e,r=this.axis;if(r){var n=r.relativePositionSprite,s=r.pixelX;if(n?s=ht({x:this.pixelX,y:0},this.parent,n).x:n=r.parent,n)return(t-s/n.innerWidth)/(r.axisLength/n.innerWidth)}return e},i.prototype.updateBullet=function(e,t,r){var n=.5;e instanceof Fr&&(n=e.location);var s=this.positionToPoint(t+=(r-t)*n);s.y=ht({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,s),this.toggleVisibility(e,t,0,1)},i}(za);C.registeredClasses.AxisRendererX=qt,Ke.push({relevant:et.heightXS,state:function(a,i){if(a instanceof qt){var e=a.states.create(i);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),Ke.push({relevant:et.heightXXS,state:function(a,i){if(a instanceof qt){var e=a.states.create(i);return e.properties.disabled=!0,e}return null}});var ph=function(a){function i(){var e=a.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),i}(Ua);C.registeredClasses.CategoryAxisBreak=ph;var fh=function(a){function i(){var e=a.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var t=this.properties.category;this.setProperty("category",e),x(t)&&t!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),i}(kr),Te=function(a){function i(){var e=a.call(this)||this;e.dataItemsByCategory=new be,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var t=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(r){t.removeKey(r.oldValue.category)})),e}return(0,w.ZT)(i,a),i.prototype.createDataItem=function(){return new fh},i.prototype.createAxisBreak=function(){return new ph},i.prototype.processSeriesDataItem=function(e,t){a.prototype.processSeriesDataItem.call(this,e,t);var r=e["category"+this.axisLetter];if(x(r)){var n=this.dataItemsByCategory.getKey(r);if(n){var s=e.component.uid,o=n.seriesDataItems[s];o||(n.seriesDataItems[s]=o=[]),o.push(e)}}else e.component.dataItems.remove(e)},i.prototype.validateDataRange=function(){var e=this;a.prototype.validateDataRange.call(this),I(this._series.iterator(),function(t){if(t.xAxis instanceof i&&t.yAxis instanceof i)t.invalidateDataRange();else{var r=e.positionToIndex(e.start),n=e.positionToIndex(e.end);n>=e.dataItems.length&&n--;for(var s=t.uid,o=void 0,h=void 0,u=r;u<=n;u++){var c=e.dataItems.getIndex(u);if(c){var d=c.seriesDataItems[s];if(d)for(var p=0;p<d.length;p++){var f=d[p];if(f){var g=f.index;(!y(o)||g<o)&&(o=g),(!y(h)||g>h)&&(h=g)}}}}y(o)?t.startIndex=o:t.start=e.start,y(h)?t.endIndex=h+1:t.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&t.invalidateDataRange()}})},i.prototype.validate=function(){var e=this;a.prototype.validate.call(this);var t=this.dataItems.length,r=B(Math.floor(this.start*t-1),0,t),n=B(Math.ceil(this.end*t),0,t);this.renderer.invalid&&this.renderer.validate();var s=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((n-r)/s));if(this._startIndex=Math.floor(r/o)*o,this._endIndex=Math.ceil(this.end*t),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=Q(0,this._startIndex-this._frequency),n=se(this.dataItems.length,this._endIndex+this._frequency);for(var h=0,u=0;u<r;u++)(c=this.dataItems.getIndex(u)).__disabled=!0;u=n;for(var d=this.dataItems.length;u<d;u++)(c=this.dataItems.getIndex(u)).__disabled=!0;for(u=r;u<n;u++)if(u<this.dataItems.length){var c=this.dataItems.getIndex(u);u/this._frequency==Math.round(u/this._frequency)?(this.isInBreak(u)||(this.appendDataItem(c),this.validateDataElement(c,h)),h++):c.__disabled=!0}this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,h+1,this.dataItems.length),this._axisBreaks&&this._axisBreaks.each(function(g){var m=g.adjustedStartValue,v=g.adjustedEndValue;if(ra({start:m,end:v},{start:e._startIndex,end:e._endIndex})){for(var b=m;b<=v;b++)(_=e.dataItems.getIndex(b)).__disabled=!0;var P=B(Math.ceil(e._frequency/g.breakSize),1,v-m),S=0;if(g.breakSize>0)for(b=m;b<=v;b+=P){var _;(_=e.dataItems.getIndex(b)).__disabled=!1,e.appendDataItem(_),e.validateDataElement(_,S),S++}}}),this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},i.prototype.validateDataElement=function(e,t,r){a.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var n=this.renderer;y(r)||(r=this.categoryToIndex(e.category));var s=this.categoryToIndex(e.endCategory);y(s)||(s=r);var u,c,d,o=this.indexToPosition(r,e.locations.category),h=this.indexToPosition(s,e.locations.endCategory);e.position=o,e.isRange&&(u=s,c=this.indexToPosition(r,e.locations.category),d=this.indexToPosition(u,e.locations.endCategory)),e.point=n.positionToPoint(o);var p=e.tick;p&&!p.disabled&&n.updateTickElement(p,o,h);var f=e.grid;f&&!f.disabled&&n.updateGridElement(f,o,h);var g=e.label;g&&!g.disabled&&((!e.isRange||null==g.text)&&(e.text=e.text),n.updateLabelElement(g,o,h),(n instanceof Ot&&e.label.measuredWidth>this.ghostLabel.measuredWidth||n instanceof qt&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var m=e.axisFill;m&&!m.disabled&&(e.isRange||(u=r+this._frequency,c=this.indexToPosition(r,m.location),d=this.indexToPosition(u,m.location)),n.updateFillElement(m,c,d),e.isRange||this.fillRule(e,t)),e.bullet&&n.updateBullet(e.bullet,o,h);var v=e.mask;v&&n.updateFillElement(v,c,d)},i.prototype.disposeData=function(){this.dataItemsByCategory.clear(),a.prototype.disposeData.call(this)},i.prototype.processDataItem=function(e,t){e&&(a.prototype.processDataItem.call(this,e,t),x(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},i.prototype.getDataItem=function(e){var t=e[this.dataFields.category];if(x(t))return this.dataItemsByCategory.getKey(t)||this.dataItems.create()},i.prototype.indexToPosition=function(e,t){y(t)||(t=.5);var r=this.startIndex,n=this.endIndex,s=this.adjustDifference(r,n),o=this.startLocation;s-=o,s-=1-this.endLocation,this._axisBreaks&&ft(this._axisBreaks.iterator(),function(p){var f=p.adjustedStartValue,g=p.adjustedEndValue;if(e<r||!y(f)||!y(g))return!1;if(ra({start:f,end:g},{start:r,end:n})){f=Math.max(r,f),g=Math.min(n,g);var m=p.breakSize;e>g?r+=(g-f)*(1-m):e<f||(e=f+(e-f)*m)}return!0});var c=0,d=this.dataItems.getIndex(e);return d&&(c=d.deltaPosition),F(c+(e+t-o-r)/s,5)},i.prototype.categoryToPosition=function(e,t){var r=this.categoryToIndex(e);return this.indexToPosition(r,t)},i.prototype.categoryToPoint=function(e,t){var r=this.categoryToPosition(e,t),n=this.renderer.positionToPoint(r),s=this.renderer.positionToAngle(r);return{x:n.x,y:n.y,angle:s}},i.prototype.anyToPoint=function(e,t){return this.categoryToPoint(e,t)},i.prototype.anyToPosition=function(e,t){return this.categoryToPosition(e,t)},i.prototype.categoryToIndex=function(e){if(x(e)){var t=this.dataItemsByCategory.getKey(e);if(t)return t.index}},i.prototype.zoomToCategories=function(e,t){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1)},i.prototype.getAnyRangePath=function(e,t,r,n){var s=this.categoryToPosition(e,r),o=this.categoryToPosition(t,n);return this.getPositionRangePath(s,o)},i.prototype.roundPosition=function(e,t){var r=this.positionToIndex(e);return this.indexToPosition(r,t)},i.prototype.getFirstSeriesDataItem=function(e,t){for(var r=0;r<e.dataItems.length;r++){var n=e.dataItems.getIndex(r);if(e.xAxis==this&&n.categoryX==t||e.yAxis==this&&n.categoryY==t)return n}},i.prototype.getLastSeriesDataItem=function(e,t){for(var r=e.dataItems.length-1;r>=0;r--){var n=e.dataItems.getIndex(r);if(e.xAxis==this&&n.categoryX==t||e.yAxis==this&&n.categoryY==t)return n}},i.prototype.getSeriesDataItemByCategory=function(e,t){var n,r=this;return t.dataItems.each(function(s){t.xAxis==r?s.categoryX==e&&(n=s):t.yAxis==r&&s.categoryY==e&&(n=s)}),n},i.prototype.getSeriesDataItem=function(e,t,r){var n=this;if(y(t)){var s=this.positionToIndex(t);s>=this.dataItems.length&&s--;var o=this.dataItems.getIndex(s);if(o){var u,h=o.category,c=e.dataItems.getIndex(s);return c&&(e.xAxis==this&&c.categoryX==h||e.yAxis==this&&c.categoryY==h)?c:(e.dataItems.each(function(d){e.xAxis==n&&d.categoryX==h&&(u||(u=d),Math.abs(s-u.index)>Math.abs(s-d.index)&&(u=d)),e.yAxis==n&&d.categoryY==h&&(u||(u=d),Math.abs(s-u.index)>Math.abs(s-d.index)&&(u=d))}),u)}}},i.prototype.getX=function(e,t,r,n,s){var o=this.getPositionX(e,t,r,n,s);return Ue(o)?this.basePoint.x:this.renderer.positionToPoint(o).x},i.prototype.getPositionX=function(e,t,r,n,s){var o;return x(t)&&(o=this.categoryToPosition(e.categories[t],r)),s&&(o=B(o,s.start,s.end)),o},i.prototype.getY=function(e,t,r,n,s){var o=this.getPositionY(e,t,r,n,s);return Ue(o)?this.basePoint.y:this.renderer.positionToPoint(o).y},i.prototype.getPositionY=function(e,t,r,n,s){var o;return x(t)&&(o=this.categoryToPosition(e.categories[t],r)),s&&(o=B(o,s.start,s.end)),o},i.prototype.getAngle=function(e,t,r,n,s){var o=this.categoryToPosition(e.categories[t],r);return s&&(o=B(o,s.start,s.end)),this.positionToAngle(o)},i.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},i.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},i.prototype.getTooltipText=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return this.tooltipDataItem=t,this.tooltip.dataItem=t,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",t.category):t.category},i.prototype.positionToIndex=function(e){(e=F(e,10))<0&&(e=0),e>1&&(e=1);var t=this.startIndex,r=this.endIndex,n=r-t-this.startLocation-(1-this.endLocation);e+=1/n*this.startLocation;var s=null;return this._axisBreaks&&ft(this._axisBreaks.iterator(),function(h){var u=h.startPosition,c=h.endPosition,d=h.adjustedStartValue,p=h.adjustedEndValue;d=Q(d,t),p=se(p,r);var f=h.breakSize;if(n-=(p-d)*(1-f),e>c)t+=(p-d)*(1-f);else if(!(e<u))return s=d+Math.round((e-u)/(c-u)*(p-d)),!1;return!0}),y(s)||(s=Math.floor(e*n+t)),s>=this.dataItems.length&&(s=this.dataItems.length-1),s},i.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},i.prototype.getPositionLabel=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return t.category},Object.defineProperty(i.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),i.prototype.initRenderer=function(){a.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(i.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){e&&x(e.sortBySeries)&&ne(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),a.prototype.processConfig.call(this,e)},i}(Wa);C.registeredClasses.CategoryAxis=Te,C.registeredClasses.CategoryAxisDataItem=fh;var Xa=function(a){function i(){var e=a.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),i.prototype.getMin=function(e,t,r){var s,n=this;return y(r)||(r=0),j(e,function(o){var h;h=t?n.getWorkingValue(o):n.getValue(o),((h+=r)<s||!y(s))&&(s=h)}),s},i.prototype.getMax=function(e,t,r){var s,n=this;return y(r)||(r=0),j(e,function(o){var h;h=t?n.getWorkingValue(o):n.getValue(o),((h+=r)>s||!y(s))&&(s=h)}),s},i}(Ha),Pi=function(a){function i(){var e=a.call(this)||this;return e.groupFields={},e._xAxis=new He,e._yAxis=new He,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new ee,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Me,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},i.prototype.createDataItem=function(){return new Xa},i.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},i.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},i.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(this.usesShowFields=!!(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow),this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),a.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!x(this.dataFields[this._xField])||!x(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},i.prototype.processDataItem=function(e,t){try{a.prototype.processDataItem.call(this,e,t),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(r){this._chart&&this._chart.raiseCriticalError(r)}},i.prototype.updateDataItem=function(e){a.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},i.prototype.setInitialWorkingValues=function(e){},i.prototype.disposeData=function(){a.prototype.disposeData.call(this);var e=this.xAxis,t=this.yAxis;if(e){var r=this.dataItemsByAxis.getKey(e.uid);r&&r.clear(),e instanceof Te&&this.clearCatAxis(e)}if(t){var n=this.dataItemsByAxis.getKey(t.uid);n&&n.clear(),t instanceof Te&&this.clearCatAxis(t)}},i.prototype.clearCatAxis=function(e){var t=this.uid;e.dataItems.each(function(r){r.seriesDataItems[t]&&(r.seriesDataItems[t]=[])})},i.prototype.defineFields=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){var r=e.axisFieldName,n=r+"X",s="open"+ma(r)+"X",o=t.axisFieldName,h=o+"Y",u="open"+ma(o)+"Y";this._xField=n,this._yField=h,this.dataFields[s]&&(this._xOpenField=s),this.dataFields[u]&&(this._yOpenField=u),!this.dataFields[u]&&this.baseAxis==t&&(this._yOpenField=h),!this.dataFields[s]&&this.baseAxis==e&&(this._xOpenField=n),this.stacked&&this.baseAxis==e&&(this._xOpenField=n),this.stacked&&this.baseAxis==t&&(this._yOpenField=h),e instanceof Te&&t instanceof Te&&(this._yOpenField||(this._yOpenField=h)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(t,this._yValueFields,this._yField),this.addValueField(t,this._yValueFields,this._yOpenField)}},i.prototype.addValueField=function(e,t,r){e instanceof te&&x(this.dataFields[r])&&-1==t.indexOf(r)&&t.push(r)},i.prototype.setCategoryAxisField=function(e,t){x(this.dataFields[e])||(this.dataFields[e]=t.dataFields.category)},i.prototype.setDateAxisField=function(e,t){x(this.dataFields[e])||(this.dataFields[e]=t.dataFields.date)},i.prototype.afterDraw=function(){a.prototype.afterDraw.call(this),this.createMask()},i.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();I(this.axisRanges.iterator(),function(t){t.axisFill.fillPath&&(t.axisFill.validate(),e+=t.axisFill.fillPath)}),this.mainContainer.mask.path=e}},i.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?si({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},i.prototype.getAxisField=function(e){return e==this.xAxis?this.xField:e==this.yAxis?this.yField:void 0},i.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=Q(1e5,2*e.plotContainer.maxWidth),this._maxxY=Q(1e5,2*e.plotContainer.maxHeight));var t=this.xAxis,r=this.yAxis;t&&r&&(t.updateAxisBySeries(),r.updateAxisBySeries()),a.prototype.validateDataItems.call(this),t&&r&&(t.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},i.prototype.validateDataRange=function(){var e=this.xAxis,t=this.yAxis;e&&t&&(e.dataRangeInvalid&&e.validateDataRange(),t.dataRangeInvalid&&t.validateDataRange()),a.prototype.validateDataRange.call(this)},i.prototype.validate=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){e.invalid&&e.validate(),t.invalid&&t.validate(),this.y=t.pixelY,this.x=e.pixelX,this._showBullets=!0;var r=this.minBulletDistance;y(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof Se&&e.groupData&&!this.dataGrouped||t instanceof Se&&t.groupData&&!this.dataGrouped)){a.prototype.validate.call(this);var n=this.chart;n&&this.maskBullets&&"XYChart"==n.className&&(("vertical"==n.leftAxesContainer.layout||"vertical"==n.rightAxesContainer.layout)&&(this.bulletsContainer.mask=this.yAxis?this.yAxis.renderer.gridContainer:void 0),("horizontal"==n.topAxesContainer.layout||"horizontal"==n.bottomAxesContainer.layout)&&(this.bulletsContainer.mask=this.xAxis?this.xAxis.renderer.gridContainer:void 0))}},Object.defineProperty(i.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),i.prototype.setXAxis=function(e){var t=this._xAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._xAxis.dispose(),t.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new be),this.invalidateData())},Object.defineProperty(i.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),i.prototype.setYAxis=function(e){var t=this._yAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._yAxis.dispose(),t.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof Dt&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new be),this.invalidateData())},Object.defineProperty(i.prototype,"baseAxis",{get:function(){var e=this.xAxis,t=this.yAxis;return!this._baseAxis&&e&&t&&(t instanceof Se&&(this._baseAxis=t),e instanceof Se&&(this._baseAxis=e),t instanceof Te&&(this._baseAxis=t),e instanceof Te&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.addData=function(e,t,r){a.prototype.addData.call(this,e,t,r),this.scrollbarSeries&&(this.scrollbarSeries.addData(e,t,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},i.prototype.setData=function(e){a.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},i.prototype.setDataSet=function(e){var t=a.prototype.setDataSet.call(this,e);if(t){this._dataSetChanged=!0;var r=this.dataItems;if(this.resetExtremes(),r&&r.length>0){var n=this.xAxis,s=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),n instanceof Se&&n==this.baseAxis&&(this._tmin.setKey(n.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(n.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),s instanceof Se&&s==this.baseAxis&&(this._tmin.setKey(s.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(s.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return t},i.prototype.processValues=function(e){a.prototype.processValues.call(this,e);var t=this.xAxis,r=this.yAxis;if(t&&r){var n=this.dataItems,s=1/0,o=-1/0,h=1/0,u=-1/0,c=this.startIndex,d=this.endIndex,p=c,f=d;e||(c=0,d=this.dataItems.length);for(var g=c;g<d;g++){var m=n.getIndex(g);this.getStackValue(m,e);var v=m.getValue("valueX","stack"),b=m.getValue("valueY","stack");e||(v=m.getValue("valueX","stackTrue"),b=m.getValue("valueY","stackTrue")),s=se(m.getMin(this._xValueFields,e,v),s),h=se(m.getMin(this._yValueFields,e,b),h),o=Q(m.getMax(this._xValueFields,e,v),o),u=Q(m.getMax(this._yValueFields,e,b),u),this.stacked&&(this.baseAxis==t&&(b<h&&(h=b),b>u&&(u=b)),this.baseAxis==r&&(v<s&&(s=v),v>o&&(o=v)))}t.processSeriesDataItems(),r.processSeriesDataItems();var _=t.uid,P=r.uid;if(this.xAxis instanceof te&&(s==1/0||o==-1/0))return this._smin.setKey(_,void 0),this._smax.setKey(_,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof te&&(h==1/0||u==-1/0))return this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),void this.dispatchImmediately("selectionextremeschanged");if(!e&&(this._tmin.getKey(_)!=s||this._tmax.getKey(_)!=o||this._tmin.getKey(P)!=h||this._tmax.getKey(P)!=u)){this._tmin.setKey(_,s),this._tmax.setKey(_,o),this._tmin.setKey(P,h),this._tmax.setKey(P,u);var S=this.stackedSeries;S&&(S.isDisposed()?this.stackedSeries=void 0:S.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(c!=p||d!=f)for(s=1/0,o=-1/0,h=1/0,u=-1/0,g=p;g<f;g++)m=n.getIndex(g),this.getStackValue(m,e),v=m.getValue("valueX","stack"),b=m.getValue("valueY","stack"),e||(v=m.getValue("valueX","stackTrue"),b=m.getValue("valueY","stackTrue")),s=se(m.getMin(this._xValueFields,e,v),s),h=se(m.getMin(this._yValueFields,e,b),h),o=Q(m.getMax(this._xValueFields,e,v),o),u=Q(m.getMax(this._yValueFields,e,b),u),this.stacked&&(this.baseAxis==t&&(b<h&&(h=b),b>u&&(u=b)),this.baseAxis==r&&(v<s&&(s=v),v>o&&(o=v)));if(this.xAxis instanceof te&&(s==1/0||o==-1/0))return this._smin.setKey(_,void 0),this._smax.setKey(_,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof te&&(h==1/0||u==-1/0))return this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),void this.dispatchImmediately("selectionextremeschanged");if((this._smin.getKey(_)!=s||this._smax.getKey(_)!=o||this._smin.getKey(P)!=h||this._smax.getKey(P)!=u)&&(this._smin.setKey(_,s),this._smax.setKey(_,o),this._smin.setKey(P,h),this._smax.setKey(P,u),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var T,A,D=!1;r instanceof te&&!(r instanceof Se)&&((!y(T=this._tmin.getKey(P))||(this.usesShowFields||this._dataSetChanged||t instanceof Se&&t.groupData&&this.isShowing)&&h<T||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(P,h),D=!0),(!y(A=this._tmax.getKey(P))||(this.usesShowFields||this._dataSetChanged||t instanceof Se&&t.groupData&&this.isShowing)&&u>A||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(P,u),D=!0)),t instanceof te&&!(t instanceof Se)&&((!y(T=this._tmin.getKey(_))||(this.usesShowFields||this._dataSetChanged||r instanceof Se&&r.groupData&&this.isShowing)&&s<T||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(_,s),D=!0),(!y(A=this._tmax.getKey(_))||(this.usesShowFields||this._dataSetChanged||r instanceof Se&&r.groupData&&this.isShowing)&&o>A||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(_,o),D=!0)),D&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},i.prototype.hideTooltip=function(e){a.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},i.prototype.showTooltipAtPosition=function(e,t){var r;if(this.visible&&!this.isHiding&&!this.isShowing){var n=this._xAxis.get(),s=this._yAxis.get();n==this.baseAxis&&(r=n.getSeriesDataItem(this,n.toAxisPosition(e),this.snapTooltip)),s==this.baseAxis&&(r=s.getSeriesDataItem(this,s.toAxisPosition(t),this.snapTooltip));var o=this.showTooltipAtDataItem(r);if(o)return o;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},i.prototype.getAdjustedXLocation=function(e,t,r){return e.locations[t]},i.prototype.getAdjustedYLocation=function(e,t,r){return e.locations[t]},i.prototype.showTooltipAtDataItem=function(e){var t,r,n=this.chart.cursor;if(n&&n.hideSeriesTooltipsOnSelection&&n.selection.visible&&n.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var s=this.tooltipXField,o=this.tooltipYField;if(x(e[s])&&x(e[o])){var h=this.getPoint(e,s,o,this.getAdjustedXLocation(e,s),this.getAdjustedYLocation(e,o));if(h&&("XYChart"!=this.chart.className||!(h.y<-1||h.y>this.yAxis.pixelHeight+1||h.x<-1||h.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=h.x,this.tooltipY=h.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var u=(0,w.XA)(e.sprites),c=u.next();!c.done;c=u.next()){var d=c.value;!d.parent.visible||d.isHidden||d.__disabled||d.disabled||d.isHiding||(d.interactions.isRealHover||(d.dispatchImmediately("over"),d.interactions.isRealHover=!0),d.isHover=!0)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return this.showTooltip()?wt({x:h.x,y:h.y},this):void 0}}}}else this.updateLegendValue(e,!0)},i.prototype.returnBulletDefaultState=function(e){var t,r;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var n=(0,w.XA)(this._prevTooltipDataItem.sprites),s=n.next();!s.done;s=n.next()){var o=s.value;if(o.isDisposed())this._prevTooltipDataItem=void 0;else{var h=o.interactions.isRealHover;o.isHover=!1,h&&o.dispatchImmediately("out")}}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},i.prototype.shouldCreateBullet=function(e,t){var r=t.xField;x(r)||(r=this.xField);var n=t.yField;if(x(n)||(n=this.yField),this.xAxis instanceof te&&!e.hasValue([r])||this.yAxis instanceof te&&!e.hasValue([n]))return!1;if(t.disabled){var o=e.dataContext;return!(!o||!1!==o[t.propertyFields.disabled])}return!0},i.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},i.prototype.positionBullet=function(e){a.prototype.positionBullet.call(this,e);var t=e.dataItem,r=e.xField;x(r)||(r=this.xField);var n=e.yField;x(n)||(n=this.yField);var s=this.xAxis,o=this.yAxis;if(s instanceof te&&!t.hasValue([r])||o instanceof te&&!t.hasValue([n]))e.visible=!1;else{var h=this.getBulletLocationX(e,r),u=this.getBulletLocationY(e,n);if(this.getPoint(t,r,n,h,u)){var d=this.xOpenField,p=this.yOpenField,f=void 0,g=void 0;if(s instanceof Se){y(h)||(h=0);var m=void 0,v=t.getWorkingValue(r);if(d?m=t.getWorkingValue(d):s==this.baseAxis&&(m=s.baseValue),y(m)||(m=v),(m+=b=t.getValue("valueX","stack"))==(v+=b)){var _=s.baseInterval,P=s.dateFormatter;m=Ge(new Date(m),_.timeUnit,_.count,P.firstDayOfWeek,P.utc,void 0,P.timezoneMinutes,P.timezone).getTime(),v=it(new Date(m),_.timeUnit,_.count,P.utc).getTime()}f=s.valueToPosition(s==this.baseAxis?m+(v-m)*h:m+(v-m)*(1-h))}else if(s instanceof te)y(h)||(h=0),m=void 0,v=t.getWorkingValue(r),m=d?t.getWorkingValue(d):s.baseValue,m+=b=t.getValue("valueX","stack"),f=s.valueToPosition(m+((v+=b)-m)*(1-h));else if(s instanceof Te){var D=this.getAdjustedXLocation(t,r,e.locationX),T=this.getAdjustedXLocation(t,d,e.locationX);f=s.categoryToPosition(t[r],D);var A=void 0;d&&(A=s.categoryToPosition(t[d],T)),y(A)||(A=1),f=A+(f-A)*h}if(o instanceof Se)y(u)||(u=0),m=void 0,v=t.getWorkingValue(n),p?m=t.getWorkingValue(p):o==this.baseAxis&&(m=o.baseValue),y(m)||(m=v),(m+=b=t.getValue("valueY","stack"))==(v+=b)&&(_=o.baseInterval,P=o.dateFormatter,m=Ge(new Date(m),_.timeUnit,_.count,P.firstDayOfWeek,P.utc,void 0,P.timezoneMinutes,P.timezone).getTime(),v=it(new Date(m),_.timeUnit,_.count,P.utc).getTime()),g=o.valueToPosition(o==this.baseAxis?m+(v-m)*u:m+(v-m)*(1-u));else if(o instanceof te){var b;y(u)||(u=0),m=void 0,v=t.getWorkingValue(n),m=p?t.getWorkingValue(p):o.baseValue,m+=b=t.getValue("valueY","stack"),g=o.valueToPosition(m+((v+=b)-m)*(1-u))}else if(o instanceof Te){g=o.categoryToPosition(t[n],u);var O=this.getAdjustedYLocation(t,n,e.locationY),k=this.getAdjustedYLocation(t,p,e.locationY);g=o.categoryToPosition(t[n],O);var X=void 0;p&&(X=o.categoryToPosition(t[p],k)),y(X)||(X=1),g=X+(g-X)*u}e.visible=!0,this.positionBulletReal(e,f,g)}else e.visible=!1}},i.prototype.positionBulletReal=function(e,t,r){e.x=this.xAxis.renderer.positionToPoint(t,r).x,e.y=this.yAxis.renderer.positionToPoint(r,t).y},i.prototype.getBulletLocationX=function(e,t){var r=e.locationX,n=e.dataItem;return y(r)||(r=n.workingLocations[t]),r},i.prototype.getBulletLocationY=function(e,t){var r=e.locationY,n=e.dataItem;return y(r)||(r=n.workingLocations[t]),r},i.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(t){t.baseAxis==e.baseAxis&&(t.stackedSeries=void 0,t.invalidateDataItems(),t.invalidateProcessedData())})},Object.defineProperty(i.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var n,t=this.xAxis,r=this.yAxis;e||(t!=this.baseAxis&&t instanceof te&&(n=this.xField),r!=this.baseAxis&&r instanceof te&&(n=this.yField),n&&this.dataItems.each(function(s){s.setCalculatedValue(n,0,"stack"),s.setCalculatedValue(n,0,"stackTrue")}))}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),i.prototype.show=function(e){var r,t=this;this.isHidden&&(this.appeared&&this.xAxis instanceof Se&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof Se&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0))),this.xAxis instanceof te&&this.xAxis!=this.baseAxis&&(r=this._xValueFields),this.yAxis instanceof te&&this.yAxis!=this.baseAxis&&(r=this._yValueFields);var u,n=this.startIndex,s=this.endIndex,o=0,h=this.defaultState.transitionDuration;y(e)&&(h=e),ie.animationsEnabled||(h=0),I(fi(this.dataItems.iterator()),function(d){var p=d[0],g=h;(p<t.startIndex-10||p>t.endIndex+10)&&(g=0,o=0),t.sequencedInterpolation&&g>0&&(o=t.sequencedInterpolationDelay*p+h*(p-n)/(s-n)),u=d[1].show(g,o,r)}),this.dataSets.each(function(d,p){p!=t.dataItems&&p.each(function(f){f.events.disable(),f.show(0,0,r),f.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(d){d.events.disable(),d.show(0,0,r),d.events.enable()});var c=a.prototype.show.call(this,e);return u&&!u.isFinished()&&(c=u),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),c},i.prototype.hide=function(e){var r,n,t=this,s=this.xAxis;s instanceof te&&s!=this.baseAxis&&(r=this._xValueFields,n=this.stacked||s.minZoomed<s.baseValue&&s.maxZoomed>s.baseValue||this.stackedSeries?s.baseValue:s.min);var o=this.yAxis;o instanceof te&&o!=this.baseAxis&&(r=this._yValueFields,n=this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?o.baseValue:o.min);var h=this.startIndex,u=this.endIndex,c=this.hiddenState.transitionDuration;y(e)&&(c=e),ie.animationsEnabled||(c=0);var p,d=0;I(fi(this.dataItems.iterator()),function(g){var m=g[0],v=g[1],b=c;(m<t.startIndex-10||m>t.endIndex+10)&&(b=0),0==b?v.hide(0,0,n,r):(t.sequencedInterpolation&&b>0&&(d=t.sequencedInterpolationDelay*m+c*(m-h)/(u-h)),p=v.hide(b,d,n,r))}),this.dataSets.each(function(g,m){m!=t.dataItems&&m.each(function(v){v.events.disable(),v.hide(0,0,n,r),v.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(g){g.events.disable(),g.hide(0,0,n,r),g.events.enable()});var f=a.prototype.hide.call(this,c);return f&&!f.isFinished()&&f.delay(d),p&&!p.isFinished()&&(f=p),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),f},i.prototype.handleDataItemWorkingValueChange=function(e,t){a.prototype.handleDataItemWorkingValueChange.call(this,e,t),I(this.baseAxis.series.iterator(),function(n){(n.stacked||n.stackedSeries)&&n.invalidateProcessedData()})},i.prototype.getStackValue=function(e,t){var r=this,n=this.xAxis,s=this.yAxis;if(this.stacked&&n&&s){var u,o=this.chart,h=o.series.indexOf(this);if(n!=this.baseAxis&&n instanceof te&&(u=this.xField),s!=this.baseAxis&&s instanceof te&&(u=this.yField),!u)return;e.setCalculatedValue(u,0,"stack"),e.setCalculatedValue(u,0,"stackTrue"),ft(o.series.range(0,h).backwards().iterator(),function(c){if(c.xAxis==n&&c.yAxis==s&&c.className==r.className){c.stackedSeries=r;var d=c.dataItems.getIndex(e.index);if(d&&d.hasValue(r._xValueFields)&&d.hasValue(r._yValueFields)){var f,p=e.getValue(u),g=d.getValue(u,"stackTrue");null==g&&(g=0);var m=d.getValue(u)+g;if(f=d.getWorkingValue(u)+d.getValue(u,"stack"),!r.stackToNegative)return e.setCalculatedValue(u,f,"stack"),e.setCalculatedValue(u,m,"stackTrue"),!1;if(p>=0&&m>=0||p<0&&m<0)return e.setCalculatedValue(u,f,"stack"),e.setCalculatedValue(u,m,"stackTrue"),!1;if(!c.stacked)return!1}else if(!c.stacked)return!1}return!0})}},Object.defineProperty(i.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),i.prototype.min=function(e){return this._tmin.getKey(e.uid)},i.prototype.max=function(e){return this._tmax.getKey(e.uid)},i.prototype.selectionMin=function(e){return this._smin.getKey(e.uid)},i.prototype.selectionMax=function(e){return this._smax.getKey(e.uid)},i.prototype.processConfig=function(e){if(e){if(x(e.baseAxis)&&ne(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),x(e.xAxis)&&ne(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),x(e.yAxis)&&ne(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),x(e.axisRanges)&&Ee(e.axisRanges))for(var t=0,r=e.axisRanges.length;t<r;t++){var n=e.axisRanges[t];x(n.type)||(n.type="AxisDataItem"),x(n.axis)&&ne(n.axis)&&this.map.hasKey(n.axis)?n.component=this.map.getKey(n.axis):x(n.component)&&ne(n.component)&&this.map.hasKey(n.component)&&(n.component=this.map.getKey(n.component))}(!x(e.dataFields)||!_e(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}a.prototype.processConfig.call(this,e)},i.prototype.getPoint=function(e,t,r,n,s,o,h){if(this.xAxis&&this.yAxis){var u=this.xAxis.getX(e,t,n),c=this.yAxis.getY(e,r,s);return{x:u=B(u,-this._maxxX,this._maxxX),y:c=B(c,-this._maxxY,this._maxxY)}}},i.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";q(this.dataFields,function(t,r){e+="{"+t+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(i.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var t=this.chart;t&&(this.bulletsContainer.parent=e?t.bulletsContainer:t.axisBulletsContainer)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){this.groupFields=Gt(e.groupFields,{}),a.prototype.copyFrom.call(this,e)},i.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),a.prototype.dispose.call(this)},i}(Ya);C.registeredClasses.XYSeries=Pi,C.registeredClasses.XYSeriesDataItem=Xa;var Di=function(a){function i(){var e=a.call(this)||this;e._chart=new He,e.className="XYChartScrollbar";var t=new ce;e.padding(0,0,0,0);var r=e.createChild(Dt);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,e._scrollbarChart=r,!_r()){var n=new ja;n.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(n)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var s=e.createChild(ee);s.shouldClone=!1,s.setElement(e.paper.add("path")),s.fill=t.getFor("background"),s.fillOpacity=.8,s.interactionsEnabled=!1,s.isMeasured=!1,s.toBack(),e._unselectedOverlay=s,e._disposers.push(e._unselectedOverlay),r.toBack(),e.background.cornerRadius(0,0,0,0);var o=e.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=t.getFor("background");var h=o.states.getKey("hover");h&&(h.properties.fillOpacity=.2);var u=o.states.getKey("down");return u&&(u.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"series",{get:function(){return this._series||(this._series=new he,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),i.prototype.handleSeriesAdded=function(e){var t=this,r=e.newValue;if(r.xAxis&&r.yAxis){var n=this.scrollbarChart;n.zoomOutButton.disabled=!0,this.chart=r.chart,n.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,n.language.locale=this.chart.language.locale;var s=!0,o=!0;I(this.series.iterator(),function(P){P!=r&&(P.xAxis==r.xAxis&&t.scrollbarChart.xAxes.length>0&&(s=!1),P.yAxis==r.yAxis&&t.scrollbarChart.yAxes.length>0&&(o=!1))}),r.events.on("beforedisposed",function(){t.series.removeValue(r)});var h=new ce,u=r.clone();if((ie.onlyShowOnViewport||ie.queue)&&this.addDisposer(this.chart.events.on("removedfromqueue",function(){n.invalidateData()})),_r()&&(u.stroke=G("#aaaaaa"),u.fill=u.stroke,u.propertyFields.fill=void 0,u.propertyFields.stroke=void 0),r.scrollbarSeries=u,s){var c=r.xAxis.clone();if(n.xAxes.moveValue(c),c.title.disabled=!0,c.rangeChangeDuration=0,(d=c.renderer).ticks.template.disabled=!0,d.inside=!0,d.labels.template.inside=!0,d.line.strokeOpacity=0,d.minLabelPosition=.02,d.maxLabelPosition=.98,d.line.disabled=!0,d.axisFills.template.disabled=!0,d.baseGrid.disabled=!0,d.grid.template.strokeOpacity=.05,d.minWidth=void 0,d.minHeight=void 0,d.padding(0,0,0,0),d.chart=n,d.margin(0,0,0,0),c.width=R(100),d.labels.template.fillOpacity=.5,c.maxZoomCount=void 0,c.minZoomCount=void 0,c instanceof Se){var f=c;f.groupCount=5*r.xAxis.groupCount,f.min=void 0,f.max=void 0,this._disposers.push(f.clonedFrom.events.on("extremeschanged",function(){y(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),y(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)},void 0,!1))}else if(c instanceof te){var m=c;m.min=void 0,m.max=void 0,y(m.clonedFrom.minDefined)||(m.min=void 0),y(m.clonedFrom.maxDefined)||(m.max=void 0),this._disposers.push(m.clonedFrom.events.on("extremeschanged",function(){y(m.clonedFrom.minDefined)&&(m.min=m.clonedFrom.min),y(m.clonedFrom.maxDefined)&&(m.max=m.clonedFrom.max)},void 0,!1))}u.xAxis=c}else this.scrollbarChart.xAxes.each(function(P){P.clonedFrom==r.xAxis&&(u.xAxis=P)});if(o){var d,v=r.yAxis.clone();if(n.yAxes.moveValue(v),v.title.disabled=!0,v.rangeChangeDuration=0,(d=v.renderer).ticks.template.disabled=!0,d.inside=!0,d.labels.template.inside=!0,d.line.strokeOpacity=0,d.minLabelPosition=.02,d.maxLabelPosition=.98,d.line.disabled=!0,d.axisFills.template.disabled=!0,d.grid.template.stroke=h.getFor("background"),d.baseGrid.disabled=!0,d.grid.template.strokeOpacity=.05,d.minWidth=void 0,d.minHeight=void 0,d.chart=n,d.padding(0,0,0,0),d.margin(0,0,0,0),v.height=R(100),d.labels.template.fillOpacity=.5,u.yAxis=v,v.maxZoomCount=void 0,v.minZoomCount=void 0,v instanceof Se){var b=v;b.min=void 0,b.max=void 0,v.groupCount=5*r.yAxis.groupCount,this._disposers.push(b.clonedFrom.events.on("extremeschanged",function(){y(b.clonedFrom.minDefined)&&(b.min=b.clonedFrom.minDefined),y(b.clonedFrom.maxDefined)&&(b.max=b.clonedFrom.maxDefined)}))}else if(v instanceof te){var _=v;_.min=void 0,_.max=void 0,y(_.clonedFrom.minDefined)||(_.min=void 0),y(_.clonedFrom.maxDefined)||(_.max=void 0),this._disposers.push(_.clonedFrom.events.on("extremeschanged",function(){y(_.clonedFrom.minDefined)&&(_.min=_.clonedFrom.minDefined),y(_.clonedFrom.maxDefined)&&(_.max=_.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(P){P.clonedFrom==r.yAxis&&(u.yAxis=P)});u.rangeChangeDuration=0,u.interpolationDuration=0,u.defaultState.transitionDuration=0,u.showOnInit=!1,this._disposers.push(u.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(r.events.on("datavalidated",function(){u.data!=r.data&&(u.data=r.data)},void 0,!1)),u.defaultState.properties.visible=!0,n.series.push(u),this.updateByOrientation()}},i.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(I(this._scrollbarChart.xAxes.iterator(),function(t){var r=t.renderer;"vertical"==e.orientation?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=t.clonedFrom.renderer.minGridDistance)}),I(this._scrollbarChart.yAxes.iterator(),function(t){var r=t.renderer;"horizontal"==e.orientation?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=t.clonedFrom.renderer.minGridDistance)}))},i.prototype.handleSeriesRemoved=function(e){var t=e.oldValue,r=this.scrollbarChart;r.series.each(function(n){n&&n.clonedFrom==t&&r.series.removeValue(n)}),0==r.series.length&&(r.xAxes.clear(),r.yAxes.clear());try{t.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(i.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),i.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},i.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;I(e.xAxes.iterator(),function(t){t.zoom({start:0,end:1},!0,!0)}),I(e.yAxes.iterator(),function(t){t.zoom({start:0,end:1},!0,!0)})},i.prototype.updateThumb=function(e){if(void 0===e&&(e=!0),a.prototype.updateThumb.call(this,e),this._unselectedOverlay){var t=this.thumb,r=t.pixelX||0,n=t.pixelY||0,s=t.pixelWidth||0,o=t.pixelHeight||0,h="";"horizontal"==this.orientation?(h=si({x:-1,y:0,width:r,height:o}),h+=si({x:r+s,y:0,width:(this.pixelWidth||0)-r-s,height:o})):(h=si({x:0,y:0,width:s,height:n}),h+=si({x:0,y:n+o,width:s,height:(this.pixelHeight||0)-n-o})),this._unselectedOverlay.path=h}},i.prototype.processConfig=function(e){if(e&&x(e.series)&&Ee(e.series))for(var t=0,r=e.series.length;t<r;t++){var n=e.series[t];if(x(n)&&ne(n)){if(!this.map.hasKey(n))throw Error("XYChartScrollbar error: Series with id `"+n+"` does not exist.");e.series[t]=this.map.getKey(n)}}a.prototype.processConfig.call(this,e)},i}(Va);C.registeredClasses.XYChartScrollbar=Di;var Us=function(a){function i(){var e=a.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(lh),Dt=function(a){function i(){var e=a.call(this)||this;e._axisRendererX=qt,e._axisRendererY=Ot,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var t=e.chartContainer;t.layout="vertical",e.padding(15,15,15,15);var r=t.createChild(U);r.shouldClone=!1,r.layout="vertical",r.width=R(100),r.zIndex=1,e.topAxesContainer=r;var n=t.createChild(U);n.shouldClone=!1,n.layout="horizontal",n.width=R(100),n.height=R(100),n.zIndex=0,e.yAxesAndPlotContainer=n;var s=t.createChild(U);s.shouldClone=!1,s.width=R(100),s.layout="vertical",s.zIndex=1,e.bottomAxesContainer=s;var o=n.createChild(U);o.shouldClone=!1,o.layout="horizontal",o.height=R(100),o.contentAlign="right",o.events.on("transformed",e.updateXAxesMargins,e,!1),o.zIndex=1,e.leftAxesContainer=o;var h=n.createChild(U);h.shouldClone=!1,h.height=R(100),h.width=R(100),h.background.fillOpacity=0,e.plotContainer=h,e.mouseWheelBehavior="none",e._cursorContainer=h;var u=n.createChild(U);u.shouldClone=!1,u.layout="horizontal",u.height=R(100),u.zIndex=1,u.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=u,e.seriesContainer.parent=h,e.bulletsContainer.parent=h;var c=h.createChild($l);c.shouldClone=!1,c.align="right",c.valign="top",c.zIndex=Number.MAX_SAFE_INTEGER,c.marginTop=5,c.marginRight=5,c.hide(0),e.zoomOutButton=c;var d=e.plotContainer.createChild(U);return d.shouldClone=!1,d.width=R(100),d.height=R(100),d.isMeasured=!1,d.zIndex=4,d.layout="none",e.axisBulletsContainer=d,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(p){p.dataGrouped=!1,p._baseInterval={}})},e,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,x(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},i.prototype.draw=function(){a.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},i.prototype.updatePlotElements=function(){I(this.series.iterator(),function(e){e.invalidate()})},i.prototype.validateData=function(){0==this._parseDataFrom&&(I(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),I(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),I(this.series.iterator(),function(e){e.dataChangeUpdate()})),a.prototype.validateData.call(this)},i.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,t=this.rightAxesContainer.measuredWidth,r=this.bottomAxesContainer;(r.paddingLeft!=e||r.paddingRight!=t)&&(r.paddingLeft=e,r.paddingRight=t);var n=this.topAxesContainer;(n.paddingLeft!=e||n.paddingRight!=t)&&(n.paddingLeft=e,n.paddingRight=t)},i.prototype.reinit=function(){a.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},i.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},i.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},i.prototype.processXAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererX,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),t.axisLetter="X",t.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),t.dataProvider=this,this.updateXAxis(t.renderer),this.processAxis(t)},i.prototype.processYAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererY,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),t.axisLetter="Y",t.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),t.dataProvider=this,this.updateYAxis(t.renderer),this.processAxis(t)},i.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},i.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;ft(this.xAxes.iterator(),function(t){if(t.toggleZoomOutButton)if(t.maxZoomCount>0){var r=t.maxZoomFactor/t.maxZoomCount;if(F(t.end-t.start,3)<1/r)return e=!0,!1}else if(F(t.start,3)>0||F(t.end,3)<1)return e=!0,!1;return!0}),ft(this.yAxes.iterator(),function(t){if(t.toggleZoomOutButton){if(t.maxZoomCount>0){var r=t.maxZoomFactor/t.maxZoomCount;if(F(t.end-t.start,3)<1/r)return e=!0,!1}else if(F(t.start,3)>0||F(t.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},i.prototype.seriesAppeared=function(){var e=!1;return I(this.series.iterator(),function(t){if(!t.appeared)return e=!1,!1}),e},i.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},i.prototype.updateScrollbar=function(e,t){e&&(e.skipRangeEvents(),e.start=t.start,e.end=t.end)},i.prototype.getCommonAxisRange=function(e){var t,r;return e.each(function(n){if(n.zoomable&&!(n instanceof te&&n.syncWithAxis)){var s=n.start,o=n.end;n.renderer.inversed&&(s=1-n.end,o=1-n.start),(!y(t)||s<t)&&(t=s),(!y(r)||o>r)&&(r=o)}}),{start:t,end:r}},i.prototype.updateXAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.topAxesContainer,t.toFront()):(t.parent=this.bottomAxesContainer,t.toBack()),t.renderer&&t.renderer.processRenderer()},i.prototype.updateYAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.rightAxesContainer,t.toBack()):(t.parent=this.leftAxesContainer,t.toFront()),t.renderer&&t.renderer.processRenderer()},i.prototype.processAxis=function(e){var t=this;e instanceof Te&&this._dataUsers.moveValue(e);var r=e.renderer;r.gridContainer.parent=this.plotContainer,r.gridContainer.toBack(),r.breakContainer.parent=this.plotContainer,r.breakContainer.toFront(),r.breakContainer.zIndex=10,e.addDisposer(new pe(function(){t.dataUsers.removeValue(e)})),r.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var n=ht({x:0,y:0},e,t.axisBulletsContainer);e.renderer instanceof Ot&&(r.bulletsContainer.y=n.y),e.renderer instanceof qt&&(r.bulletsContainer.x=n.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){t.inited&&(e.invalidateDataItems(),t.updateSeriesMasks())},e,!1)},i.prototype.updateSeriesMasks=function(){_r()&&this.series.each(function(e){var t=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=t})},i.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;t&&(t.xAxis&&(t.xAxis.series.removeValue(t),t.xAxis.invalidateProcessedData()),t.yAxis&&(t.yAxis.series.removeValue(t),t.yAxis.invalidateProcessedData()),this.series.each(function(r){r.resetExtremes()})),a.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(i.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new he,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ye(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),i.prototype.handleAxisRemoval=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),t.autoDispose&&t.dispose()},Object.defineProperty(i.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new he,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ye(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),i.prototype.handleSeriesAdded=function(e){try{a.prototype.handleSeriesAdded.call(this,e);var t=e.newValue;(0==this.xAxes.length||0==this.yAxes.length)&&(C.removeFromInvalidComponents(t),t.dataInvalid=!1),t.maskBullets=t.maskBullets,null==t.fill&&(this.patterns?(x(t.stroke)||(t.stroke=this.colors.next()),t.fill=this.patterns.next(),x(t.fillOpacity)&&(t.fill.backgroundOpacity=t.fillOpacity),t.stroke instanceof ue&&(t.fill.stroke=t.stroke,t.fill.fill=t.stroke)):t.fill=this.colors.next()),x(t.stroke)||(t.stroke=t.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(i.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),i.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var t=this.cursor.xPosition,r=this.cursor.yPosition;this.showSeriesTooltip({x:t,y:r});var n=[],s=e.snapToSeries;if(s&&!e.downPoint){s instanceof Pi&&(s=[s]);var o=[];j(s,function(u){if(!u.isHidden&&!u.isHiding){var c=u.xAxis,d=u.yAxis;c instanceof te&&!(c instanceof Se)&&d instanceof te&&!(d instanceof Se)?(u.dataItems.each(function(p){o.push(p)}),xt(n,u.yAxis),xt(n,u.xAxis)):(u.baseAxis==u.xAxis&&(xt(n,u.yAxis),o.push(c.getSeriesDataItem(u,c.toAxisPosition(t),!0))),u.baseAxis==u.yAxis&&(xt(n,u.xAxis),o.push(d.getSeriesDataItem(u,d.toAxisPosition(r),!0))))}});var h=this.getClosest(o,t,r);h&&(this.series.each(function(u){var c=h.component;u!=c&&(u.hideTooltip(),u.xAxis!=c.xAxis&&(u.xAxis.hideTooltip(),n.push(u.xAxis)),u.yAxis!=c.yAxis&&(u.yAxis.hideTooltip(),n.push(u.yAxis)))}),h.component.showTooltipAtDataItem(h),e.handleSnap(h.component))}this._seriesPoints=[],this._cursorXPosition!=t&&this.showAxisTooltip(this.xAxes,t,n),this._cursorYPosition!=r&&this.showAxisTooltip(this.yAxes,r,n),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},i.prototype.getClosest=function(e,t,r){var s,n=1/0;return Bn(e,function(o){if(o){var h=o.component.xAxis,u=o.component.yAxis,c=h.positionToCoordinate(h.toGlobalPosition(h.toAxisPosition(t))),d=u.positionToCoordinate(u.toGlobalPosition(u.toAxisPosition(r))),p=o.component.xField,f=o.component.yField;if(h instanceof te&&!y(o.getValue(p))||u instanceof te&&!y(o.getValue(f)))return!0;var g=h.positionToCoordinate(h.toGlobalPosition(h.getPositionX(o,p,o.locations[p],"valueX"))),m=u.positionToCoordinate(u.toGlobalPosition(u.getPositionY(o,f,o.locations[f],"valueY"))),v=Math.sqrt(Math.pow(c-g,2)+Math.pow(d-m,2));return v<n&&(n=v,s=o),!0}}),s},i.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},i.prototype.updateSeriesLegend=function(){I(this.series.iterator(),function(e){e.updateLegendValue()})},i.prototype.hideObjectTooltip=function(e){I(e.iterator(),function(t){t.cursorTooltipEnabled&&t.hideTooltip(0)})},i.prototype.showSeriesTooltip=function(e){var t=this;if(e){var r=[];this.series.each(function(n){if(!(n.xAxis instanceof Se&&n.xAxis.snapTooltip||n.yAxis instanceof Se&&n.yAxis.snapTooltip)){var s=n.showTooltipAtPosition(e.x,e.y);s&&(n.tooltip.setBounds(hs({x:0,y:0,width:t.pixelWidth,height:t.pixelHeight},t)),r.push({series:n,point:s}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(r)}else this.series.each(function(n){n.hideTooltip()})},i.prototype.sortSeriesTooltips=function(e){if(e.length>0){var t=this.cursor;if(t&&y(t.maxTooltipDistance)){var n,s,r=wt({x:t.point.x,y:t.point.y},t),o=1/0;j(e,function(Z){var Y=Z.series,fe=Z.point;if(fe){var Le={x:fe.x,y:fe.y},Je=Math.abs(de(Le,r));Je<o&&(s=Le,o=Je,n=Y)}});var h=[];n&&(j(e,function(Z){if(Math.abs(de(Z.point,s))<=Math.abs(t.maxTooltipDistance))h.push({series:Z.series,point:Z.point});else{var Y=Z.series.tooltipDataItem;Y&&j(Y.sprites,function(fe){fe.isHover=!1,fe.handleOutReal()}),Z.series.hideTooltip(0)}}),t.maxTooltipDistance<0&&(h.length>0&&j(h,function(Z){n!=Z.series&&Z.series.hideTooltip(0)}),h=[{series:n,point:s}])),e=h}var u=wt({x:-.5,y:-.5},this.plotContainer),c=wt({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),d=0,p=[];j(e,function(Z){var Y=Z.point;Y&&Bo(Y,{x:u.x,y:u.y,width:c.x-u.x,height:c.y-u.y})&&(p.push({point:Y,series:Z.series}),d+=Y.y)}),e=p;var f=this.series.getIndex(0),g=!1;f&&f.yAxis&&f.yAxis.renderer.inversed&&(g=!0),g?e.sort(function(Z,Y){return Vt(Z.point.y,Y.point.y)}):(e.sort(function(Z,Y){return Vt(Y.point.y,Z.point.y)}),e.reverse());var m=d/e.length,v=ul({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var b=u.y,_=c.y;us({x:0,y:b},this);var P=!1;if(m>b+(_-b)/2)for(var S=_,D=e.length-1;D>=0;D--){var O=e[D].point.y;if((A=e[D].series.tooltip).setBounds({x:0,y:-v,width:this.pixelWidth,height:S+v}),A.invalid&&A.validate(),A.toBack(),(S=wt({x:0,y:A.label.pixelY-A.pixelY+O-A.pixelMarginTop},A).y)<-v){P=!0;break}}if(m<=b+(_-b)/2||P)for(var k=b,X=(D=0,e.length);D<X;D++){var A;O=e[D].point.y,(A=e[D].series.tooltip).setBounds({x:0,y:k,width:this.pixelWidth,height:_}),A.invalid&&A.validate(),A.toBack(),k=wt({x:0,y:A.label.pixelY+A.label.measuredHeight-A.pixelY+O+A.pixelMarginBottom},A).y}}}},i.prototype.showAxisTooltip=function(e,t,r){var n=this;I(e.iterator(),function(s){(!r||-1==r.indexOf(s))&&(n.dataItems.length>0||s.dataItems.length>0)&&s.showTooltipAtPosition(t)})},i.prototype.getUpdatedRange=function(e,t){if(e){var r,n;e.renderer.inversed?(sr(t),r=1-e.end,n=1-e.start):(r=e.start,n=e.end);var o=n-r;return{start:r+t.start*o,end:r+t.end*o}}},i.prototype.handleCursorZoomEnd=function(e){var t=this.cursor,r=t.behavior;if("zoomX"==r||"zoomXY"==r){var n=t.xRange;n&&this.xAxes.length>0&&((n=this.getUpdatedRange(this.xAxes.getIndex(0),n)).priority="start",this.zoomAxes(this.xAxes,n))}if("zoomY"==r||"zoomXY"==r){var s=t.yRange;s&&this.yAxes.length>0&&((s=this.getUpdatedRange(this.yAxes.getIndex(0),s)).priority="start",this.zoomAxes(this.yAxes,s))}this.handleHideCursor()},i.prototype.handleCursorPanStart=function(e){var t=this.xAxes.getIndex(0);t&&(this._panStartXRange={start:t.start,end:t.end},t.renderer.inversed&&(this._panStartXRange=sr(this._panStartXRange)));var r=this.yAxes.getIndex(0);r&&(this._panStartYRange={start:r.start,end:r.end},r.renderer.inversed&&(this._panStartYRange=sr(this._panStartYRange)))},i.prototype.handleCursorPanEnd=function(e){var n,t=this.cursor,r=t.behavior;if(this._panEndXRange&&("panX"==r||"panXY"==r)){var s=this._panStartXRange,o=0;(n=this._panEndXRange).start<0&&(o=n.start),s.end>1?n.end>s.end&&(o=n.end-s.end):n.end>1&&(o=n.end-1),this.zoomAxes(this.xAxes,{start:n.start-o,end:n.end-o},!1,t.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}!this._panEndYRange||"panY"!=r&&"panXY"!=r||(o=0,(n=this._panEndYRange).start<0&&(o=n.start),n.end>1&&(o=n.end-1),this.zoomAxes(this.yAxes,{start:n.start-o,end:n.end-o},!1,t.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0)},i.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},i.prototype.handleCursorPanning=function(e){var f,t=this.cursor,r=t.behavior,n=t.maxPanOut;if(this._panStartXRange&&("panX"==r||"panXY"==r)){var s=this._panStartXRange,o=t.xRange,h=this.getCommonAxisRange(this.xAxes),u=s.end-s.start,c=o.start*(h.end-h.start),d=Math.max(-n,c+s.start),p=Math.min(c+s.end,1+n);d<=0&&(p=d+u),p>=1&&(d=p-u),this._panEndXRange=f={start:d,end:p},this.zoomAxes(this.xAxes,f,!1,!1,t.maxPanOut)}!this._panStartYRange||"panY"!=r&&"panXY"!=r||(s=this._panStartYRange,o=t.yRange,h=this.getCommonAxisRange(this.yAxes),u=s.end-s.start,c=o.start*(h.end-h.start),d=Math.max(-n,c+s.start),p=Math.min(c+s.end,1+n),d<=0&&(p=d+u),p>=1&&(d=p-u),this._panEndYRange=f={start:d,end:p},this.zoomAxes(this.yAxes,f,!1,!1,t.maxPanOut));this.handleHideCursor()},i.prototype.handleYAxisSet=function(e){},i.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(i.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var t=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var n=t.xAxes.getIndex(0);return n&&(r.value=n.getPositionLabel(n.renderer.inversed?1-r.position:r.position)),r}),e.adapter.add("positionValueDirection",function(r){var n=t.xAxes.getIndex(0);return n&&(r.flipped=n.renderer.inversed),r}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var t=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var n=t.yAxes.getIndex(0);return n&&(r.value=n.getPositionLabel(n.renderer.inversed?r.position:1-r.position)),r}),e.adapter.add("positionValueDirection",function(r){var n=t.yAxes.getIndex(0);return n&&(r.flipped=!n.renderer.inversed),r}))},enumerable:!0,configurable:!0}),i.prototype.handleXScrollbarChange=function(e){if(this.inited){var t=e.target,r=t.range;0==r.start&&(r.priority="start"),1==r.end&&(r.priority="end"),r=this.zoomAxes(this.xAxes,r),t.fixRange(r)}},i.prototype.handleYScrollbarChange=function(e){if(this.inited){var t=e.target,r=t.range;1==r.end&&(r.priority="end"),0==r.start&&(r.priority="start"),r=this.zoomAxes(this.yAxes,r),t.fixRange(r)}},i.prototype.zoomAxes=function(e,t,r,n,s,o){var h={start:0,end:1};this.showSeriesTooltip();var u=t;return this.dataInvalid||I(e.iterator(),function(c){var d=c.maxZoomFactor;if(y(c.minZoomCount)&&(d/=c.minZoomCount),!(o&&1/(t.end-t.start)>=d)&&c.zoomable){if(t=c.renderer.inversed?sr(u):u,c.hideTooltip(0),n)if(c instanceof Te){var p=c.getCellEndPosition(0)-c.getCellStartPosition(0);t.start=c.roundPosition(t.start+p/2-c.startLocation*p,c.startLocation),t.end=c.roundPosition(t.end-p/2+(1-c.endLocation)*p,c.endLocation)}else{var f=1e-4;t.start=c.roundPosition(t.start+f,0,c.startLocation),t.end=c.roundPosition(t.end+f,0,c.endLocation)}var g=c.zoom(t,r,r,s);c.renderer.inversed&&(g=sr(g)),h=g}}),h},Object.defineProperty(i.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=e?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),i.prototype.handleWheel=function(e){var t=this.plotContainer,n=mt(ii(e.point,this.htmlContainer,this.svgContainer.cssScale),t);this.handleWheelReal(e.shift.y,this.mouseWheelBehavior,n)},i.prototype.handleHorizontalWheel=function(e){var t=this.plotContainer,n=mt(ii(e.point,this.htmlContainer,this.svgContainer.cssScale),t);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,n)},i.prototype.handleWheelReal=function(e,t,r){if(0!=e){var n=this.plotContainer,s=this.getCommonAxisRange(this.xAxes),o=this.getCommonAxisRange(this.yAxes),h=.1;if("panX"==t||"panXY"==t){var c=this.xAxes.getIndex(0),d=!1,p=h;c instanceof Te&&(p=.5/((s.end-s.start)*c.dataItems.length),d=!0),h=Math.max(.2,p);var f=s.end-s.start,g=Math.max(-0,s.start+h*e/100*(s.end-s.start)),m=Math.min(s.end+h*e/100*(s.end-s.start),1);g<=0&&(m=g+f),m>=1&&(g=m-f),this.zoomAxes(this.xAxes,{start:g,end:m},void 0,d)}if("panY"==t||"panXY"==t){var v=this.yAxes.getIndex(0);p=h,d=!1,v instanceof Te&&(p=.5/((s.end-s.start)*v.dataItems.length),d=!0),h=Math.max(.2,p),e*=-1;var b=o.end-o.start,_=Math.max(-0,o.start+h*e/100*(o.end-o.start)),P=Math.min(o.end+h*e/100*(o.end-o.start),1);_<=0&&(P=_+b),P>=1&&(_=P-b),this.zoomAxes(this.yAxes,{start:_,end:P},void 0,d)}if("zoomX"==t||"zoomXY"==t){var S=r.x/n.maxWidth,D=this.xAxes.getIndex(0).toAxisPosition(S);g=Math.max(-0,s.start-h*(s.end-s.start)*e/100*S),g=Math.min(g,D),m=Math.min(s.end+h*(s.end-s.start)*e/100*(1-S),1),m=Math.max(m,D),this.zoomAxes(this.xAxes,{start:g,end:m},void 0)}if("zoomY"==t||"zoomXY"==t){var T=r.y/n.maxHeight,A=this.yAxes.getIndex(0).toAxisPosition(T);_=Math.max(-0,o.start-h*(o.end-o.start)*e/100*(1-T)),_=Math.min(_,A),P=Math.min(o.end+h*e/100*T*(o.end-o.start),1),P=Math.max(P,A),this.zoomAxes(this.yAxes,{start:_,end:P},void 0)}}},Object.defineProperty(i.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),i.prototype.dataSourceDateFields=function(e){var t=this;return e=a.prototype.dataSourceDateFields.call(this,e),I(this.series.iterator(),function(r){e=t.populateDataSourceFields(e,r.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},i.prototype.dataSourceNumberFields=function(e){var t=this;return e=a.prototype.dataSourceDateFields.call(this,e),I(this.series.iterator(),function(r){e=t.populateDataSourceFields(e,r.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},i.prototype.processConfig=function(e){if(e){var t=[],r=[];if(x(e.xAxes)&&Ee(e.xAxes))for(var n=0,s=e.xAxes.length;n<s;n++){if(!e.xAxes[n].type)throw Error("[XYChart error] No type set for xAxes["+n+"].");if(x(e.xAxes[n].axisRanges)){for(var o=0,h=e.xAxes[n].axisRanges.length;o<h;o++)x((u=e.xAxes[n].axisRanges[o]).date)&&ne(u.date)&&(u.date=this.dateFormatter.parse(u.date)),x(u.endDate)&&ne(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate));t.push({axisRanges:e.xAxes[n].axisRanges,index:n}),delete e.xAxes[n].axisRanges}}if(x(e.yAxes)&&Ee(e.yAxes))for(n=0,s=e.yAxes.length;n<s;n++){if(!e.yAxes[n].type)throw Error("[XYChart error] No type set for yAxes["+n+"].");if(x(e.yAxes[n].axisRanges)){o=0;for(var c=e.yAxes[n].axisRanges.length;o<c;o++){var u;x((u=e.yAxes[n].axisRanges[o]).date)&&ne(u.date)&&(u.date=this.dateFormatter.parse(u.date)),x(u.endDate)&&ne(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}r.push({axisRanges:e.yAxes[n].axisRanges,index:n}),delete e.yAxes[n].axisRanges}}if(x(e.series)&&Ee(e.series))for(n=0,s=e.series.length;n<s;n++)e.series[n].type=e.series[n].type||"LineSeries";if(x(e.cursor)&&!x(e.cursor.type)&&(e.cursor.type="XYCursor"),x(e.scrollbarX)&&!x(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),x(e.scrollbarY)&&!x(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),a.prototype.processConfig.call(this,e),r.length)for(n=0,s=r.length;n<s;n++)this.yAxes.getIndex(r[n].index).config={axisRanges:r[n].axisRanges};if(t.length)for(n=0,s=t.length;n<s;n++)this.xAxes.getIndex(t[n].index).config={axisRanges:t[n].axisRanges}}},i.prototype.configOrder=function(e,t){return e==t?0:"scrollbarX"==e?1:"scrollbarX"==t?-1:"scrollbarY"==e?1:"scrollbarY"==t?-1:"cursor"==e?1:"cursor"==t?-1:"series"==e?1:"series"==t?-1:a.prototype.configOrder.call(this,e,t)},i.prototype.createSeries=function(){return new Pi},Object.defineProperty(i.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var t=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){t.zoomAxes(t.xAxes,{start:0,end:1}),t.zoomAxes(t.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){var t=this;e.xAxes.each(function(r){var n=t.xAxes.push(r.clone());n.chart=t,n.renderer.chart=t}),e.yAxes.each(function(r){var n=t.yAxes.push(r.clone());n.renderer.chart=t,n.chart=t}),a.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},i.prototype.disposeData=function(){a.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof Di&&e.scrollbarChart.disposeData();var t=this.scrollbarY;t&&t instanceof Di&&t.scrollbarChart.disposeData(),this.xAxes.each(function(r){r instanceof Te&&r.disposeData()}),this.yAxes.each(function(r){r instanceof Te&&r.disposeData()})},i.prototype.addData=function(e,t){this.scrollbarX instanceof Di&&this.addScrollbarData(this.scrollbarX,t),this.scrollbarY instanceof Di&&this.addScrollbarData(this.scrollbarY,t),a.prototype.addData.call(this,e,t)},i.prototype.addScrollbarData=function(e,t){var r=e.scrollbarChart;r._parseDataFrom=r.data.length,r.invalidateData()},i.prototype.removeScrollbarData=function(e,t){var r=e.scrollbarChart;if(y(t)){for(;t>0;){var n=this.dataItems.getIndex(0);n&&r.dataItems.remove(n),r.dataUsers.each(function(s){var o=s.dataItems.getIndex(0);o&&s.dataItems.remove(o)}),r._parseDataFrom--,t--}r.invalidateData()}},i.prototype.removeData=function(e){this.scrollbarX instanceof Di&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof Di&&this.removeScrollbarData(this.scrollbarY,e),a.prototype.removeData.call(this,e)},i.prototype.setTapToActivate=function(e){a.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},i.prototype.handleTapToActivate=function(){a.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},i.prototype.handleTapToActivateDeactivation=function(){a.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},i}(Bs);C.registeredClasses.XYChart=Dt,Ke.push({relevant:et.maybeXS,state:function(a,i){if(a instanceof Dt&&a.scrollbarX){var e=a.states.create(i);return a.scrollbarX.states.create(i).properties.disabled=!0,e}return null}}),Ke.push({relevant:et.maybeXS,state:function(a,i){if(a instanceof Dt&&a.scrollbarY){var e=a.states.create(i);return a.scrollbarY.states.create(i).properties.disabled=!0,e}return null}});var Ws=function(a){function i(){var e=a.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var t=e.createChild(ee);e.fillSprite=t,t.shouldClone=!1,t.setElement(e.paper.add("path")),t.isMeasured=!1,e._disposers.push(t);var r=e.createChild(ee);return e.strokeSprite=r,r.shouldClone=!1,r.fill=G(),r.setElement(e.paper.add("path")),r.isMeasured=!1,e._disposers.push(r),e}return(0,w.ZT)(i,a),i.prototype.drawSegment=function(e,t,r,n){if(!this.disabled)if(e.length>0&&t.length>0&&y(e[0].x)&&y(e[0].y)){var s=N({x:e[0].x-.2,y:e[0].y-.2})+N(e[0]),o=this.series;"bezier"==o.smoothing?s+=new oi(r,n).smooth(e):"monotoneX"==o.smoothing?s+=new Xl({closed:!1}).smooth(e):"monotoneY"==o.smoothing&&(s+=new ql({closed:!1}).smooth(e)),0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=s),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&y(t[0].x)&&y(t[0].y)&&(s+=M(t[0]),"bezier"==o.smoothing?s+=new oi(r,n).smooth(t):"monotoneX"==o.smoothing?s+=new Xl({closed:!1}).smooth(t):"monotoneY"==o.smoothing&&(s+=new ql({closed:!1}).smooth(t)),s+=M(e[0]),this.fillSprite.path=s+=" Z")}else this.fillSprite.path="",this.strokeSprite.path=""},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e);var t=this.strokeSprite;Fe(e,t.properties,Me),t.events.copyFrom(e.strokeSprite.events),t.fillOpacity=0;var r=this.fillSprite;Fe(e,r.properties,Me),r.events.copyFrom(e.fillSprite.events),r.strokeOpacity=0},i}(U);C.registeredClasses.LineSeriesSegment=Ws;var Lf=function(a){function i(){var e=a.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Ga),zs=function(a){function i(){var e=a.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.formatLabel=function(e,t){return this.durationFormatter.format(e,t||this.axisDurationFormat)},i.prototype.adjustMinMax=function(e,t,r,n,s){var o,h,u,c=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==c||"second"==c||"minute"==c||"hour"==c){n<=1&&(n=1),n=Math.round(n);var d=e,p=t;0===r&&(r=Math.abs(t));var f,g=[60,30,20,15,10,2,1],m=1;"hour"==c&&(g=[24,12,6,4,2,1]);try{for(var v=(0,w.XA)(g),b=v.next();!b.done;b=v.next()){var _=b.value;if(r/_>n){m=_;break}}}catch(O){o={error:O}}finally{try{b&&!b.done&&(h=v.return)&&h.call(v)}finally{if(o)throw o.error}}var P=Math.ceil((t-e)/m/n),S=Math.log(Math.abs(P))*Math.LOG10E,D=Math.pow(10,Math.floor(S))/10,A=function Jc(a,i){return a.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})}(g,P/D);this.durationFormatter.getValueUnit(f=m*(P=A*D),this.baseUnit),e=Math.floor(e/f)*f,t=Math.ceil(t/f)*f,s&&((e-=f)<0&&d>=0&&(e=0),(t+=f)>0&&p<=0&&(t=0)),u={min:e,max:t,step:f}}else u=a.prototype.adjustMinMax.call(this,e,t,r,n,s);return this.axisDurationFormat=this.durationFormatter.getFormat(u.step,u.max,this.baseUnit),u},Object.defineProperty(i.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),i.prototype.getTooltipText=function(e){var t=F(this.positionToValue(e),this._stepDecimalPlaces),r=this.formatLabel(t,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},Object.defineProperty(i.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},i}(te);C.registeredClasses.DurationAxis=zs,C.registeredClasses.DurationAxisDataItem=Lf;var qa=function(a){function i(){var e=a.call(this)||this;return e.className="LineSeriesDataItem",e}return(0,w.ZT)(i,a),i}(Xa),Gs=function(a){function i(){var e=a.call(this)||this;return e.minDistance=.5,e.segments=new Oe(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new ye(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new Xn(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(U),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},i.prototype.createSegment=function(){return new Ws},i.prototype.createDataItem=function(){return new qa},i.prototype.setInitialWorkingValues=function(e){var t=this._yAxis.get(),r=this._xAxis.get();if(this.appeared&&this.visible){var n=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==r&&t instanceof te){var s=t.minZoomed;if(n&&(s=n.values.valueY.workingValue),e.setWorkingValue("valueY",s,0),e.setWorkingValue("valueY",e.values.valueY.value),r instanceof Se)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(r instanceof zs&&n){var o=e.valueX;e.setWorkingValue("valueX",n.valueX,0),e.setWorkingValue("valueX",o)}}if(this.baseAxis==t&&r instanceof te){var h=r.minZoomed;n&&(h=n.values.valueX.workingValue),e.setWorkingValue("valueX",h,0),e.setWorkingValue("valueX",e.values.valueX.value),t instanceof Se?(e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY)):t instanceof zs&&n&&(o=e.valueY,e.setWorkingValue("valueY",n.valueY,0),e.setWorkingValue("valueY",o))}}else this.baseAxis==r&&t instanceof te&&(r instanceof Se&&e.setWorkingLocation("dateX",e.locations.dateX),r instanceof Te&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==t&&r instanceof te&&(t instanceof Se&&e.setWorkingLocation("dateY",e.locations.dateY),t instanceof Te&&e.setWorkingLocation("categoryY",e.locations.categoryY))},i.prototype.updateLegendValue=function(e,t){a.prototype.updateLegendValue.call(this,e,t),e&&e.segment&&(this.tooltipColorSource=e.segment)},i.prototype.validate=function(){var e=this;a.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),I(this.axisRanges.iterator(),function(t){e.openSegmentWrapper(e._adjustedStartIndex,t)}),I(this._segmentsIterator.iterator(),function(t){t.__disabled=!0}))},i.prototype.sliceData=function(){for(var e=this.startIndex,t=this.endIndex,r=this.startIndex-1;r>=0;r--)if((n=this.dataItems.getIndex(r))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){e=r;break}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]),r=this.endIndex;for(var s=this.dataItems.length;r<s;r++){var n;if((n=this.dataItems.getIndex(r))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){t=r+1;break}}this._workingStartIndex=e,this._workingEndIndex=t},i.prototype.findAdjustedIndex=function(e,t){var r=this,n=this.propertyFields,s=e;return j(t,function(o){if(x(n[o]))for(var h=s;h>=0;h--){var u=r.dataItems.getIndex(h);if(u&&x(u.properties[o])){e>h&&(e=h);break}}}),e},i.prototype.openSegmentWrapper=function(e,t){var r={index:e,axisRange:t};do{r=this.openSegment(r.index,r.axisRange)}while(r)},i.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},i.prototype.openSegment=function(e,t){var r=!1,n=[];e=Math.min(e,this.dataItems.length);var s=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o,h=!1,u=this.getSegment();u.strokeDasharray=void 0,u.__disabled=!1,t?(u.parent=t.contents,Fe(t.contents,u,Me)):(Fe(this,u,Me),u.filters.clear(),u.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var c=this.connect,d=!1,p=e;p<s;p++){var f=this.dataItems.getIndex(p);if(f.segment=u,f.hasProperties&&(p==e?this.updateSegmentProperties(f.properties,u):h=this.updateSegmentProperties(f.properties,u,!0)),f.hasValue(this._xValueFields)&&f.hasValue(this._yValueFields))this.addPoints(n,f,this.xField,this.yField),d=!0;else{if(p==e)continue;if(!c&&d){o=p;break}}if(o=p,this.baseAxis instanceof Se){var g=this.dataItems.getIndex(p+1);if(g&&this.baseAxis.makeGap(g,f)){r=!0;break}}if(h)break}return this.closeSegment(u,n,e,o,t,r)},i.prototype.addPoints=function(e,t,r,n,s){var o=this.getPoint(t,r,n,t.workingLocations[r],t.workingLocations[n]);s||(t.point=o),e.push(o)},i.prototype.closeSegment=function(e,t,r,n,s,o){var h=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var u=n;u>=r;u--){var c=this.dataItems.getIndex(u);c.hasValue(this._xValueFields)&&c.hasValue(this._yValueFields)&&this.addPoints(h,c,this.xOpenField,this.yOpenField,!0)}else{var p=t.length,f=this.xAxis,g=this.yAxis;p>0&&(this.baseAxis==f?(h.push({x:t[p-1].x,y:g.basePoint.y}),h.push({x:t[0].x,y:g.basePoint.y})):(h.push({x:f.basePoint.x,y:t[p-1].y}),h.push({x:f.basePoint.x,y:t[0].y})))}return this.drawSegment(e,t,h),o&&n++,n<this._workingEndIndex-1?{index:n,axisRange:s}:null},i.prototype.drawSegment=function(e,t,r){e.drawSegment(t,r,this.tensionX,this.tensionY)},i.prototype.updateSegmentProperties=function(e,t,r){var n=!1;return q(e,function(s,o){if(x(o)){var h=t[s],u=void 0;h&&(u=h.toString?h.toString():h);var c=void 0;o&&(c=o.toString?o.toString():o),h==o||null!=u&&null!=c&&u==c||(r||(t[s]=o),n=!0)}}),n},Object.defineProperty(i.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),i.prototype.createLegendMarker=function(e){var t=this,r=e.pixelWidth,n=e.pixelHeight;e.disposeChildren();var s=e.createChild(At);if(s.shouldClone=!1,Fe(this,s,Me),s.x2=r,s.y=n/2,s.y2=1e-5,s.visible=!0,this.fillOpacity>0){var o=e.createChild(Ma);Fe(this,o,Me),o.width=r,o.height=n,o.y=0,o.strokeOpacity=0,o.visible=!0,s.y=0}var h=e.dataItem;h.color=this.stroke,h.colorOrig=this.fill,ft(this.bullets.iterator(),function(u){if(u instanceof Nt&&!u.copyToLegendMarker)return!1;var c=!1;if(u instanceof U&&I(u.children.iterator(),function(p){if(p instanceof st)return c=!0,!0}),!c){var d=u.clone();return d.parent=e,d.isMeasured=!0,d.tooltipText=void 0,d.x=r/2,d.y=t.fillOpacity>0?0:n/2,d.visible=!0,x(d.fill)||(d.fill=t.fill),x(d.stroke)||(d.stroke=t.stroke),!1}})},i.prototype.disposeData=function(){a.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(i.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),i}(Pi);C.registeredClasses.LineSeries=Gs,C.registeredClasses.LineSeriesDataItem=qa;var gh=function(a){function i(){var e=a.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return(0,w.ZT)(i,a),i}(qa),mh=function(a){function i(){var e=a.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),a.prototype.validate.call(this)},i.prototype.createDataItem=function(){return new gh},i.prototype.getPoint=function(e,t,r,n,s,o,h){o||(o="valueX"),h||(h="valueY");var d=de({x:this.yAxis.getX(e,r,s,h),y:this.yAxis.getY(e,r,s,h)});0==d&&(d=1e-5);var p=this.xAxis.getAngle(e,t,n,o);if(!(p<this.chart.startAngle||p>this.chart.endAngle))return{x:d*L(p),y:d*E(p)}},i.prototype.addPoints=function(e,t,r,n,s){var o=this.getPoint(t,r,n,t.locations[r],t.locations[n]);o&&e.push(o)},i.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Gi(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},i.prototype.drawSegment=function(e,t,r){var s=this.yAxis.renderer;this.connectEnds&&360==Math.abs(s.endAngle-s.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(t.push(t[0]),r.length>0&&r.unshift(r[r.length-1])),a.prototype.drawSegment.call(this,e,t,r)},Object.defineProperty(i.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),i.prototype.positionBulletReal=function(e,t,r){var n=this.xAxis,s=this.yAxis;(t<n.start||t>n.end||r<s.start||r>s.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,r))},i.prototype.setXAxis=function(e){a.prototype.setXAxis.call(this,e),this.updateRendererRefs()},i.prototype.setYAxis=function(e){a.prototype.setYAxis.call(this,e),this.updateRendererRefs()},i.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},i}(Gs);C.registeredClasses.RadarSeries=mh,C.registeredClasses.RadarSeriesDataItem=gh;var vh=function(a){function i(e){var t=a.call(this,e)||this;return t.className="AxisFillCircular",t.element=t.paper.add("path"),t.radius=R(100),t.applyTheme(),t}return(0,w.ZT)(i,a),i.prototype.draw=function(){if(a.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,x(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),i}(Zs);C.registeredClasses.AxisFillCircular=vh;var yh=function(a){function i(){var e=a.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),i}(Mr);C.registeredClasses.GridCircular=yh;var Ka=function(a){function i(){var e=a.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!x(e)){this.rotation=void 0;var t=this.dataItem;t&&t.component&&t.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),i.prototype.pixelRadius=function(e){var t=1;return this.inside&&(t=-1),we(this.radius,e)*t},i.prototype.pixelRadiusY=function(e,t){var r=1;this.inside&&(r=-1);var n=this.radius;return y(n)?we(n*=t/e,e)*r:we(n,t)*r},i.prototype.fixPosition=function(e,t,r,n,s){y(r)||(r=t),y(n)||(n=0),y(s)||(s=0);var o={x:t*L(e),y:r*E(e)};this.invalid&&this.validate();var h=!1,u=this.radius;(u instanceof ae&&u.value<0||u<0)&&(h=!0);var c=this.relativeRotation,d=this.pixelRadius(t);if(this.bent){var p={x:(t+d)*L(e+180),y:(r+d*r/t)*E(e+180)};return this.path=N(p)+Ye(e+180,360,t+d,r+d*r/t),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(y(c)){this.horizontalCenter="none",this.verticalCenter="none",e=Mt(e,-180,180);var f=this.bbox.width,g=this.bbox.height,m=this.pixelPaddingBottom,v=this.pixelPaddingTop,b=this.pixelPaddingLeft,_=this.pixelPaddingRight;e>90||e<-90?-90==c&&(c=90,f=0):(-90==c&&(g=-g),90==c&&(c=-90,f=-b-_,g=-g-v-m)),this.rotation=c+e+90;var P=E(c)/2,S=L(c)/2,D=this.rotation;this.dx=g*P*E(D)-f*S*L(D),this.dy=-g*P*L(D)-f*S*E(D),this.inside?e>90||e<-90?d-=(m+v)*L(c)+(b+_)*E(c):d+=(m+this.bbox.height+v)*L(c)+(b+_+this.bbox.width)*E(c):d+=(g+m+v)*L(c)+(f+b+_)*E(c),o.x+=L(e)*d,o.y+=E(e)*d*r/t}else this.horizontalCenter="middle",this.verticalCenter="middle",h?(this.dx=0,this.dy=0,o.x=(t+d)*L(e),o.y=(r+d*r/t)*E(e)):(this.dy=this._measuredHeight/2*E(e),this.dx=this._measuredWidth/2*L(e),o.x+=L(e)*d,o.y+=E(e)*d*r/t);o.x+=n,o.y+=s,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(o)},i}(Hs);C.registeredClasses.AxisLabelCircular=Ka;var bh=function(a){function i(){var e=a.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=R(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.setAxis=function(e){var t=this;a.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",function(n,s){var o=mt({x:s.pixelX,y:s.pixelY},t);return t.pixelRadius*Math.cos(Math.atan2(o.y,o.x))-o.x}),r.adapter.add("dy",function(n,s){var o=mt({x:s.pixelX,y:s.pixelY},t);return t.pixelRadius*Math.sin(Math.atan2(o.y,o.x))-o.y})},i.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),a.prototype.validate.call(this)},Object.defineProperty(i.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return ze(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e){if(x(t)){if(t instanceof ae&&e){var r=e.mr,n=t.value;t=R(100*(n=Math.max(r*n,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r))}}else(t=e.innerRadius)instanceof ae&&e&&(t=R(t.value*e.innerRadiusModifyer*100));return t}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return ze(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e,t){y(t)||(t=1);var r=this.positionToCoordinate(e),n=this.startAngle+(this.endAngle-this.startAngle)*r/this.axisLength,s=this.pixelRadius,o=this.pixelInnerRadius;if(this.axisRendererY){var h=B(this.axisRendererY.positionToCoordinate(t),0,1/0);return 0==h&&(h=1e-6),{x:h*L(n),y:h*E(n)}}return{x:L(n)*o+(s-o)*L(n)*t,y:E(n)*o+(s-o)*E(n)*t}},i.prototype.positionToAngle=function(e){var t=this.axis,r=(this.endAngle-this.startAngle)/(t.end-t.start);return F(t.renderer.inversed?this.startAngle+(t.end-e)*r:this.startAngle+(e-t.start)*r,3)},i.prototype.angleToPosition=function(e){var t=this.axis,r=(this.endAngle-this.startAngle)/(t.end-t.start);return F(t.renderer.inversed?t.end-(e-this.startAngle)/r:(e-this.startAngle)/r+t.start,5)},i.prototype.updateAxisLine=function(){var e=this.pixelRadius,t=this.startAngle,n=se(360,this.endAngle-t);this.line.path=N({x:e*L(t),y:e*E(t)})+Ye(t,n,e,e)},i.prototype.updateGridElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);if(y(n.x)&&y(n.y)&&e.element){var s=ei*Math.atan2(n.y,n.x),o=ze(x(e.radius)?e.radius:R(100),this.pixelRadius),h=ze(e.innerRadius,this.pixelRadius);e.zIndex=0;var u=ze(y(h)?h:this.innerRadius,this.pixelRadiusReal,!0);y(u)||(u=0),e.path=N({x:u*L(s),y:u*E(s)})+M({x:o*L(s),y:o*E(s)})}this.toggleVisibility(e,t,0,1)},i.prototype.updateTickElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);if(e.element){var s=this.pixelRadius,o=ei*Math.atan2(n.y,n.x),h=e.length;e.inside&&(h=-h),e.zIndex=1,e.path=N({x:s*L(o),y:s*E(o)})+M({x:(s+h)*L(o),y:(s+h)*E(o)})}this.toggleVisibility(e,t,0,1)},i.prototype.updateBullet=function(e,t,r){var n=.5;e instanceof Fr&&(n=e.location);var s=this.positionToPoint(t+=(r-t)*n),o=this.pixelRadius,h=ei*Math.atan2(s.y,s.x);s={x:o*L(h),y:o*E(h)},this.positionItem(e,s),this.toggleVisibility(e,t,0,1)},i.prototype.updateLabelElement=function(e,t,r,n){x(n)||(n=e.location),e.fixPosition(this.positionToAngle(t+=(r-t)*n),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},i.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),i.prototype.getPositionRangePath=function(e,t,r,n,s){var o="";if(y(e)&&y(t)){x(r)||(r=this.radius),e=Q(e,this.axis.start),(t=se(t,this.axis.end))<e&&(t=e);var h=ze(r,this.pixelRadius),u=ze(n,this.pixelRadius,!0),c=this.positionToAngle(e);o=Gi(c,this.positionToAngle(t)-c,h,u,h,s)}return o},i.prototype.createGrid=function(){return new yh},i.prototype.createFill=function(e){return new vh(e)},i.prototype.createLabel=function(){return new Ka},i.prototype.pointToPosition=function(e){var t=Mt(We(e),this.startAngle,this.endAngle);return this.coordinateToPosition((t-this.startAngle)/360*this.axisLength)},i}(za);C.registeredClasses.AxisRendererCircular=bh;var _h=function(a){function i(){var e=a.call(this)||this;return e._chart=new He,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=R(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),a.prototype.validate.call(this)},Object.defineProperty(i.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return ze(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e)if(x(t)){if(t instanceof ae&&e){var r=e.mr,n=t.value;t=R(100*(n=Math.max(r*n,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r))}}else(t=e.innerRadius)instanceof ae&&e&&(t=R(t.value*e.innerRadiusModifyer*100));return t},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return ze(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e,t){var r=B(this.positionToCoordinate(e),0,1/0);return{x:r*L(this.axisAngle),y:r*E(this.axisAngle)}},i.prototype.updateAxisLine=function(){this.line.path=N({x:this.pixelInnerRadius*L(this.axisAngle),y:this.pixelInnerRadius*E(this.axisAngle)})+M({x:this.pixelRadius*L(this.axisAngle),y:this.pixelRadius*E(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var t=90;this.opposite?this.inside||(t=-90):this.inside&&(t=-90),e.rotation=t},i.prototype.updateGridElement=function(e,t,r){var s,o=de(this.positionToPoint(t+=(r-t)*e.location)),h=this.startAngle,u=this.endAngle,c=this.chart;if(y(o)&&e.element&&c){var d=c.xAxes.getIndex(0),p=0,f=c.series.getIndex(0);if(f&&(p=f.dataItems.length),"polygons"==this.gridType&&p>0&&f&&d&&d instanceof Te){var g=d.renderer.grid.template.location,m=d.getAngle(f.dataItems.getIndex(0),"categoryX",g);s=N({x:o*L(m),y:o*E(m)});for(var v=1;v<p;v++)s+=M({x:o*L(m=d.getAngle(f.dataItems.getIndex(v),"categoryX",g)),y:o*E(m)});s+=M({x:o*L(m=d.getAngle(f.dataItems.getIndex(p-1),"categoryX",d.renderer.cellEndLocation)),y:o*E(m)})}else s=N({x:o*L(h),y:o*E(h)})+Ye(h,u-h,o,o);e.path=s}this.toggleVisibility(e,t,0,1)},i.prototype.updateLabelElement=function(e,t,r,n){x(n)||(n=e.location);var s=this.positionToPoint(t+=(r-t)*n);this.positionItem(e,s),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},i.prototype.updateBaseGridElement=function(){},i.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",di(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Te?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),i.prototype.getPositionRangePath=function(e,t){var d,r=this.pixelInnerRadius,n=this.axisLength+r,s=B(this.positionToCoordinate(e),r,n),o=B(this.positionToCoordinate(t),r,n),h=this.startAngle,c=this.endAngle-h,p=this.chart,f=p.xAxes.getIndex(0),g=p.series.getIndex(0),m=0;if(g&&(m=g.dataItems.length),"polygons"==this.gridType&&m>0&&g&&f&&f instanceof Te){var v=f.renderer.grid.template.location,b=f.getAngle(g.dataItems.getIndex(0),"categoryX",v);d=N({x:o*L(b),y:o*E(b)});for(var _=1;_<m;_++)d+=M({x:o*L(b=f.getAngle(g.dataItems.getIndex(_),"categoryX",v)),y:o*E(b)});for(d+=M({x:o*L(b=f.getAngle(g.dataItems.getIndex(m-1),"categoryX",f.renderer.cellEndLocation)),y:o*E(b)}),d+=N({x:s*L(b),y:s*E(b)}),_=m-1;_>=0;_--)d+=M({x:s*L(b=f.getAngle(g.dataItems.getIndex(_),"categoryX",v)),y:s*E(b)})}else d=Gi(h,c,o,s);return d},i.prototype.updateBreakElement=function(e){var r=e.endLine,n=e.fillShape,s=e.startPoint,o=e.endPoint;e.startLine.radius=Math.abs(s.y),r.radius=Math.abs(o.y),n.radius=Math.abs(o.y),n.innerRadius=Math.abs(s.y)},i.prototype.createBreakSprites=function(e){e.startLine=new Ea,e.endLine=new Ea,e.fillShape=new Ea},i.prototype.updateTooltip=function(){if(this.axis){var h=this.axisAngle;h<0&&(h+=360);var u="vertical";(h>45&&h<135||h>225&&h<315)&&(u="horizontal"),this.axis.updateTooltip(u,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},i.prototype.updateTickElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);if(e.element){var s=di(this.axisAngle+90);e.pixelPerfect=s/90==Math.round(s/90);var o=-e.length;e.inside&&(o*=-1),e.path=N({x:0,y:0})+M({x:o*L(s),y:o*E(s)})}this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateBullet=function(e,t,r){var n=.5;e instanceof Fr&&(n=e.location);var s=this.positionToPoint(t+=(r-t)*n);this.positionItem(e,s),this.toggleVisibility(e,t,0,1)},i.prototype.positionToCoordinate=function(e){var r=this.axis,n=r.axisFullLength,s=this.pixelInnerRadius;return F(r.renderer.inversed?(r.end-e)*n+s:(e-r.start)*n+s,1)},i.prototype.pointToPosition=function(e){var t=de(e)-this.pixelInnerRadius;return this.coordinateToPosition(t)},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),i}(Ot);C.registeredClasses.AxisRendererRadial=_h;var jf=function(a){function i(){var e=a.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Us),xh=function(a){function i(){var e=a.call(this)||this;e._axisRendererX=bh,e._axisRendererY=_h,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=R(80),e.innerRadius=0;var t=e.plotContainer.createChild(U);return t.shouldClone=!1,t.layout="absolute",t.align="center",t.valign="middle",e.seriesContainer.parent=t,e.radarContainer=t,e.bulletsContainer.parent=t,e.axisBulletsContainer=t,e._cursorContainer=t,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=t.createChild(bi),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},i.prototype.processAxis=function(e){a.prototype.processAxis.call(this,e);var t=e.renderer;t.gridContainer.parent=t,t.breakContainer.parent=t,e.parent=this.radarContainer,t.toBack()},i.prototype.handleXAxisRangeChange=function(){a.prototype.handleXAxisRangeChange.call(this),I(this.yAxes.iterator(),function(e){e.invalidate()})},i.prototype.handleYAxisRangeChange=function(){a.prototype.handleYAxisRangeChange.call(this),I(this.xAxes.iterator(),function(e){e.invalidate()})},i.prototype.processConfig=function(e){if(e&&(x(e.cursor)&&!x(e.cursor.type)&&(e.cursor.type="RadarCursor"),x(e.series)&&Ee(e.series)))for(var t=0,r=e.series.length;t<r;t++)e.series[t].type=e.series[t].type||"RadarSeries";a.prototype.processConfig.call(this,e)},i.prototype.beforeDraw=function(){a.prototype.beforeDraw.call(this);var e=this.plotContainer,t=It(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},o=this.innerRadius;if(o instanceof ae){var h=o.value,u=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);this.mr=u,h=Math.max(u*h,u-Math.min(e.innerHeight,e.innerWidth))/u,r=It(this.startAngle,this.endAngle,h),this.innerRadiusModifyer=h/o.value,o=R(100*h)}t=lr([t,r]);var c=Math.min(e.innerWidth/t.width,e.innerHeight/t.height),d=2*ze(this.radius,c)||0,p=d/2,f=this.startAngle,g=this.endAngle;this._pixelInnerRadius=ze(o,p),this._bulletMask.path=Gi(f,g-f,p,this._pixelInnerRadius),I(this.xAxes.iterator(),function(v){v.renderer.useChartAngles&&(v.renderer.startAngle=f,v.renderer.endAngle=g),v.width=d,v.height=d,v.renderer.pixelRadiusReal=p}),I(this.yAxes.iterator(),function(v){v.renderer.startAngle=f,v.renderer.endAngle=g,v.width=d,v.height=d,v.renderer.pixelRadiusReal=p});var m=this.cursor;m&&(m.width=d,m.height=d,m.startAngle=f,m.endAngle=g),this.radarContainer.definedBBox={x:p*t.x,y:p*t.y,width:p*t.width,height:p*t.height},this.radarContainer.validatePosition()},i.prototype.createSeries=function(){return new mh},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),i.prototype.updateXAxis=function(e){e&&e.processRenderer()},i.prototype.updateYAxis=function(e){e&&e.processRenderer()},i}(Dt);C.registeredClasses.RadarChart=xh;var Ch=function(a){function i(){var e=a.call(this)||this;e._axis=new He,e.className="ClockHand";var t=new ce;e.fill=t.getFor("alternativeBackground"),e.stroke=e.fill;var r=new bi;r.radius=5,e.pin=r,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=R(100),e.height=R(100),e.radius=R(100),e.innerRadius=R(0);var n=new Yl;return e.hand=n,e._disposers.push(e._axis),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){a.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var t=Math.max(this.startWidth,this.endWidth);if(e.height=t,e.leftSide=R(this.startWidth/t*100),e.rightSide=R(this.endWidth/t*100),this.axis){var r=this.axis.renderer,n=ze(this.innerRadius,r.pixelRadius),s=ze(this.radius,r.pixelRadius);e.x=n,e.y=-t/2,e.width=s-n}},Object.defineProperty(i.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),i.prototype.showValue=function(e,t,r){if(this._value=e,null!=e&&(y(t)||(t=0),this.axis)){var s=this.axis.renderer.positionToAngle(this.axis.anyToPosition(e)),o=this.rotation;"clockWise"==this.rotationDirection&&s<o&&(this.rotation=o-360),"counterClockWise"==this.rotationDirection&&s>o&&(this.rotation=o+360),this.animate({property:"rotation",to:s},t,r)}},Object.defineProperty(i.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Pe([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var t=e.chart;t&&(this.rotation=t.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),i.prototype.updateValue=function(){this.value=this.value},i.prototype.processConfig=function(e){e&&x(e.axis)&&ne(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),a.prototype.processConfig.call(this,e)},i}(U);C.registeredClasses.ClockHand=Ch,function(a){(0,w.ZT)(function i(){var e=a.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e},a)}(jf);var Nf=function(a){function i(){var e=a.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new Oe(new Ch),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new ye(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},i.prototype.processHand=function(e){var t=e.newValue;t.axis||(t.axis=this.xAxes.getIndex(0))},i.prototype.configOrder=function(e,t){return e==t?0:"hands"==e?1:"hands"==t?-1:a.prototype.configOrder.call(this,e,t)},i}(xh);C.registeredClasses.GaugeChart=Nf;var $a=function(a){function i(){var e=a.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.uidAttr=function(){return this.slice.uidAttr()},i.prototype.hide=function(e,t,r,n){return n||(n=["value"]),a.prototype.hide.call(this,e,t,0,n)},i.prototype.setVisibility=function(e,t){t||this.setWorkingValue("value",e?this.values.value.value:0,0,0),a.prototype.setVisibility.call(this,e,t)},i.prototype.show=function(e,t,r){return r||(r=["value"]),a.prototype.show.call(this,e,t,r)},Object.defineProperty(i.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),i.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(i.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tick",{get:function(){var e=this;if(!this._tick){var t=this.component.ticks.create();this._tick=t,this.addSprite(t),this._disposers.push(t),t.parent=this.component.ticksContainer,this._disposers.push(new pe(function(){e.component&&e.component.ticks.removeValue(t)})),t.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this.addSprite(t),this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,this._disposers.push(new pe(function(){e.component&&e.component.labels.removeValue(t)})),t.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slice",{get:function(){var e=this;if(!this._slice){var t=this.component,r=t.slices.create();this.addSprite(r),this._slice=r,this._disposers.push(r),r.parent=t.slicesContainer,this._disposers.push(new pe(function(){t.slices.removeValue(r)})),r.visible=this.visible,t.itemsFocusable()?(x(this.component.role)||(this.component.role="menu"),x(r.role)||(r.role="menuitem"),r.focusable=!0):(x(this.component.role)||(this.component.role="list"),x(r.role)||(r.role="listitem"),r.focusable=!1),r.focusable&&(r.events.on("focus",function(n){r.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),r.events.on("blur",function(n){r.readerTitle=""},void 0,!1)),r.hoverable&&(r.events.on("over",function(n){r.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),r.events.on("out",function(n){r.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),i}(Ha),Vr=function(a){function i(){var e=a.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Or,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var t=e.createChild(U);t.shouldClone=!1,t.isMeasured=!1,e.slicesContainer=t;var r=e.createChild(U);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",e.ticksContainer=r;var n=e.createChild(U);return n.shouldClone=!1,n.isMeasured=!1,n.layout="none",e.labelsContainer=n,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50,e.defaultState.transitionEasing=yl,e.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createSlice=function(){return new ee},i.prototype.createTick=function(){return new Ir},i.prototype.createLabel=function(){return new st},Object.defineProperty(i.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new Oe(e),this._disposers.push(new ye(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new Oe(e),this._disposers.push(new ye(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new Oe(e),this._disposers.push(new ye(this._labels))}return this._labels},enumerable:!0,configurable:!0}),i.prototype.createDataItem=function(){return new $a},i.prototype.initSlice=function(e){},i.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5)},i.prototype.initTick=function(e){},i.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),a.prototype.validateDataItems.call(this)},i.prototype.validateDataElement=function(e){var t=e.slice;t&&(null==t.fill?this.patterns?(x(t.stroke)||(t.stroke=this.colors.next()),t.fill=this.patterns.next(),x(t.fillOpacity)&&(t.fill.backgroundOpacity=t.fillOpacity),t.stroke instanceof ue&&(t.fill.stroke=t.stroke,t.fill.fill=t.stroke)):t.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==t.stroke&&(t.stroke=t.fill)),a.prototype.validateDataElement.call(this,e),t&&e.bullets.each(function(r,n){null==n.fill&&(n.fill=t.fill),null==n.stroke&&(n.stroke=t.stroke)}),this.updateLegendValue(e)},i.prototype.validateData=function(){a.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},i.prototype.arrangeLabels=function(e){for(var t=0,r=e.length;t<r;t++){var s=e[t].label;if(s){s.invalid&&s.validate();var o=s.measuredHeight;s.visible||(o=0),s.pixelY-o/2<-this.maxHeight/2&&(s.y=-this.maxHeight/2+o/2);var h=this.getNextLabel(t+1,e),u=s.pixelY+o/2;if(h){h.invalid&&h.validate();var c=h.measuredHeight;h.visible||(c=0);var d=h.pixelY;null==d&&(d=0),d-c/2<u&&(h.y=u+c/2)}}}},i.prototype.arrangeLabels2=function(e){for(var t=this.maxHeight/2,r=e.length-1;r>=0;r--){var s=e[r].label;if(s){s.invalid&&s.validate();var o=s.measuredHeight;s.visible||(o=0),s.pixelY+o/2>t&&(s.y=t-o/2,t=s.y-o/2)}}},i.prototype.getNextLabel=function(e,t){if(t.length>=e){var r=t[e];if(r)return r.label&&r.visible?r.label:this.getNextLabel(e+1,t)}},Object.defineProperty(i.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),i.prototype.createLegendMarker=function(e,t){I(e.children.iterator(),function(r){var n=t.slice;r.defaultState.properties.fill=n.fill,r.defaultState.properties.stroke=n.stroke,r.defaultState.properties.fillOpacity=n.fillOpacity,r.defaultState.properties.strokeOpacity=n.strokeOpacity,r.fill=n.fill,r.stroke=n.stroke,r.fillOpacity=n.fillOpacity,r.strokeOpacity=n.strokeOpacity,null==r.fill&&(r.__disabled=!0);var s=e.dataItem;s.color=n.fill,s.colorOrig=n.fill,r.addDisposer(n.events.on("propertychanged",function(o){"fill"==o.property&&(r.__disabled=!1,r.isActive||(r.fill=n.fill),r.defaultState.properties.fill=n.fill,s.color=n.fill,s.colorOrig=n.fill),"stroke"==o.property&&(r.isActive||(r.stroke=n.stroke),r.defaultState.properties.stroke=n.stroke),"strokeOpacity"==o.property&&(r.isActive||(r.strokeOpacity=n.strokeOpacity),r.defaultState.properties.strokeOpacity=n.strokeOpacity)},void 0,!1))})},i.prototype.handleSliceScale=function(e){var t=this,n=e.target.dataItem;n&&n.bullets&&I(n.bullets.iterator(),function(s){t.positionBullet(s[1])})},i.prototype.handleSliceMove=function(e){},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(i.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),i.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(i.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),i.prototype.updateLegendValue=function(e){if(e){var t=e.legendDataItem,r=e.legendSettings;t&&r&&r&&(r.labelText&&(t.label.text=r.labelText),r.itemLabelText&&(t.label.text=r.itemLabelText),r.valueText&&(t.valueLabel.text=r.valueText),r.itemValueText&&(t.valueLabel.text=r.itemValueText))}},i}(Ya);C.registeredClasses.PercentSeries=Vr,C.registeredClasses.PercentSeriesDataItem=$a,Ke.push({relevant:et.maybeXS,state:function(a,i){if(a instanceof Vr){var e=a.states.create(i);return a.labels.template.states.create(i).properties.disabled=!0,a.ticks.template.states.create(i).properties.disabled=!0,e}return null}});var Xs=function(a){function i(){var e=a.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(lh),qs=function(a){function i(){var e=a.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validateData=function(){a.prototype.validateData.call(this),this.feedLegend()},i.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];I(this.series.iterator(),function(r){r.hiddenInLegend||I(r.dataItems.iterator(),function(n){n.hiddenInLegend||(t.push(n),n.legendSettings||(n.legendSettings=r.legendSettings))})}),e.data=t,e.dataFields.name="category"}},i.prototype.createSeries=function(){return new Vr},i.prototype.setLegend=function(e){a.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",e.itemContainers.template.events.on("over",function(t){var r=t.target.dataItem.dataContext;if(r.visible&&!r.isHiding){var n=r.slice;n.dispatchImmediately("over"),n.isHover=!0,n.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(t){var n=t.target.dataItem.dataContext.slice;n.dispatchImmediately("out"),n.isHover=!1}))},i}(Bs);C.registeredClasses.PercentChart=qs,C.registeredClasses.PercentChartDataItem=Xs;var wh=function(a){function i(){var e=a.call(this)||this;return e._label=new He,e._slice=new He,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.slice,t=this.label;if(e&&e.radius>0&&t&&t.text){var n=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,s=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,o=void 0,h=void 0,u=void 0,c=void 0;if(e.dataItem.component.alignLabels)o=t.pixelX-this.length,u=t.pixelX,c=h=t.pixelY,"right"==t.horizontalCenter&&(u=(o+=2*this.length)-this.length);else{var d=t.pixelRadius(e.radius);u=o=n+d*e.ix,c=h=s+d*e.iy}this.element.attr({points:[n,s,o,h,u,c]})}},Object.defineProperty(i.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Pe([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),i}(Ir);C.registeredClasses.PieTick=wh;var Ks=function(a){function i(){var e=a.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),i.prototype.hide=function(e,t,r,n){return a.prototype.hide.call(this,e,t,0,["value","radiusValue"])},i.prototype.show=function(e,t,r){return a.prototype.show.call(this,e,t,["value","radiusValue"])},i}($a),$s=function(a){function i(){var e=a.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=R(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createSlice=function(){return new xi},i.prototype.createTick=function(){return new wh},i.prototype.createLabel=function(){return new Ka},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},i.prototype.createDataItem=function(){return new Ks},i.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})",e.states.create("hover").properties.scale=1.05,e.defaultState.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(s){s.target.hideTooltip(),s.target.interactions.lastHitPointer&&s.target.interactions.lastHitPointer.touch&&!s.target.isActive&&(s.target.isHover=!1)}),e.states.create("active").properties.shiftRadius=.1},i.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=It(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var r=this.dataItems.getIndex(e).values.radiusValue.percent;r>this._maxRadiusPercent&&(this._maxRadiusPercent=r)}a.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(n,s){var o=(n.slice.middleAngle+360)%360,h=(s.slice.middleAngle+360)%360;return o>270&&(o-=360),h>270&&(h-=360),o<h?-1:o>h?1:0}),this._leftItems.sort(function(n,s){var o=(n.slice.middleAngle+360)%360,h=(s.slice.middleAngle+360)%360;return o<h?1:o>h?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},i.prototype.validateDataElement=function(e){if(this.pixelRadius>0){e.__disabled=!(!this.ignoreZeroValues||0!=e.value&&null!=e.value);var t=e.slice;if(t.radius=this.pixelRadius,y(e.radiusValue)&&(t.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),t.innerRadius instanceof ae||(t.innerRadius=this.pixelInnerRadius),t.startAngle=this._currentStartAngle,t.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=e.label,n=e.tick;n.slice=t,n.label=r;var s=(t.middleAngle+360)%360;if(this.alignLabels){var h=r.pixelRadius(t.radius),u=n.length+h;r.dx=0,r.dy=0,r.verticalCenter="middle";var c=this._arcRect;s>270||s<=90?(u+=(c.width+c.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(e)):(u-=c.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(e),u*=-1),r.moveTo({x:u,y:t.iy*(t.radius+n.length+h)})}else{var p=t.depth;y(p)||(p=0),r.fixPosition(t.middleAngle,t.radius,t.radiusY,0,-p)}}this._currentStartAngle+=t.arc,a.prototype.validateDataElement.call(this,e)}},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return y(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",di(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return y(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),i.prototype.positionBullet=function(e){a.prototype.positionBullet.call(this,e);var r=e.dataItem.slice,n=e.locationX;y(n)||(n=.5);var s=e.locationY;y(s)||(s=1);var o=r.startAngle+r.arc*n;e.x=s*r.radius*L(o),e.y=s*r.radiusY*E(o)},i.prototype.handleSliceMove=function(e){if(!this.alignLabels){var t=e.target,r=t.dataItem;if(r){var n=r.label;n&&(n.dx=n.fdx+t.dx+t.pixelX,n.dy=n.fdy+t.dy+t.pixelY)}}},Object.defineProperty(i.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?It(e.startAngle,e.endAngle,this.pixelRadius):It(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),i}(Vr);C.registeredClasses.PieSeries=$s,C.registeredClasses.PieSeriesDataItem=Ks;var Ph=function(a){function i(){var e=a.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Xs),Dh=function(a){function i(){var e=a.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=R(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var t=e.seriesContainer;return t.isMeasured=!0,t.valign="middle",t.align="center",t.layout="absolute",t.width=void 0,t.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e._disposers.push(e.seriesContainer.events.on("positionchanged",function(){e.bulletsContainer.x=e.seriesContainer.x,e.bulletsContainer.y=e.seriesContainer.y})),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},i.prototype.validateLayout=function(){a.prototype.validateLayout.call(this),this.updateRadius()},i.prototype.handleSeriesAdded=function(e){a.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},i.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(t){t._startAngleInternal=e.startAngle,t._endAngleInternal=e.endAngle})},i.prototype.updateRadius=function(){var e=this.chartContainer,t=It(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},n=this.innerRadius;n instanceof ae&&(r=It(this.startAngle,this.endAngle,n.value)),t=lr([t,r]);var s=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);y(s)||(s=0);var o=ze(this.radius,s),h=ze(this.innerRadius,s),u=(o-h)/this.series.length;(o!=this._chartPixelRadius||h!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=o,this._chartPixelInnerRadius=h,I(fi(this.series.iterator()),function(c){var d=c[0],p=c[1],f=h+ze(p.radius,o-h),g=h+ze(p.innerRadius,o-h);y(f)||(f=h+u*(d+1)),y(g)||(g=h+u*d),p.pixelRadius=f,p.pixelInnerRadius=g}),this.seriesContainer.definedBBox={x:o*t.x,y:o*t.y,width:o*t.width,height:o*t.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),i.prototype.createSeries=function(){return new $s},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),i}(qs);C.registeredClasses.PieChart=Dh,C.registeredClasses.PieChartDataItem=Ph;var Sh=function(a){function i(){var e=a.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),i}(Ks),Th=function(a){function i(){var e=a.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createDataItem=function(){return new Sh},i.prototype.createSlice=function(){return new Af},i.prototype.validateDataElement=function(e){var t=e.slice,r=this.depth;y(r)||(r=this.chart.depth);var n=e.values.depthValue.percent;y(n)||(n=100),t.depth=n*r/100;var s=this.angle;y(s)||(s=this.chart.angle),t.angle=s,a.prototype.validateDataElement.call(this,e)},i.prototype.validate=function(){a.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var r=this.dataItems.getIndex(e).slice,n=r.startAngle;n>=-90&&n<90?r.toFront():n>=90&&r.toBack()}},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),i.prototype.positionBullet=function(e){a.prototype.positionBullet.call(this,e),e.y=e.pixelY-e.dataItem.slice.depth},i}($s);C.registeredClasses.PieSeries3D=Th,C.registeredClasses.PieSeries3DDataItem=Sh,function(a){(0,w.ZT)(function i(){var e=a.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e},a)}(Ph);var Bf=function(a){function i(){var e=a.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=B(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),i.prototype.createSeries=function(){return new Th},i}(Dh);C.registeredClasses.PieChart3D=Bf;var Zf=function(a){function i(){var e=a.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Xs),Hf=function(a){function i(){var e=a.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},i.prototype.validate=function(){a.prototype.validate.call(this)},i}(qs);C.registeredClasses.SlicedChart=Hf,C.registeredClasses.SlicedChartDataItem=Zf;var Ja=function(a){function i(){var e=a.call(this)||this;return e.legendSettings=new oh,e.className="FlowDiagramNode",e.isMeasured=!1,new ce,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return(0,w.ZT)(i,a),i.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},i.prototype.show=function(e){var t=a.prototype.show.call(this,e);return this.outgoingDataItems.each(function(r){(!r.toNode||r.toNode&&!r.toNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),this.incomingDataItems.each(function(r){(!r.fromNode||r.fromNode&&!r.fromNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),t},i.prototype.hide=function(e){var t=a.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),this.incomingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),t},i.prototype.validate=function(){this.isDisposed()||(a.prototype.validate.call(this),this.invalidateLinks())},i.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(t){var r=t.link;if("fromNode"==r.colorMode&&(r.fill=r.dataItem.fromNode.color),"gradient"==r.colorMode){r.fill=r.gradient,r.stroke=r.gradient;var n=r.gradient.stops.getIndex(0);n&&(n.color=e.color,r.gradient.validate())}}),this.incomingDataItems.each(function(t){var r=t.link;if("toNode"==r.colorMode&&(r.fill=r.dataItem.toNode.color),"gradient"==r.colorMode){r.fill=r.gradient,r.stroke=r.gradient;var n=r.gradient.stops.getIndex(1);n&&(n.color=e.color,r.gradient.validate())}})},Object.defineProperty(i.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var t=new he;t.events.on("inserted",function(){e._incomingSorted="name"==e.chart.sortBy?Ni(e._incomingDataItems.iterator(),function(r,n){return qn(r.fromName,n.fromName)}):"value"==e.chart.sortBy?Ni(e._incomingDataItems.iterator(),function(r,n){return $n(Vt(r.value,n.value))}):e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=t}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var t=new he;t.events.on("inserted",function(){e._outgoingSorted="name"==e.chart.sortBy?Ni(e._outgoingDataItems.iterator(),function(r,n){return qn(r.fromName,n.fromName)}):"value"==e.chart.sortBy?Ni(e._outgoingDataItems.iterator(),function(r,n){return $n(Vt(r.value,n.value))}):e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=t}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),i.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var n=e.createChild(jt);n.shouldClone=!1,Fe(this,n,Me),n.stroke=this.fill,n.copyFrom(this),n.padding(0,0,0,0),n.width=t,n.height=r;var s=e.dataItem;s.color=n.fill,s.colorOrig=n.fill},Object.defineProperty(i.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.FlowDiagramNode=Ja;var Qa=function(a){function i(){var e=a.call(this)||this;e.className="FlowDiagramLink";var t=new ce;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}\u2192{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(ee),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=t.getFor("alternativeBackground"),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.positionBullets=function(){var e=this;I(this.bullets.iterator(),function(t){t.parent=e.bulletsContainer,t.maxWidth=e.maxWidth,t.maxHeight=e.maxHeight,e.positionBullet(t)})},Object.defineProperty(i.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(U);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(ee);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),i.prototype.positionBullet=function(e){var t=e.locationX;y(t)||(t=e.locationY),y(t)||(t=.5);var s,r=this.middleLine.positionToPoint(t);e.moveTo(r),e.dataItem&&(s=e.dataItem.dataContext[e.propertyFields.rotation]),y(s)||(s=r.angle),e.rotation=s},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if("gradient"==e){var t=this.fill;this.gradient.stops.clear(),t instanceof ue&&(this.gradient.addColor(t),this.gradient.addColor(t)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),i.prototype.setFill=function(e){a.prototype.setFill.call(this,e);var t=this._gradient;t&&e instanceof ue&&(t.stops.clear(),t.addColor(e),t.addColor(e))},i.prototype.measureElement=function(){},Object.defineProperty(i.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new Oe(new Nt),this._disposers.push(new ye(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(t){t.newValue.events.on("propertychanged",function(r){("locationX"==r.property||"locationY"==r.property)&&e.positionBullet(r.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var t=this.middleLine;t&&(t instanceof At&&e.middleLine instanceof At&&t.copyFrom(e.middleLine),t instanceof Tr&&e.middleLine instanceof Tr&&t.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},i.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},i.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(i.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Pt),this._gradient},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.FlowDiagramLink=Qa;var Js=function(a){function i(){var e=a.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Ct(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"link",{get:function(){var e=this;if(!this._link){var t=this.component.links.create();this._link=t,this.addSprite(t),this._disposers.push(new pe(function(){e.component&&e.component.links.removeValue(t)}))}return this._link},enumerable:!0,configurable:!0}),i}(sh),Qs=function(a){function i(){var e=a.call(this)||this;e.colors=new Or,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var t=e.chartContainer.createChild(U);t.shouldClone=!1,t.layout="none",t.isMeasured=!1,e.linksContainer=t;var r=e.chartContainer.createChild(U);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,e.nodesContainer=r,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.dispose=function(){a.prototype.dispose.call(this),this.dataItem.dispose()},i.prototype.validateData=function(){var e=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),a.prototype.validateData.call(this);var n,s,t=0,r=0;I(this.dataItems.iterator(),function(h){var u=h.fromName;u&&((c=e.nodes.getKey(u))||((c=e.nodes.create(u)).name=u,c.chart=e,c.dataItem=h),h.fromNode=c,h.fromNode.outgoingDataItems.push(h));var c,d=h.toName;if(d&&((c=e.nodes.getKey(d))||((c=e.nodes.create(d)).name=d,c.chart=e,c.dataItem=h),h.toNode=c,h.toNode.incomingDataItems.push(h)),!h.fromNode){var p=new La;p.opacities=[0,1],h.link.strokeModifier=p}if(!h.toNode){var f=new La;f.opacities=[1,0],h.link.strokeModifier=f}var g=h.value;y(g)&&(t+=g,r++,(n>g||!y(n))&&(n=g),(s<g||!y(s))&&(s=g))});var o="value";this.dataItem.setCalculatedValue(o,s,"high"),this.dataItem.setCalculatedValue(o,n,"low"),this.dataItem.setCalculatedValue(o,t,"sum"),this.dataItem.setCalculatedValue(o,t/r,"average"),this.dataItem.setCalculatedValue(o,r,"count"),I(this.nodes.iterator(),function(h){var u=h[1];u.fill instanceof ue&&(u.color=u.fill),null==u.color&&(u.color=e.colors.next()),null!=u.dataItem.color&&(u.color=u.dataItem.color),u.dataItem.visible||u.hide(0),e.getNodeValue(u)}),this.sortNodes(),this.feedLegend()},i.prototype.handleDataItemWorkingValueChange=function(e,t){this.invalidate()},i.prototype.sortNodes=function(){this._sorted="name"==this.sortBy?this.nodes.sortedIterator():"value"==this.sortBy?Ni(this.nodes.iterator(),function(e,t){return $n(Vt(e[1].total,t[1].total))}):this.nodes.iterator()},i.prototype.getNodeValue=function(e){var t=0,r=0;I(e.incomingDataItems.iterator(),function(n){var s=n.getWorkingValue("value");y(s)&&(t+=s)}),I(e.outgoingDataItems.iterator(),function(n){var s=n.getWorkingValue("value");y(s)&&(r+=s)}),e.total=t+r,e.totalIncoming=t,e.totalOutgoing=r},i.prototype.changeSorting=function(){this.sortNodes()},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},i.prototype.createDataItem=function(){return new Js},Object.defineProperty(i.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(t){t.target.handleHit(t)}),this._nodes=new gr(e),this._disposers.push(new gi(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),i.prototype.createNode=function(){var e=new Ja;return this._disposers.push(e),e},Object.defineProperty(i.prototype,"links",{get:function(){return this._links||(this._links=new Oe(this.createLink()),this._disposers.push(new ye(this._links))),this._links},enumerable:!0,configurable:!0}),i.prototype.createLink=function(){var e=new Qa;return this._disposers.push(e),e},i.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];this.nodes.each(function(r,n){t.push(n)}),e.data=t,e.dataFields.name="name"}},i.prototype.disposeData=function(){a.prototype.disposeData.call(this),this.nodes.clear()},i}(wi);C.registeredClasses.FlowDiagram=Qs;var eo=function(a){function i(){var e=a.call(this)||this;e.className="LabelBullet";var t=e.createChild(st);return t.shouldClone=!1,t.verticalCenter="middle",t.horizontalCenter="middle",t.truncate=!0,t.hideOversized=!1,t.maxWidth=500,t.maxHeight=500,t.stroke=G(),t.strokeOpacity=0,t.fill=(new ce).getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=t,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},i}(Nt);C.registeredClasses.LabelBullet=eo;var Ah=function(a){function i(){var e=a.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var t=e.createChild(eo);t.shouldClone=!1,t.locationX=1,t.locationY=.5,t.label.text="{name}",t.width=150,t.height=150,t.label.horizontalCenter="left",t.label.padding(0,5,0,5),e.nameLabel=t;var r=e.createChild(eo);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",e.valueLabel=r;var n=e.hiddenState;return n.properties.fill=(new ce).getFor("disabledBackground"),n.properties.opacity=.5,n.properties.visible=!0,e.background.hiddenState.copyFrom(n),e}return(0,w.ZT)(i,a),i.prototype.invalidateLinks=function(){var e=this;a.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var t=this.chart;if(t){var r=t.orientation;this._incomingSorted&&I(this._incomingSorted,function(n){var s=n.link,o=n.getWorkingValue("value");if(y(o)){s.parent=e.chart.linksContainer;var h=void 0,u=void 0,c=void 0;if("horizontal"==r?(h=e.pixelX+e.dx,u=e.nextInCoord+e.pixelY+e.dy,c=0):(u=e.pixelY+e.dy,h=e.nextInCoord+e.pixelX+e.dx,c=90),s.endX=h,s.endY=u,s.startAngle=c,s.endAngle=c,s.gradient.rotation=c,s.linkWidth=o*t.valueHeight,!n.fromNode){"horizontal"==r?(s.maxWidth=200,s.startX=e.pixelX+e.dx-s.maxWidth,s.startY=s.endY):(s.maxHeight=200,s.startX=s.endX,s.startY=e.pixelY+e.dy-s.maxHeight),s.fill=n.toNode.color;var d=s.gradient.stops.getIndex(0);d&&("gradient"==s.colorMode&&(d.color=e.color),d.opacity=0,s.fill=s.gradient,s.stroke=s.gradient,s.gradient.validate())}e.nextInCoord+=s.linkWidth}}),this._outgoingSorted&&I(this._outgoingSorted,function(n){var s=n.link;s.parent=e.chart.linksContainer;var o=n.getWorkingValue("value");if(y(o)){var h=void 0,u=void 0,c=void 0;if("horizontal"==r?(c=0,h=e.pixelX+e.pixelWidth+e.dx-1,u=e.nextOutCoord+e.pixelY+e.dy):(c=90,h=e.nextOutCoord+e.pixelX+e.dx,u=e.pixelY+e.pixelHeight+e.dy-1),s.startX=h,s.startY=u,s.startAngle=c,s.endAngle=c,s.gradient.rotation=c,s.linkWidth=o*e.chart.valueHeight,!n.toNode){"horizontal"==r?(s.maxWidth=200,s.endX=e.pixelX+s.maxWidth+e.dx,s.endY=s.startY):(s.maxHeight=200,s.endX=s.startX,s.endY=e.pixelY+s.maxHeight+e.dy),s.opacity=e.opacity;var d=s.gradient.stops.getIndex(1);d&&("gradient"==s.colorMode&&(d.color=e.color),d.opacity=0,s.fill=s.gradient,s.stroke=s.gradient,s.gradient.validate())}e.nextOutCoord+=s.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},i.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(i.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},i}(Ja);C.registeredClasses.SankeyNode=Ah;var Oh=function(a){function i(){var e=a.call(this)||this;return e.className="SankeyLink",new ce,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(Fa),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.makeBackwards=function(){null!=this.states.getKey("backwards")&&this.setState("backwards")},i.prototype.validate=function(){var e,t,r,n;if(a.prototype.validate.call(this),!this.isTemplate){var s=this.startX,o=this.startY,h=this.endX,u=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var c=this.dataItem.component;c&&("horizontal"==c.orientation?h<s&&(s=(e=(0,w.CR)([h,s],2))[0],h=e[1],o=(t=(0,w.CR)([u,o],2))[0],u=t[1],this.makeBackwards()):u<o&&(o=(r=(0,w.CR)([u,o],2))[0],u=r[1],s=(n=(0,w.CR)([h,s],2))[0],h=n[1],this.makeBackwards()))}y(h)||(h=s),y(u)||(u=o);var d=this.startAngle,p=this.endAngle,f=this.linkWidth,g="",m=s,v=o,b=h,_=u,P=s+f*E(d),S=h+f*E(p),D=o+f*L(d),T=u+f*L(p),A=s+f/2*E(d),O=h+f/2*E(p),k=o+f/2*L(d),X=u+f/2*L(p);this.zIndex=this.zIndex||this.dataItem.index;var Z=this.tension+(1-this.tension)*E(d),Y=this.tension+(1-this.tension)*L(d);if(this.middleLine.tensionX=Z,this.middleLine.tensionY=Y,y(f)&&y(s)&&y(h)&&y(o)&&y(u)){F(m,3)==F(b,3)&&(b+=.01),F(v,3)==F(_,3)&&(_+=.01),F(P,3)==F(S,3)&&(S+=.01),F(D,3)==F(T,3)&&(T+=.01);var fe=Math.min(P,S,m,b),Le=Math.min(D,T,v,_),Je=Math.max(P,S,m,b),z=Math.max(D,T,v,_);this._bbox={x:fe,y:Le,width:Je-fe,height:z-Le};var Ve=this.controlPointDistance,je=m+(b-m)*Ve*L(d),Re=v+(_-v)*Ve*E(d),rt=b-(b-m)*Ve*L(p),Ne=_-(_-v)*Ve*E(p),W=A+(O-A)*Ve*L(d),me=k+(X-k)*Ve*E(d),Ae=O-(O-A)*Ve*L(p),St=X-(X-k)*Ve*E(p),bt=We({x:je,y:Re},{x:rt,y:Ne}),ot=(f/L(bt)-f)/Eo(bt)*L(d),ct=(f/E(bt)-f)*Eo(bt)*E(d),Bt=-ot/2+P+(S-P)*Ve*L(d),kt=-ct/2+D+(T-D)*Ve*E(d),Ti=-ot/2+S-(S-P)*Ve*L(p),Ai=-ct/2+T-(T-D)*Ve*E(p);X==k&&(X+=.01),this.middleLine.segments=[[{x:A,y:k},{x:W,y:me},{x:Ae,y:St},{x:O,y:X}]],je+=ot/2,Re+=ct/2,rt+=ot/2,Ne+=ct/2,g+=N({x:m,y:v}),g+=new oi(Z,Y).smooth([{x:m,y:v},{x:je,y:Re},{x:rt,y:Ne},{x:b,y:_}]),g+=M({x:S,y:T}),g+=new oi(Z,Y).smooth([{x:S,y:T},{x:Ti,y:Ai},{x:Bt,y:kt},{x:P,y:D}]),g+=" Z"}this.link.path=g,this.maskBullets&&(this.bulletsMask.path=g,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(i.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),i}(Qa);C.registeredClasses.SankeyLink=Oh;var Yf=function(a){function i(){var e=a.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Js),Uf=function(a){function i(){var e=a.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=R(100),e.nodesContainer.height=R(100),e.linksContainer.width=R(100),e.linksContainer.height=R(100),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validateData=function(){var e=this;this._valueHeight=void 0,a.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(t,r){r.level=void 0}),this.nodes.each(function(t,r){r.level=e.getNodeLevel(r,0),e._levelCount=Q(e._levelCount,r.level)})},i.prototype.getNodeLevel=function(e,t){var r=this,n=[t];return I(e.incomingDataItems.iterator(),function(s){s.fromNode&&(y(s.fromNode.level)?n.push(s.fromNode.level+1):(r._counter=0,r.checkLoop(s.fromNode),r._counter<r.dataItems.length&&n.push(r.getNodeLevel(s.fromNode,t+1))))}),Math.max.apply(Math,(0,w.fl)(n))},i.prototype.checkLoop=function(e){var t=this;this._counter++,!(this._counter>this.dataItems.length)&&I(e.incomingDataItems.iterator(),function(r){t.checkLoop(r.fromNode)})},i.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var r,n,s,t=this.dataItem.values.value.sum;I(this._sorted,function(d){e.getNodeValue(d[1])}),this.nodes.each(function(d,p){var f=p.level,g=Math.max(p.totalIncoming,p.totalOutgoing);g/t<e.minNodeSize&&(g=t*e.minNodeSize),y(e._levelSum[f])?e._levelSum[f]+=g:e._levelSum[f]=g,y(e._levelNodesCount[f])?e._levelNodesCount[f]++:e._levelNodesCount[f]=1}),r="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,q(this._levelSum,function(d,p){var f=p,m=(r-(e._levelNodesCount[d]-1)*e.nodePadding)/f;m==1/0&&(m=0),(s>m||!y(s))&&(s=m,e.maxSum=f,n=ve(d))}),this._maxSumLevel=n;var h=(r-(this._levelNodesCount[this._maxSumLevel]-1)*this.nodePadding)/this.maxSum;if(h==1/0&&(h=0),y(this.valueHeight)){var u=void 0;try{u=this._heightAnimation.animationOptions[0].to}catch{}if(u!=h){var c=this.interpolationDuration;try{c=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Tt(this,{property:"valueHeight",from:this.valueHeight,to:h},c,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=h},i.prototype.validate=function(){var e=this;a.prototype.validate.call(this),this.calculateValueHeight();var o,t=this.nodesContainer,r={},n=this._levelNodesCount[this._maxSumLevel],s=this.dataItem.values.value.sum;o="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,I(this._sorted,function(h){var u=h[1],c=u.level,d=0,p=e._levelNodesCount[c];switch(e.nodeAlign){case"bottom":d=(e.maxSum-e._levelSum[c])*e.valueHeight-(p-n)*e.nodePadding;break;case"middle":d=(e.maxSum-e._levelSum[c])*e.valueHeight/2-(p-n)*e.nodePadding/2}if(0==e.maxSum)switch(e.nodeAlign){case"bottom":d=o-p*(e.minNodeSize*o+e.nodePadding);break;case"middle":d=o/2-p/2*(e.minNodeSize*o+e.nodePadding)}u.parent=t;var g,m,v=Math.max(u.totalIncoming,u.totalOutgoing);if(v/s<e.minNodeSize&&(v=s*e.minNodeSize),"horizontal"==e.orientation){g=(e.innerWidth-u.pixelWidth)/e._levelCount*u.level,m=r[c]||d;var b=v*e.valueHeight;0==s&&0==b&&(b=e.minNodeSize*o),u.height=b,u.minX=g,u.maxX=g,r[c]=m+b+e.nodePadding}else{g=r[c]||d,m=(e.innerHeight-u.pixelHeight)/e._levelCount*u.level;var _=v*e.valueHeight;0==s&&0==_&&(_=e.minNodeSize*o),u.width=_,u.minY=m,u.maxY=m,r[c]=g+_+e.nodePadding}u.x=g,u.y=m})},i.prototype.showReal=function(e){var t=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,n=0;I(this.links.iterator(),function(s){s.hide(0)}),I(this._sorted,function(s){var h,o=s[1];"horizontal"==t.orientation?(o.dx=-(r.pixelWidth-o.pixelWidth)/Math.max(t._levelCount,1),h="dx"):(o.dy=-(r.pixelHeight-o.pixelHeight)/Math.max(t._levelCount,1),h="dy");var u=0;t.sequencedInterpolation&&(u=t.sequencedInterpolationDelay*n+t.interpolationDuration*n/function yd(a){var i=0;return a(function(e){return++i,!0}),i}(t.nodes.iterator())),o.opacity=0,o.invalidateLinks(),o.animate([{property:"opacity",from:0,to:1},{property:h,to:0}],t.interpolationDuration,t.interpolationEasing).delay(u),I(o.outgoingDataItems.iterator(),function(d){var p=d.link.show(t.interpolationDuration);p&&!p.isFinished()&&p.delay(u)}),I(o.incomingDataItems.iterator(),function(d){if(!d.fromNode){var p=d.link.show(t.interpolationDuration);p&&!p.isFinished()&&p.delay(u)}}),n++})}return a.prototype.showReal.call(this)}},i.prototype.changeSorting=function(){var e=this;this.sortNodes();var t={};I(this._sorted,function(r){var h,u,n=r[1],s=n.level,o=(e.maxSum-e._levelSum[s])*e.valueHeight/2;"horizontal"==e.orientation?(h="y",u=n.pixelHeight):(h="x",u=n.pixelWidth),n.animate({property:h,to:t[s]||o},e.interpolationDuration,e.interpolationEasing),t[s]=(t[s]||o)+u+e.nodePadding,n.invalidateLinks()})},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},i.prototype.createDataItem=function(){return new Yf},Object.defineProperty(i.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.nodes.template.nameLabel;"vertical"==e?(this.nodes.template.width=void 0,t.label.horizontalCenter="middle",t.locationX=.5):(this.nodes.template.height=void 0,t.label.horizontalCenter="left",t.locationX=1)},enumerable:!0,configurable:!0}),i.prototype.createNode=function(){var e=new Ah;return this._disposers.push(e),e},i.prototype.createLink=function(){var e=new Oh;return this._disposers.push(e),e},Object.defineProperty(i.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.disposeData=function(){a.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},i}(Qs);C.registeredClasses.SankeyDiagram=Uf;var kh=function(a){function i(){var e=a.call(this)||this;e.className="ChordNode";var t=e.createChild(Ka);t.location=.5,t.radius=5,t.text="{name}",t.zIndex=1,t.shouldClone=!1,e.label=t,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(xi),e.slice.isMeasured=!1;var r=e.hiddenState;return r.properties.fill=(new ce).getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(n,s){return s.slice.ix*(s.slice.radius-(s.slice.radius-s.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(n,s){return s.slice.iy*(s.slice.radius-(s.slice.radius-s.slice.pixelInnerRadius)/2)}),e}return(0,w.ZT)(i,a),i.prototype.invalidateLinks=function(){var e=this;a.prototype.invalidateLinks.call(this);var t=this.label,r=this.slice,n=this.chart;if(n&&r){var s=this.total,o=r.arc,h=r.startAngle;this.children.each(function(d){if(d instanceof Nt){var p=d.locationX;y(p)||(p=.5);var f=d.locationY;y(f)||(f=1);var g=h+o*p,m=f*r.radius;d.x=m*L(g),d.y=m*E(g)}});var u=h+o*t.location,c=h+(1-s/this.adjustedTotal)*o*.5;Ue(c)&&(c=h),t.fixPosition(u,r.radius),this.nextAngle=c,this._outgoingSorted&&I(this._outgoingSorted,function(d){var p=d.link;p.parent=e.chart.linksContainer;var f=d.getWorkingValue("value");if(y(f)){if(n.nonRibbon){var g=p.percentWidth;y(g)||(g=5),p.startAngle=h+o/2-o/2*(g/=100),p.arc=o*g}else p.arc=f*n.valueAngle,p.startAngle=e.nextAngle,e.nextAngle+=p.arc;d.toNode||(p.endAngle=p.startAngle),p.radius=r.pixelInnerRadius}}),this._incomingSorted&&I(this._incomingSorted,function(d){var p=d.link;if(p.radius=r.pixelInnerRadius,n.nonRibbon){var f=p.percentWidth;y(f)||(f=5),p.endAngle=h+o/2-o/2*(f/=100),p.arc=o*f}else{p.endAngle=e.nextAngle;var g=d.getWorkingValue("value");y(g)&&(p.arc=g*n.valueAngle,e.nextAngle+=p.arc)}d.fromNode||(p.startAngle=p.endAngle)})}},i.prototype.updateRotation=function(){var e=this.slice,t=this.trueStartAngle+e.arc/2,r=e.radius,n=r*L(t),s=r*E(t),o=We({x:n+this.pixelX,y:s+this.pixelY});e.startAngle=this.trueStartAngle+(o-t),this.dx=-this.pixelX,this.dy=-this.pixelY},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},i}(Ja);C.registeredClasses.ChordNode=kh;var Wf=function(a){function i(){var e=a.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=G(),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){if(y(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var t={x:this.x2,y:this.y2},r={x:this.cpx,y:this.cpy},n=N({x:this.x1,y:this.y1})+_i(t,r);this.path=n}},Object.defineProperty(i.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},r={x:this.cpx,y:this.cpy},n={x:this.x2,y:this.y2},s=Lo(t,n,r,e),o=Lo(t,n,r,e+.001);return{x:s.x,y:s.y,angle:We(s,o)}},i}(At),Mh=function(a){function i(){var e=a.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(Wf),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){if(a.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,t=this.endAngle,r=this.arc,n=this.radius,s=this.dataItem.fromNode,o=this.dataItem.toNode,h=0,u=0;s&&(h=s.pixelX+s.dx,u=s.pixelY+s.dy);var c=0,d=0;if(o&&(c=o.pixelX+o.dx,d=o.pixelY+o.dy),n>0){var p=n*L(e)+h,f=n*E(e)+u,g=n*L(t)+c,m=n*E(t)+d,v={x:0,y:0},b=N({x:p,y:f});b+=Ye(e,r,n),b+=_i({x:g,y:m},v),b+=Ye(t,r,n),b+=_i({x:p,y:f},v),this.link.path=r>0?b:"",this.maskBullets&&(this.bulletsMask.path=b,this.bulletsContainer.mask=this.bulletsMask);var _=e+r/2,P=t+r/2,S=this.middleLine;S.x1=n*L(_)+h,S.y1=n*E(_)+u,S.x2=n*L(P)+c,S.y2=n*E(P)+d,S.cpx=0,S.cpy=0,S.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),i}(Qa);C.registeredClasses.ChordLink=Mh;var zf=function(a){function i(){var e=a.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(Js),Gf=function(a){function i(){var e=a.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=R(80),e.innerRadius=-15,e.nodePadding=5;var t=e.chartContainer.createChild(U);return t.align="center",t.valign="middle",t.shouldClone=!1,t.layout="absolute",e.chordContainer=t,e.nodesContainer.parent=t,e.linksContainer.parent=t,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validate=function(){var e=this,t=this.chartContainer,r=this.endAngle,n=this.startAngle+this.nodePadding/2,s=It(this.startAngle,this.endAngle,1);s=lr([s,{x:0,y:0,width:0,height:0}]);var h=Math.min(t.innerWidth/s.width,t.innerHeight/s.height);y(h)||(h=0);var u=ze(this.radius,h),c=ze(this.innerRadius,u,!0),d=this.dataItem.values.value.sum,p=0,f=0;I(this._sorted,function(g){var m=g[1];e.getNodeValue(m),p++;var v=m.total;m.total/d<e.minNodeSize&&(v=d*e.minNodeSize),f+=v}),this.valueAngle=(r-this.startAngle-this.nodePadding*p)/f,I(this._sorted,function(g){var m=g[1],v=m.slice;v.radius=u,v.innerRadius=c;var _,b=m.total;m.total/d<e.minNodeSize&&(b=d*e.minNodeSize),m.adjustedTotal=b,v.arc=_=e.nonRibbon?(r-e.startAngle)/p-e.nodePadding:e.valueAngle*b,v.startAngle=n,m.trueStartAngle=n,m.parent=e.nodesContainer,m.validate(),n+=_+e.nodePadding}),this.chordContainer.definedBBox={x:u*s.x,y:u*s.y,width:u*s.width,height:u*s.height},this.chordContainer.invalidateLayout(),a.prototype.validate.call(this)},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},i.prototype.createDataItem=function(){return new zf},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),i.prototype.createNode=function(){var e=new kh;return this._disposers.push(e),e},i.prototype.createLink=function(){var e=new Mh;return this._disposers.push(e),e},i}(Qs);C.registeredClasses.ChordDiagram=Gf;var Si=function(a){function i(){var e=a.call(this)||this;return e.className="Column",e.width=R(80),e.height=R(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return(0,w.ZT)(i,a),i.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},i.prototype.createAssets=function(){this.column=this.createChild(jt),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},i.prototype.validate=function(){a.prototype.validate.call(this);var e=this.column;e&&(e.width=se(this.pixelWidth,this.maxWidth),e.height=se(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(i.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:se(this.pixelWidth,this.maxWidth),height:se(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.Column=Si;var li=function(a){function i(){var e=a.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),i.prototype.setColumn=function(e){var t=this;if(this._column&&e!=this._column&&$(this.sprites,this._column),this._column=e,e){var r=e.dataItem;r&&r!=this&&(r.column=void 0),this.addSprite(e),this._disposers.push(new pe(function(){t.component&&t.component.columns.removeValue(e)}))}},Object.defineProperty(i.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new be),this._rangesColumns},enumerable:!0,configurable:!0}),i}(Xa),yt=function(a){function i(){var e=a.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=R(100),e.height=R(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var t=e.mainContainer.createChild(U);return t.shouldClone=!1,t.isMeasured=!1,t.layout="none",e._columnsContainer=t,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},i.prototype.createDataItem=function(){return new li},i.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var o,r=0,n=0,s=[];I(this.chart.series.iterator(),function(m){var v;m instanceof i&&e.baseAxis==m.baseAxis&&(v=e.baseAxis==e.xAxis?e.chart.yAxes.indexOf(m.yAxis):e.chart.xAxes.indexOf(m.xAxis),s.push({series:m,axis:v}))}),s.sort(function(m,v){return m.axis-v.axis}),j(s,function(m){var v=m.series;v instanceof i&&((!v.stacked&&v.clustered||o!=m.axis&&v.clustered)&&r++,v==e&&(n=r-1)),o=m.axis}),this.clustered||(n=0,r=1);var h=this.baseAxis.renderer,u=h.cellStartLocation,c=h.cellEndLocation;this._startLocation=u+n/r*(c-u),this._endLocation=u+(n+1)/r*(c-u);var d=this.xAxis,p=this.yAxis;d instanceof Te&&p instanceof te&&d.sortBySeries==this&&this.sortCategoryAxis(d,"valueY"),p instanceof Te&&d instanceof te&&p.sortBySeries==this&&this.sortCategoryAxis(p,"valueX")}a.prototype.validate.call(this);for(var f=0;f<this.startIndex;f++){var g=this.dataItems.getIndex(f);this.disableUnusedColumns(g)}for(f=this.dataItems.length-1;f>this.endIndex;f--)g=this.dataItems.getIndex(f),this.disableUnusedColumns(g);this._propertiesChanged=!1},i.prototype.sortCategoryAxis=function(e,t){var r=this;this.dataItems.values.sort(function(s,o){return o.values[t].workingValue-s.values[t].workingValue});var n=0;this.dataItems.each(function(s){s._index=n,n++}),e.dataItems.each(function(s){var o=s.component,h=o.categoryToPosition(s.category)-s.deltaPosition,u=o.getSeriesDataItemByCategory(s.category,r);if(u){var c=r.dataItems.indexOf(u);s._index=c;var d=F((c+.5)/r.dataItems.length-h,3);s.deltaAnimation&&!s.deltaAnimation.isDisposed()&&s.deltaAnimation.animationOptions[0].to==d||d!=F(s.deltaPosition,3)&&(s.deltaAnimation&&s.deltaAnimation.stop(),s.deltaAnimation=s.animate({property:"deltaPosition",from:-d,to:0},o.interpolationDuration,o.interpolationEasing),r._disposers.push(s.deltaAnimation))}}),e.dataItems.values.sort(function(s,o){return s.index-o.index})},i.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),a.prototype.validateDataElement.call(this,e))},i.prototype.getStartLocation=function(e){return this._startLocation+(this.baseAxis==this.xAxis?e.locations[this.xOpenField]-.5:e.locations[this.yOpenField]-.5)},i.prototype.getEndLocation=function(e){return this._endLocation+(this.baseAxis==this.xAxis?e.locations[this.xField]-.5:e.locations[this.yField]-.5)},i.prototype.validateDataElementReal=function(e){var r,n,s,o,t=this,h=this.getStartLocation(e),u=this.getEndLocation(e),c=this.xField,d=this.xOpenField,p=this.yField,f=this.yOpenField,g=this.columns.template,m=g.percentWidth,v=g.percentHeight,b=g.pixelWidth,_=g.pixelHeight,P=g.maxWidth,S=g.maxHeight,D=g.pixelPaddingLeft,T=g.pixelPaddingRight,A=g.pixelPaddingTop,O=g.pixelPaddingBottom,k=!1,X=e.width;x(X)&&(y(X)&&(b=X),X instanceof ae&&(m=100*X.value));var Z=e.height;if(x(Z)&&(y(Z)&&(_=Z),Z instanceof ae&&(v=100*Z.value)),this.xAxis instanceof Te&&this.yAxis instanceof Te){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;h=0,u=1,Ue(m)||(h+=Y=F((u-h)*(1-m/100)/2,5),u-=Y),r=this.xAxis.getX(e,d,h),n=this.xAxis.getX(e,c,u),Ue(m)&&(r+=Y=(n-r-b)/2,n-=Y),!Ue(P)&&P<Math.abs(n-r)&&(r+=Y=(n-r-P)/2,n-=Y),h=0,u=1,Ue(v)||(h+=Y=F((1-v/100)/2,5),u-=Y),s=this.yAxis.getY(e,f,h),o=this.yAxis.getY(e,p,u),Ue(v)&&(o+=Y=(o-s-_)/2,s-=Y),!Ue(S)&&S<Math.abs(o-s)&&(o+=Y=(o-s-S)/2,s-=Y),n=this.fixHorizontalCoordinate(n),r=this.fixHorizontalCoordinate(r),s=this.fixVerticalCoordinate(s),o=this.fixVerticalCoordinate(o)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;Ue(m)||(h+=Y=F((u-h)*(1-m/100)/2,5),u-=Y),r=this.xAxis.getX(e,d,h),n=this.xAxis.getX(e,c,u),Ue(m)&&(r+=Y=(n-r-b)/2,n-=Y),!Ue(P)&&P<Math.abs(n-r)&&(r+=Y=(n-r-P)/2,n-=Y);var fe=e.locations[f],Le=e.locations[p];this.yAxis instanceof te&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(fe=0,Le=0),o=this.yAxis.getY(e,f,fe),s=this.yAxis.getY(e,p,Le);var Je=Math.ceil(this.yAxis.axisLength);(s<0&&o<0||s>Je&&o>Je)&&(k=!0),s=this.fixVerticalCoordinate(s),o=this.fixVerticalCoordinate(o),Math.abs(n-r)-D-T==0&&(k=!0)}else{if(!e.hasValue(this._xValueFields))return;var Y;Ue(v)||(h+=Y=F((u-h)*(1-v/100)/2,5),u-=Y),s=this.yAxis.getY(e,f,h),o=this.yAxis.getY(e,p,u),Ue(v)&&(o-=Y=(o-s-_)/2,s+=Y),!Ue(S)&&S<Math.abs(o-s)&&(o-=Y=(o-s-S)/2,s+=Y);var z=e.locations[c],Ve=e.locations[d];this.xAxis instanceof te&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(z=0,Ve=0),n=this.xAxis.getX(e,c,z),r=this.xAxis.getX(e,d,Ve),Je=Math.ceil(this.xAxis.axisLength),(n<0&&r<0||n>Je&&r>Je)&&(k=!0),n=this.fixHorizontalCoordinate(n),r=this.fixHorizontalCoordinate(r),Math.abs(s-o)-A-O==0&&(k=!0)}var W,je=Math.abs(n-r),Re=Math.abs(o-s),rt=Math.min(r,n),Ne=Math.min(s,o);k?this.disableUnusedColumns(e):(e.column?(W=e.column,this._propertiesChanged&&(Fe(this,W,Me),Fe(this.columns.template,W,Me),j(Me,function(me){W[me]=W[me]}))):(Fe(this,W=this.columns.create(),Me),Fe(this.columns.template,W,Me),e.addSprite(W),e.column=W,W.paper=this.paper,this.itemsFocusable()?(x(this.role)||(this.role="menu"),x(W.role)||(W.role="menuitem"),W.focusable=!0):(x(this.role)||(this.role="list"),x(W.role)||(W.role="listitem"),W.focusable=!1),W.focusable&&(W.events.on("focus",function(me){W.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),W.events.on("blur",function(me){W.readerTitle=""},void 0,!1)),W.hoverable&&(W.events.on("over",function(me){W.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),W.events.on("out",function(me){W.readerTitle=""},void 0,!1)),W.parent=this.columnsContainer,W.virtualParent=this),W.width=je,W.height=Re,W.x=rt,W.y=Ne,W.realX=r,W.realY=s,W.realWidth=n-r,W.realHeight=o-s,this.setColumnStates(W),W.invalid&&W.validate(),W.__disabled=!1,I(this.axisRanges.iterator(),function(me){var Ae=e.rangesColumns.getKey(me.uid);Ae||(Ae=t.columns.create(),Fe(me.contents,Ae,Me),e.addSprite(Ae),e.rangesColumns.setKey(me.uid,Ae),Ae.paper=t.paper),Ae.parent=me.contents,Ae.width=je,Ae.height=Re,Ae.x=rt,Ae.y=Ne,t.setColumnStates(Ae),Ae.invalid&&Ae.validate(),Ae.__disabled=!1})),e.itemWidth=je,e.itemHeight=Re},i.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),I(this.axisRanges.iterator(),function(t){var r=e.rangesColumns.getKey(t.uid);r&&(r.width=0,r.height=0,r.__disabled=!0)}))},i.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var t=e.dataItem;if(this.xAxis instanceof te||this.yAxis instanceof te){var r,n=void 0,s=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof te&&(r=t.getValue(this.xOpenField),n=t.getValue(this.xField)),s=t.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof te&&(r=t.getValue(this.yOpenField),n=t.getValue(this.yField)),s=t.getValue(this.yAxis.axisFieldName+"Y","previousChange")),n<r?(t.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(t.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),s<0?(t.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(t.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(i.prototype,"columns",{get:function(){return this._columns||(this._columns=new Oe(this.createColumnTemplate()),this._disposers.push(new ye(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),i.prototype.createColumnTemplate=function(){return new Si},Object.defineProperty(i.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),i.prototype.updateLegendValue=function(e,t){var s,o,r=this;a.prototype.updateLegendValue.call(this,e,t),this.legendDataItem&&(e&&(s=e.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,o=e.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),I(this.legendDataItem.marker.children.iterator(),function(h){e?(h.setState(o),h.setState(s)):(h.setState(r._riseFromPreviousState),h.setState(r._riseFromOpenState))}))},i.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var n=e.createChild(jt);n.shouldClone=!1,Fe(this,n,Me),n.copyFrom(this.columns.template),n.padding(0,0,0,0),n.width=t,n.height=r;var s=e.dataItem;s.color=this.fill,s.colorOrig=this.fill},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},i.prototype.getBulletLocationX=function(e,t){if(this.baseAxis==this.xAxis){var r=e.locationX;y(r)||(r=.5);var n=this.getEndLocation(e.dataItem);return n-(n-this.getStartLocation(e.dataItem))*r}return a.prototype.getBulletLocationX.call(this,e,t)},i.prototype.getBulletLocationY=function(e,t){if(this.baseAxis==this.yAxis){var r=e.locationY;y(r)||(r=.5);var n=this.getEndLocation(e.dataItem);return n-(n-this.getStartLocation(e.dataItem))*r}return a.prototype.getBulletLocationY.call(this,e,t)},i.prototype.getAdjustedXLocation=function(e,t,r){return y(r)||(r=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*(1-r)},i.prototype.getAdjustedYLocation=function(e,t,r){return y(r)||(r=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*r},i.prototype.fixVerticalCoordinate=function(e){return B(e,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+this.columns.template.pixelPaddingBottom)},i.prototype.fixHorizontalCoordinate=function(e){return B(e,-this.columns.template.pixelPaddingLeft,this.xAxis.axisLength+this.columns.template.pixelPaddingRight)},i.prototype.disposeData=function(){a.prototype.disposeData.call(this),this.columns.clear()},i}(Pi);C.registeredClasses.ColumnSeries=yt,C.registeredClasses.ColumnSeriesDataItem=li;var Ih=function(a){function i(){var e=a.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),i.prototype.hide=function(e,t,r,n){var s=this.treeMapDataItem;return s&&s.hide(e),a.prototype.hide.call(this,e,t,r,n)},i.prototype.show=function(e,t,r){var n=this.treeMapDataItem;return n&&n.show(e,t,r),a.prototype.show.call(this,e,t,r)},i}(li),to=function(a){function i(){var e=a.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var t=new ce;return e.stroke=t.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return(0,w.ZT)(i,a),i.prototype.processDataItem=function(e,t){t.seriesDataItem=e,a.prototype.processDataItem.call(this,e,t)},i.prototype.createDataItem=function(){return new Ih},i.prototype.show=function(e){if(!this.preventShow){var t=this.defaultState.transitionDuration;return y(e)&&(t=e),this.dataItems.each(function(r){r.show(e)}),a.prototype.showReal.call(this,t)}},i.prototype.hide=function(e){var t=this.defaultState.transitionDuration;y(e)&&(t=e);var r=a.prototype.hideReal.call(this,t);return this.dataItems.each(function(n){n.hide(e)}),r},i.prototype.processValues=function(){},i.prototype.getStartLocation=function(e){return 0},i.prototype.getEndLocation=function(e){return 1},i.prototype.dataChangeUpdate=function(){},i.prototype.processConfig=function(e){e&&(!x(e.dataFields)||!_e(e.dataFields))&&(e.dataFields={}),a.prototype.processConfig.call(this,e)},i.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var n=e.createChild(jt);n.shouldClone=!1,Fe(this,n,Me),n.padding(0,0,0,0),n.width=t,n.height=r;var s=e.dataItem;s.color=n.fill,s.colorOrig=n.fill},i.prototype.disableUnusedColumns=function(e){a.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},i}(yt);C.registeredClasses.TreeMapSeries=to,C.registeredClasses.TreeMapSeriesDataItem=Ih;var Xf=function(a){function i(){var e=a.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),i.prototype.getDuration=function(){return 0},Object.defineProperty(i.prototype,"value",{get:function(){var e=0;return this.children&&0!=this.children.length?I(this.children.iterator(),function(t){var r=t.value;y(r)&&(e+=r)}):e=this.values.value.workingValue,e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){var e=this.properties.color;return null==e&&this.parent&&(e=this.parent.color),null==e&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),i.prototype.hide=function(e,t,r,n){this.setWorkingValue("value",0),this.children&&this.children.each(function(o){o.hide(e,t,r,n)});var s=this.seriesDataItem;return s&&s.bullets.each(function(o,h){h.hide(),h.preventShow=!0}),a.prototype.hide.call(this,e,t,r,n)},i.prototype.show=function(e,t,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(s){s.show(e,t,r)});var n=this.seriesDataItem;return n&&n.bullets.each(function(s,o){o.preventShow=!1}),a.prototype.show.call(this,e,t,r)},i}(Us),qf=function(a){function i(){var e=a.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Or,e.sorting="descending";var t=e.xAxes.push(new te);t.title.disabled=!0,t.strictMinMax=!0;var r=t.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var n=e.yAxes.push(new te);n.title.disabled=!0,n.strictMinMax=!0;var s=n.renderer;s.inside=!0,s.labels.template.disabled=!0,s.ticks.template.disabled=!0,s.grid.template.disabled=!0,s.axisFills.template.disabled=!0,s.minGridDistance=100,s.line.disabled=!0,s.baseGrid.disabled=!0,s.inversed=!0,e.xAxis=t,e.yAxis=n;var o=new to;return e.seriesTemplates=new gr(o),o.virtualParent=e,e._disposers.push(new gi(e.seriesTemplates)),e._disposers.push(o),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(h){h.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var t=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(r){var n=r.target.dataItem.dataContext;n.isDisposed()||(t.zoomToChartDataItem(n),t.createTreeSeries(n))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),i.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],a.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,I(this.dataItems.iterator(),function(n){n.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var t=1e3,r=10*Math.round(t*this.pixelHeight/this.pixelWidth/10)||1e3;e.x1=t,e.y1=r,this.xAxis.min=0,this.xAxis.max=t,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=r,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},i.prototype.layoutItems=function(e,t){if(e){var r=e.children;t||(t=this.sorting),"ascending"==t&&r.values.sort(function(h,u){return h.value-u.value}),"descending"==t&&r.values.sort(function(h,u){return u.value-h.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var n=0,s=r.length;n<s;n++){var o=r.getIndex(n);o.children&&this.layoutItems(o)}}},i.prototype.createTreeSeries=function(e){var t=this;this._tempSeries=[];for(var r=[e],n=e.parent;null!=n;)this.initSeries(n),r.push(n),n=n.parent;r.reverse(),this.navigationBar&&(this.navigationBar.data=r),this.createTreeSeriesReal(e),j(this._tempSeries,function(s){-1==t.series.indexOf(s)&&t.series.push(s),s.zIndex=s.level})},i.prototype.createTreeSeriesReal=function(e){if(e.children&&e.level<this.currentLevel+this.maxLevels){this.initSeries(e);for(var r=0;r<e.children.length;r++){var n=e.children.getIndex(r);n.children&&this.createTreeSeriesReal(n)}}},i.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,a.prototype.setData.call(this,e)},i.prototype.seriesAppeared=function(){return!0},i.prototype.initSeries=function(e){var t=this;if(!e.series){var r=void 0,n=this.seriesTemplates.getKey(e.level.toString());(r=n?n.clone():this.series.create()).dataItem.dataContext=e,r.name=e.name,r.parentDataItem=e,e.series=r,r.level=e.level;var o=e.dataContext;o&&(r.config=o.config),this.dataUsers.removeValue(r),r.data=e.children.values,r.fill=e.color,r.columnsContainer.hide(0),r.bulletsContainer.hide(0),r.columns.template.adapter.add("fill",function(h,u){var c=u.dataItem;if(c){var d=c.treeMapDataItem;if(d)return u.fill=d.color,u.adapter.remove("fill"),d.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(r.columns.template.cursorOverStyle=qe.pointer,this.zoomable&&r.columns.template.events.on("hit",function(h){var u=h.target.dataItem;e.level>t.currentLevel?t.zoomToChartDataItem(u.treeMapDataItem.parent):t.zoomToSeriesDataItem(u)},this,void 0))}this._tempSeries.push(e.series)},i.prototype.toggleBullets=function(e){var t=this;I(this.series.iterator(),function(r){-1==t._tempSeries.indexOf(r)?(r.columnsContainer.hide(),r.bulletsContainer.hide(e)):(r.columnsContainer.show(),r.bulletsContainer.show(e),r.dataItems.each(function(n){n.bullets.each(function(s,o){o.show()})}),r.level<t.currentLevel?(t.hideParentColumns&&r.columnsContainer.hide(),r.bulletsContainer.hide(e)):r.level==t.currentLevel&&t.maxLevels>1&&r.dataItems.each(function(n){n.treeMapDataItem.children&&n.bullets.each(function(s,o){o.hide()})}))})},i.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},i.prototype.zoomToChartDataItem=function(e){var t=this;e||(e=this._homeDataItem);var r=this.zoomOutButton;if(r&&(e!=this._homeDataItem?r.show():r.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var n=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!n||n.isDisposed()||n.isFinished()?this.toggleBullets():(this._dataDisposers.push(n),n.events.once("animationended",function(){t.toggleBullets()}))}},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},i.prototype.createDataItem=function(){return new Xf},Object.defineProperty(i.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),i.prototype.createSeries=function(){return new to},Object.defineProperty(i.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){if(e){if(x(e.layoutAlgorithm)&&ne(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm}x(e.navigationBar)&&!x(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),a.prototype.processConfig.call(this,e)}},i.prototype.validateLayout=function(){a.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},i.prototype.validateDataItems=function(){a.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),I(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},i.prototype.binaryTree=function(e){var r,s,t=e.children,n=t.length,o=new Array(n+1);for(o[0]=s=r=0;r<n;++r)o[r+1]=s+=t.getIndex(r).value;n>0&&function h(u,c,d,p,f,g,m){if(u>=c-1)return(v=t.getIndex(u)).x0=p,v.y0=f,v.x1=g,void(v.y1=m);for(var b=o[u],_=d/2+b,P=u+1,S=c-1;P<S;){var D=P+S>>>1;o[D]<_?P=D+1:S=D}_-o[P-1]<o[P]-_&&u+1<P&&--P;var v,T=o[P]-b,A=d-T;if(0==d)return(v=t.getIndex(u)).x0=p,v.y0=f,v.x1=g,void(v.y1=m);if(g-p>m-f){var O=(p*A+g*T)/d;h(u,P,T,p,f,O,m),h(P,c,A,O,f,g,m)}else{var k=(f*A+m*T)/d;h(u,P,T,p,f,g,k),h(P,c,A,p,k,g,m)}}(0,n,e.value,e.x0,e.y0,e.x1,e.y1)},i.prototype.slice=function(e){for(var h,t=e.x0,r=e.x1,n=e.y0,o=e.children,u=-1,c=o.length,d=e.value&&(e.y1-n)/e.value;++u<c;)(h=o.getIndex(u)).x0=t,h.x1=r,h.y0=n,h.y1=n+=h.value*d},i.prototype.dice=function(e){for(var h,t=e.x0,n=e.y0,s=e.y1,o=e.children,u=-1,c=o.length,d=e.value&&(e.x1-t)/e.value;++u<c;)(h=o.getIndex(u)).y0=n,h.y1=s,h.x0=t,h.x1=t+=h.value*d},i.prototype.sliceDice=function(e){1&e.level?this.slice(e):this.dice(e)},i.prototype.squarify=function(e){for(var u,f,g,v,b,_,P,S,D,T,t=(1+Math.sqrt(5))/2,r=e.x0,n=e.x1,s=e.y0,o=e.y1,h=e.children,c=0,d=0,p=h.length,m=e.value;c<p;){f=n-r,g=o-s;do{v=h.getIndex(d++).value}while(!v&&d<p);for(b=_=v,T=v*v*(D=Math.max(g/f,f/g)/(m*t)),S=Math.max(_/T,T/b);d<p;++d){if(v+=u=h.getIndex(d).value,u<b&&(b=u),u>_&&(_=u),T=v*v*D,(P=Math.max(_/T,T/b))>S){v-=u;break}S=P}var A=this.dataItems.template.clone();A.value=v,A.dice=f<g,A.children=h.slice(c,d),A.x0=r,A.y0=s,A.x1=n,A.y1=o,A.dice?(A.y1=m?s+=g*v/m:o,this.dice(A)):(A.x1=m?r+=f*v/m:n,this.slice(A)),m-=v,c=d}},i.prototype.handleSeriesAdded2=function(){},i.prototype.handleDataItemValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},i.prototype.handleDataItemWorkingValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},i.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(1==e.children.length){var t=e.children.getIndex(0);return t.children?this.getLegendLevel(t):e}return e}},i.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(i.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),i.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var t=this.getLegendLevel(this._homeDataItem);if(t){var r=[];t.children.each(function(n){r.push(n)}),e.data=r}}},i.prototype.disposeData=function(){a.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},i.prototype.getExporting=function(){var e=this,t=a.prototype.getExporting.call(this);return t.adapter.add("formatDataFields",function(r){return("csv"==r.format||"xlsx"==r.format)&&x(e.dataFields.children)&&delete r.dataFields[e.dataFields.children],r}),t},i}(Dt);C.registeredClasses.TreeMap=qf;var Fh=function(a){function i(){var e=a.call(this)||this;return e._chart=new He,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.updateGridElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);if(e.element){var s=this.chart.dx3D||0,o=this.chart.dy3D||0,h=this.getHeight();e.path=N({x:s,y:o})+M({x:s,y:h+o})+M({x:0,y:h})}this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateBaseGridElement=function(){a.prototype.updateBaseGridElement.call(this);var e=this.getHeight();this.baseGrid.path=N({x:this.chart.dx3D||0,y:this.chart.dy3D||0})+M({x:0,y:0})+M({x:0,y:e})},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),i.prototype.handle3DChanged=function(e){("depth"==e.property||"angle"==e.property)&&this.invalidate()},i}(qt);C.registeredClasses.AxisRendererX3D=Fh;var Kf=function(a){function i(){var e=a.call(this)||this;return e._chart=new He,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.updateGridElement=function(e,t,r){var n=this.positionToPoint(t+=(r-t)*e.location);if(e.element){var s=this.chart.dx3D||0,o=this.chart.dy3D||0,h=this.getWidth();e.path=N({x:0,y:0})+M({x:s,y:o})+M({x:h+s,y:o})}this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},i.prototype.updateBaseGridElement=function(){a.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,t=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=N({x:0,y:0})+M({x:r,y:0})+M({x:r+e,y:t})},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),i.prototype.handle3DChanged=function(e){("depth"==e.property||"angle"==e.property)&&this.invalidate()},i}(Ot),Vh=function(a){function i(){var e=a.call(this)||this;return e.className="Column3D",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){this.column3D=this.createChild(Tf),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},i.prototype.validate=function(){a.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},i.prototype.setFill=function(e){a.prototype.setFill.call(this,e),this.column.fill=e},i}(Si);C.registeredClasses.Column3D=Vh;var $f=function(a){function i(){var e=a.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(li),io=function(a){function i(){var e=a.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&"vertical"!=e.leftAxesContainer.layout&&"vertical"!=e.rightAxesContainer.layout&&"horizontal"!=e.bottomAxesContainer.layout&&"horizontal"!=e.topAxesContainer.layout?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),i.prototype.validateDataElementReal=function(e){a.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},i.prototype.validateDataElements=function(){a.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},i.prototype.createColumnTemplate=function(){return new Vh},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0),this.columns.template.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.columns.template.column3D.angle=e},enumerable:!0,configurable:!0}),i}(yt);C.registeredClasses.ColumnSeries3D=io,C.registeredClasses.ColumnSeries3DDataItem=$f,function(a){(0,w.ZT)(function i(){var e=a.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e},a)}(Us);var Jf=function(a){function i(){var e=a.call(this)||this;e._axisRendererX=Fh,e._axisRendererY=Kf,e.className="XYChart3D",e.depth=30,e.angle=30;var t=e.seriesContainer.createChild(U);return t.shouldClone=!1,t.isMeasured=!1,t.layout="none",e.columnsContainer=t,e.columnsContainer.mask=e.createChild(ee),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.updateSeriesMasks=function(){if(a.prototype.updateSeriesMasks.call(this),_r()){var e=this.columnsContainer,t=e.mask;e.mask=void 0,e.mask=t}},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dx3D",{get:function(){return L(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dy3D",{get:function(){return-E(this.angle)*this.depth},enumerable:!0,configurable:!0}),i.prototype.validateLayout=function(){a.prototype.validateLayout.call(this),this.fixColumns()},i.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),a.prototype.fixLayout.call(this)},i.prototype.fixColumns=function(){var e=this,t=1,r=0;I(this.series.iterator(),function(s){s instanceof io&&(!s.clustered&&r>0&&t++,s.depthIndex=t-1,r++)});var n=0;I(this.series.iterator(),function(s){if(s instanceof io){s.depth=e.depth/t,s.angle=e.angle,s.columnsContainer==e.columnsContainer&&(s.dx=e.depth/t*L(e.angle)*s.depthIndex,s.dy=-e.depth/t*E(e.angle)*s.depthIndex);var o=!1;(s.baseAxis==s.xAxis&&s.xAxis.renderer.inversed||s.baseAxis==s.yAxis&&s.yAxis.renderer.inversed)&&(o=!0);var h=1;s.dataItems.each(function(u){var c=u.column;c&&(c.zIndex=o?1e3*(1e3-h)+n-100*s.depthIndex:1e3*h+n-100*s.depthIndex),h++}),o?n--:n++}}),this.maskColumns()},i.prototype.processConfig=function(e){if(e&&x(e.series)&&Ee(e.series))for(var t=0,r=e.series.length;t<r;t++)e.series[t].type=e.series[t].type||"ColumnSeries3D";a.prototype.processConfig.call(this,e)},i.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,t=this.plotContainer.pixelHeight,r=this.dx3D,n=this.dy3D,s=N({x:0,y:0})+M({x:r,y:n})+M({x:e+r,y:n})+M({x:e+r,y:t+n})+M({x:e,y:t})+M({x:e,y:t})+M({x:0,y:t})+" Z",o=this.columnsContainer;o&&o.mask&&(o.mask.path=s)},i}(Dt);C.registeredClasses.XYChart3D=Jf;var Qf=function(a){function i(){var e=a.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(U),e.markerContainer.shouldClone=!1,e.markerCount=1;var t=new jt;return t.minHeight=20,t.minWidth=20,t.interactionsEnabled=!1,t.fillOpacity=1,t.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new Oe(t),e._disposers.push(new ye(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.getMinFromRules=function(e){var r,t=this.series;if(t)return ft(t.heatRules.iterator(),function(n){return n.property!=e||(r=n.min,!1)}),r},i.prototype.getMaxFromRules=function(e){var r,t=this.series;if(t)return I(t.heatRules.iterator(),function(n){return n.property!=e||(r=n.max,!1)}),r},i.prototype.validate=function(){a.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,t=this.minColor,r=this.maxColor;if(x(t)||(t=Ct(this.getMinFromRules("fill"))),x(r)||(r=Ct(this.getMaxFromRules("fill"))),e){var n=e.fill;!x(t)&&n instanceof ue&&(t=n),!x(r)&&n instanceof ue&&(r=n)}x(r)||(r=Ct(this.getMaxFromRules("fill")));var s=ve(this.getMinFromRules("fillOpacity"));y(s)||(s=1);var o=ve(this.getMaxFromRules("fillOpacity"));y(o)||(o=1);var h=ve(this.getMinFromRules("strokeOpacity"));y(h)||(h=1);var u=ve(this.getMaxFromRules("strokeOpacity"));y(u)||(u=1);for(var c=Ct(this.getMinFromRules("stroke")),d=Ct(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var f=this.markers.getIndex(p);if(f||((f=this.markers.create()).parent=this.markerContainer,f.height=R(100),f.width=R(100)),1==this.markerCount){var g=new Pt;if(this.reverseOrder?(g.addColor(r,o),g.addColor(t,s)):(g.addColor(t,s),g.addColor(r,o)),"vertical"==this.orientation&&(g.rotation=-90),f.fill=g,x(c)&&x(d)){var m=new Pt;this.reverseOrder?(m.addColor(d,u),m.addColor(c,h)):(m.addColor(c,h),m.addColor(d,u)),"vertical"==this.orientation&&(m.rotation=-90),f.stroke=m}}else{var v=p;this.reverseOrder&&(v=this.markerCount-p-1);var b=new ue(ua(t.rgb,r.rgb,v/this.markerCount));if(f.fill=b,f.fillOpacity=s+(o-s)*v/this.markerCount,x(c)&&x(d)){var P=new ue(ua(c.rgb,d.rgb,v/this.markerCount));f.stroke=P,f.strokeOpacity=h+(u-h)*v/this.markerCount}}}this.markerCount>1&&(this.valueAxis.renderer.minGridDistance="horizontal"==this.orientation?this.measuredWidth/this.markerCount:this.measuredHeight/this.markerCount),this.valueAxis.invalidate(),p=this.markerCount;for(var T=this.markers.length;p<T;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(i.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof ue||(e=Ct(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof ue||(e=Ct(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.markerContainer,r=this.valueAxis;"horizontal"==e?(x(this.width)||(this.width=200),this.height=void 0,r.width=R(100),r.height=void 0,r.tooltip.pointerOrientation="vertical",this.layout="vertical",t.width=R(100),t.height=void 0,r.renderer instanceof qt||(r.renderer=new qt)):(x(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",t.width=void 0,t.height=R(100),r.height=R(100),r.width=void 0,r.tooltip.pointerOrientation="horizontal",r.renderer instanceof Ot||(r.renderer=new Ot),r.renderer.inside=!0,r.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var n=r.renderer;n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.baseGrid.disabled=!0,n.labels.template.padding(2,3,2,3),n.minHeight=void 0,n.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(te),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this._series=e;var r="value";try{var n=e.heatRules.getIndex(0).dataField;n&&(r=n)}catch{}this.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high),e.dataItem.events.on("calculatedvaluechanged",function(s){t.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),i.prototype.updateMinMax=function(e,t){var r=this.valueAxis;y(this.minValue)||(r.min=e,r.invalidate()),y(this.maxValue)||(r.max=t,r.invalidate())},i.prototype.processConfig=function(e){if(e&&x(e.series)&&ne(e.series)&&ne(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var t=e.series,r=this.map.events.on("insertKey",function(n){n.key==t&&(this.series=n.newValue,r.dispose())},this);this._disposers.push(r),delete e.series}a.prototype.processConfig.call(this,e)},i}(U);C.registeredClasses.HeatLegend=Qf;var en=function(a){function i(){var e=a.call(this)||this;return e.className="Candlestick",e.layout="none",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){a.prototype.createAssets.call(this),this.lowLine=this.createChild(At),this.lowLine.shouldClone=!1,this.highLine=this.createChild(At),this.highLine.shouldClone=!1},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},i}(Si);C.registeredClasses.Candlestick=en;var ro=function(a){function i(){var e=a.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),i}(li),Rh=function(a){function i(){var e=a.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var t=new ce,r=t.getFor("positive"),n=t.getFor("negative");return e.dropFromOpenState.properties.fill=n,e.dropFromOpenState.properties.stroke=n,e.riseFromOpenState.properties.fill=r,e.riseFromOpenState.properties.stroke=r,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},i.prototype.createDataItem=function(){return new ro},i.prototype.validateDataElementReal=function(e){a.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},i.prototype.validateCandlestick=function(e){var t=e.column;if(t){var r=t.lowLine,n=t.highLine;if(this.baseAxis==this.xAxis){var s=t.pixelWidth/2;r.x=s,n.x=s;var o=e.getWorkingValue(this.yOpenField),h=e.getWorkingValue(this.yField),u=this.yAxis.getY(e,this.yOpenField),c=this.yAxis.getY(e,this.yField),d=this.yAxis.getY(e,this.yLowField),p=this.yAxis.getY(e,this.yHighField),f=t.pixelY;r.y1=d-f,n.y1=p-f,o<h?(r.y2=u-f,n.y2=c-f):(r.y2=c-f,n.y2=u-f)}if(this.baseAxis==this.yAxis){var g=t.pixelHeight/2;r.y=g,n.y=g;var m=e.getWorkingValue(this.xOpenField),v=e.getWorkingValue(this.xField),b=this.xAxis.getX(e,this.xOpenField),_=this.xAxis.getX(e,this.xField),P=this.xAxis.getX(e,this.xLowField),S=this.xAxis.getX(e,this.xHighField),D=t.pixelX;r.x1=P-D,n.x1=S-D,m<v?(r.x2=b-D,n.x2=_-D):(r.x2=_-D,n.x2=b-D)}I(this.axisRanges.iterator(),function(T){var A=e.rangesColumns.getKey(T.uid);if(A){var O=A.lowLine;O.x=r.x,O.y=r.y,O.x1=r.x1,O.x2=r.x2,O.y1=r.y1,O.y2=r.y2;var k=A.highLine;k.x=n.x,k.y=n.y,k.x1=n.x1,k.x2=n.x2,k.y1=n.y1,k.y2=n.y2}})}},Object.defineProperty(i.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),i.prototype.defineFields=function(){a.prototype.defineFields.call(this);var e=this.xAxis,t=this.yAxis;if(e&&t){if(this.baseAxis==e){var r=ma(t.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==t){var n=ma(e.axisFieldName);this._xLowField="low"+n+"X",this._xHighField="high"+n+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(t,this._yValueFields,this._yLowField),this.addValueField(t,this._yValueFields,this._yHighField)}},i.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var n=e.createChild(en);n.shouldClone=!1,n.copyFrom(this.columns.template);var s,o,h=n.lowLine,u=n.highLine;this.baseAxis==this.yAxis?(s=t/3,o=r,h.y=r/2,u.y=r/2,h.x2=t/3,u.x2=t/3,u.x=t/3*2,n.column.x=t/3):(s=t,o=r/3,h.x=t/2,u.x=t/2,h.y2=r/3,u.y2=r/3,u.y=r/3*2,n.column.y=r/3),n.width=s,n.height=o,Fe(this,e,Me),Fe(this.columns.template,n,Me),n.stroke=this.riseFromOpenState.properties.stroke,n.fill=n.stroke;var c=e.dataItem;c.color=n.fill,c.colorOrig=n.fill},i.prototype.createColumnTemplate=function(){return new en},i}(yt);C.registeredClasses.CandlestickSeries=Rh,C.registeredClasses.CandlestickSeriesDataItem=ro;var ao=function(a){function i(){var e=a.call(this)||this;return e.className="OHLC",e.layout="none",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){this.openLine=this.createChild(At),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(At),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(At),this.closeLine.shouldClone=!1},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},i}(en);C.registeredClasses.OHLC=ao;var Eh=function(a){function i(){var e=a.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(ro),eg=function(a){function i(){var e=a.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},i.prototype.createDataItem=function(){return new Eh},i.prototype.validateCandlestick=function(e){var t=e.column;if(t){var r=t.openLine,n=t.highLowLine,s=t.closeLine;if(this.baseAxis==this.xAxis){var o=t.pixelWidth/2;n.x=o,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var h=this.yAxis.getY(e,this.yOpenField),u=this.yAxis.getY(e,this.yField),c=this.yAxis.getY(e,this.yLowField),d=this.yAxis.getY(e,this.yHighField),p=t.pixelY;r.y1=h-p,r.y2=h-p,r.x1=0,r.x2=o,s.y1=u-p,s.y2=u-p,s.x1=o,s.x2=2*o,n.y1=d-p,n.y2=c-p}if(this.baseAxis==this.yAxis){var f=t.pixelHeight/2;n.y=f,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var g=this.xAxis.getX(e,this.xOpenField),m=this.xAxis.getX(e,this.xField),v=this.xAxis.getX(e,this.xLowField),b=this.xAxis.getX(e,this.xHighField),_=t.pixelX;r.x1=g-_,r.x2=g-_,r.y1=f,r.y2=2*f,s.x1=m-_,s.x2=m-_,s.y1=0,s.y2=f,n.x1=b-_,n.x2=v-_}I(this.axisRanges.iterator(),function(P){var S=e.rangesColumns.getKey(P.uid);if(S){var D=S.openLine;D.x=r.x,D.y=r.y,D.x1=r.x1,D.x2=r.x2,D.y1=r.y1,D.y2=r.y2;var T=S.closeLine;T.x=s.x,T.y=s.y,T.x1=s.x1,T.x2=s.x2,T.y1=s.y1,T.y2=s.y2;var A=S.highLowLine;A.x=n.x,A.y=n.y,A.x1=n.x1,A.x2=n.x2,A.y1=n.y1,A.y2=n.y2}})}},i.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var n=e.createChild(ao);n.shouldClone=!1,n.copyFrom(this.columns.template);var s,o,h=n.openLine,u=n.closeLine,c=n.highLowLine;this.baseAxis==this.yAxis?(s=t/3,o=r,c.y=r/2,c.x2=t,h.x=t/3*2,h.y2=r/2,u.x=t/3,u.y2=r,u.y1=r/2):(s=t,o=r/3,c.x=t/2,c.y2=r,h.y=r/3*2,h.x2=t/2,u.y=r/3,u.x2=t,u.x1=t/2),n.width=s,n.height=o,Fe(this,e,Me),Fe(this.columns.template,n,Me),n.stroke=this.riseFromOpenState.properties.stroke;var d=e.dataItem;d.color=n.stroke,d.colorOrig=n.stroke},i.prototype.createColumnTemplate=function(){return new ao},i}(Rh);C.registeredClasses.OHLCSeries=eg,C.registeredClasses.OHLCSeriesDataItem=Eh;var Lh=function(a){function i(){var e=a.call(this)||this;return e.className="StepLineSeriesSegment",e}return(0,w.ZT)(i,a),i.prototype.drawSegment=function(e,t,r,n,s,o){if(e.length>0&&t.length>0)if(s){var h=N(e[0]);if(e.length>0)for(var u=1;u<e.length;u++){var c=e[u];u/2==Math.round(u/2)?h+=N(c):h+=M(c)}this.strokeSprite.path=h,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(h=N(e[0])+Sr(e),h+=M(t[0])+Sr(t),h+=M(e[0]),this.fillSprite.path=h+=" Z")}else h=N(e[0])+Sr(e),this.strokeSprite.path=h,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(h+=M(t[0])+Sr(t),h+=M(e[0]),this.fillSprite.path=h+=" Z");else this.strokeSprite.path="",this.fillSprite.path=""},i}(Ws);C.registeredClasses.StepLineSeriesSegment=Lh;var jh=function(a){function i(){var e=a.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(qa),tg=function(a){function i(){var e=a.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return(0,w.ZT)(i,a),i.prototype.createDataItem=function(){return new jh},i.prototype.addPoints=function(e,t,r,n,s){var o,h,u,c;this.baseAxis==this.xAxis&&(o=this.startLocation,h=this.endLocation,u=this.getAdjustedXLocation(t,this.yOpenField),c=this.getAdjustedXLocation(t,this.yField)),this.baseAxis==this.yAxis&&(u=this.startLocation,c=this.endLocation,o=this.getAdjustedXLocation(t,this.xOpenField),h=this.getAdjustedXLocation(t,this.xField));var d=this.xAxis.getX(t,r,o),p=this.yAxis.getY(t,n,u),f=this.xAxis.getX(t,r,h),g=this.yAxis.getY(t,n,c);if(d=B(d,-1e5,1e5),p=B(p,-1e5,1e5),f=B(f,-1e5,1e5),g=B(g,-1e5,1e5),!this.noRisers&&e.length>1){var m=e[e.length-1];this.baseAxis==this.xAxis&&e.push(s?{x:m.x,y:g}:{x:d,y:m.y}),this.baseAxis==this.yAxis&&e.push(s?{x:f,y:m.y}:{x:m.x,y:p})}var v={x:d,y:p},b={x:f,y:g};s?e.push(b,v):e.push(v,b)},i.prototype.drawSegment=function(e,t,r){var n=!1;this.yAxis==this.baseAxis&&(n=!0),e.drawSegment(t,r,this.tensionX,this.tensionY,this.noRisers,n)},i.prototype.createSegment=function(){return new Lh},Object.defineProperty(i.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),i}(Gs);C.registeredClasses.StepLineSeries=tg,C.registeredClasses.StepLineSeriesDataItem=jh;var Nh=function(a){function i(){var e=a.call(this)||this;return e.className="RadarColumn",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){this.radarColumn=this.createChild(xi),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},i.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return y(e)?e:this.radarColumn.getTooltipX()},i.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return y(e)?e:this.radarColumn.getTooltipY()},i}(Si);C.registeredClasses.RadarColumn=Nh;var ig=function(a){function i(){var e=a.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(li),rg=function(a){function i(){var e=a.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createColumnTemplate=function(){return new Nh},i.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),a.prototype.validate.call(this)},i.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),I(this.axisRanges.iterator(),function(t){var r=e.rangesColumns.getKey(t.uid);r&&(r.__disabled=!0)}))},i.prototype.validateDataElementReal=function(e){var c,d,p,f,t=this,r=this.chart.startAngle,n=this.chart.endAngle,s=this.yField,o=this.yOpenField,h=this.xField,u=this.xOpenField,g=this.getStartLocation(e),m=this.getEndLocation(e),v=(n-r)/(this.dataItems.length*(this.end-this.start)),b=e.column;b||(b=this.columns.create(),e.column=b,Fe(this,b,Me),Fe(this.columns.template,b,Me),e.addSprite(b),b.paper=this.paper,this.setColumnStates(b));var _=b.width,P=100;_ instanceof ae&&(P=_.percent);var S=F((m-g)*(1-P/100)/2,5);if(g+=S,m-=S,this.xAxis instanceof Te&&this.yAxis instanceof Te)p=de({x:this.yAxis.getX(e,s,0,"valueY"),y:this.yAxis.getY(e,s,0,"valueY")}),f=de({x:this.yAxis.getX(e,o,1,"valueY"),y:this.yAxis.getY(e,o,1,"valueY")}),c=this.xAxis.getAngle(e,u,0,"valueX"),d=this.xAxis.getAngle(e,h,1,"valueX"),r+=g*v,n-=(1-m)*v;else if(this.baseAxis==this.xAxis)p=de({x:this.yAxis.getX(e,s,e.locations[s],"valueY"),y:this.yAxis.getY(e,s,e.locations[s],"valueY")}),f=de({x:this.yAxis.getX(e,o,e.locations[o],"valueY"),y:this.yAxis.getY(e,o,e.locations[o],"valueY")}),c=this.xAxis.getAngle(e,u,g,"valueX"),d=this.xAxis.getAngle(e,h,m,"valueX"),r+=g*v,n-=(1-m)*v;else{if(p=de({x:this.yAxis.getX(e,s,g,"valueY"),y:this.yAxis.getY(e,s,g,"valueY")}),f=de({x:this.yAxis.getX(e,o,m,"valueY"),y:this.yAxis.getY(e,o,m,"valueY")}),y(_)){var D=Math.abs(p-f);if(D>_){var T=(D-_)/2;p+=T,f-=T}}c=this.xAxis.getAngle(e,h,e.locations[h],"valueX"),d=this.xAxis.getAngle(e,u,e.locations[u],"valueX")}if(d<c){var A=d;d=c,c=A}c=B(c,r,n),d=B(d,r,n);var O=b.radarColumn;O.startAngle=c;var k=d-c;k>0?(O.arc=k,O.radius=p,O.innerRadius=f,b.__disabled=!1,b.parent=this.columnsContainer,I(this.axisRanges.iterator(),function(X){var Z=e.rangesColumns.getKey(X.uid);Z||(Z=t.columns.create(),function vd(a,i,e){j(e,function(t){i[t]=a[t]})}(t.columns.template,Z,Me),Fe(X.contents,Z,Me),Z.dataItem&&$(Z.dataItem.sprites,Z),e.addSprite(Z),Z.paper=t.paper,t.setColumnStates(Z),e.rangesColumns.setKey(X.uid,Z));var Y=Z.radarColumn;Y.startAngle=c,Y.arc=k,Y.radius=p,Y.innerRadius=f,Y.invalid&&(Y.paper=t.paper,Y.validate()),Z.__disabled=!1,Z.parent=X.contents})):this.disableUnusedColumns(e)},i.prototype.getPoint=function(e,t,r,n,s,o,h){o||(o="valueX"),h||(h="valueY");var d=de({x:this.yAxis.getX(e,r,s,h),y:this.yAxis.getY(e,r,s,h)});0==d&&(d=1e-5);var p=this.xAxis.getAngle(e,t,n,o);return{x:d*L(p),y:d*E(p)}},i.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Gi(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},i.prototype.positionBulletReal=function(e,t,r){var n=this.xAxis,s=this.yAxis;(t<n.start||t>n.end||r<s.start||r>s.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,r))},i.prototype.setXAxis=function(e){a.prototype.setXAxis.call(this,e),this.updateRendererRefs()},i.prototype.setYAxis=function(e){a.prototype.setYAxis.call(this,e),this.updateRendererRefs()},i.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},i}(yt);C.registeredClasses.RadarColumnSeries=rg,C.registeredClasses.RadarColumnSeriesDataItem=ig;var no=function(a){function i(){var e=a.call(this)||this;return e.slice=e.createChild(ee),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=R(100),e.topWidth=R(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.pixelPaddingTop,n=this.pixelPaddingLeft,s=this.pixelWidth-this.pixelPaddingRight-n,o=this.pixelHeight-e-this.pixelPaddingBottom,h=this.expandDistance,u="";if("vertical"==this.orientation){var p={x:(s-(c=we(this.topWidth,s)))/2+n,y:e},f={x:(s+c)/2+n,y:e},g={x:(s+(d=we(this.bottomWidth,s)))/2+n,y:e+o},m={x:(s-d)/2+n,y:e+o},v={x:f.x+(g.x-f.x)/2+h*o,y:f.y+.5*o},b={x:p.x+(m.x-p.x)/2-h*o,y:p.y+.5*o},_=M(g),P=M(p);0!=h&&(_=_i(g,v),P=_i(p,b)),u=N(p)+M(f)+_+M(m)+P,this.tickPoint={x:f.x+(g.x-f.x)/2,y:f.y+(g.y-f.y)/2}}else{var c,d,S={x:n,y:(o-(c=we(this.topWidth,o)))/2+e},D={x:n,y:(o+c)/2+e},T={x:n+s,y:(o-(d=we(this.bottomWidth,o)))/2+e},A={x:n+s,y:(o+d)/2+e};v={y:S.y+(T.y-S.y)/2-h*s,x:S.x+.5*s},b={y:D.y+(A.y-D.y)/2+h*s,x:D.x+.5*s},_=M(T),P=M(D),0!=h&&(_=_i(T,v),P=_i(D,b)),u=N(D)+M(S)+_+M(A)+P,this.tickPoint={y:D.y+(A.y-D.y)/2,x:D.x+(A.x-D.x)/2}}this.slice.path=u,this.invalidateLayout()},i.prototype.getPoint=function(e,t){var r=this.pixelPaddingTop,o=this.pixelPaddingLeft,h=this.pixelWidth-this.pixelPaddingRight-o,u=this.pixelHeight-r-this.pixelPaddingBottom;if("vertical"==this.orientation){var p={x:(h-(c=we(this.topWidth,h)))/2+o,y:r},f={x:(h+c)/2+o,y:r},g={x:(h+(d=we(this.bottomWidth,h)))/2+o,y:r+u},v=p.x+((h-d)/2+o-p.x)*t;return{x:v+(f.x+(g.x-f.x)*t-v)*e,y:f.y+(g.y-f.y)*t}}var c,d,__x=o,__y=(u-(c=we(this.topWidth,u)))/2+r,P_y=(u+c)/2+r,S_x=o+h,T=__y+((u-(d=we(this.bottomWidth,u)))/2+r-__y)*e;return{y:T+(P_y+((u+d)/2+r-P_y)*e-T)*t,x:__x+(S_x-__x)*e}},Object.defineProperty(i.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},i}(U);C.registeredClasses.FunnelSlice=no;var Bh=function(a){function i(){var e=a.call(this)||this;return e._label=new He,e._slice=new He,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.draw=function(){a.prototype.draw.call(this);var e=this.slice,t=e.getPoint(this.locationX,this.locationY);if(t){var r=this.label,n=e.dataItem.component,s=void 0,o=void 0,h=void 0;if("vertical"==n.orientation){var u=r.pixelX,c=r.pixelY;n.labelsOpposite||(u+=r.maxRight),s=ht(t,e,this.parent),h=ht({x:u,y:c},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:h.y},n.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else u=r.pixelX,c=r.pixelY,n.labelsOpposite||(c+=r.maxBottom),s=ht(t,e,this.parent),o={x:(h=ht({x:u,y:c},r.parent,this.parent)).x,y:r.parent.pixelY-this.length},n.labelsOpposite||(o.y=r.parent.measuredHeight+this.length);this.path=N(s)+M(o)+M(h)}},Object.defineProperty(i.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Pe([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),i}(Ir);C.registeredClasses.FunnelTick=Bh;var so=function(a){function i(){var e=a.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var t=this.component.sliceLinks.create();this._sliceLink=t,this._disposers.push(t),t.parent=this.component.slicesContainer,this._disposers.push(new pe(function(){e.component&&e.component.sliceLinks.removeValue(t)})),this.addSprite(t),t.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),i}($a),Zh=function(a){function i(){var e=a.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=R(100),e.height=R(100),e.slicesContainer.width=R(100),e.slicesContainer.height=R(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createSlice=function(){return new no},i.prototype.createTick=function(){return new Bh},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},i.prototype.createDataItem=function(){return new so},i.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})",e.states.create("hover").properties.expandDistance=.2},i.prototype.initLabel=function(e){a.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},i.prototype.validate=function(){a.prototype.validate.call(this),this._nextY=0},i.prototype.validateDataElements=function(){var e=this,t=this.slicesContainer,r=this.labelsContainer,n=this.labels.template;this.alignLabels?(n.interactionsEnabled=!0,t.isMeasured=!0,r.isMeasured=!0):(n.interactionsEnabled=!1,t.isMeasured=!1,r.isMeasured=!1);var s=0,o=0;this.dataItems.each(function(h){x(h.value)&&(o++,h.value>0?s+=Math.abs(h.getWorkingValue("value")/h.value):e.ignoreZeroValues||!h.visible||h.__disabled||h.isHiding?o--:s+=1)}),this._total=1/o*s,this._count=o,a.prototype.validateDataElements.call(this),this.arrangeLabels()},i.prototype.getNextValue=function(e){var t=e.index,r=e.getWorkingValue("value");if(t<this.dataItems.length-1){var n=this.dataItems.getIndex(t+1);if(r=n.getWorkingValue("value"),!n.visible||n.isHiding||n.__disabled||0==n.value&&this.ignoreZeroValues)return this.getNextValue(n)}return r},i.prototype.formDataElement=function(){},i.prototype.validateDataElement=function(e){var t=this,r=e.slice;r.orientation=this.orientation;var n=e.sliceLink;n.orientation=this.orientation;var s=e.tick,o=e.label;s.slice=r,s.label=o,x(e.value)?(this.decorateSlice(e),j(e.sprites,function(h){h.__disabled=!(0!=e.value||!t.ignoreZeroValues)})):j(e.sprites,function(h){h.__disabled=!0}),e.index==this.dataItems.length-1&&(n.disabled=!0),a.prototype.validateDataElement.call(this,e),n.fill=r.fill},i.prototype.decorateSlice=function(e){var t=e.slice,r=e.sliceLink,n=e.label,s=e.tick,o=this.slicesContainer.innerWidth,h=this.slicesContainer.innerHeight,u=this.getNextValue(e),c=Math.abs(e.getWorkingValue("value")),d=this.bottomRatio,p=1;if(0!=e.value?p=c/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(p=1e-6),this.ignoreZeroValues&&0==e.value)e.__disabled=!0;else if(e.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var f=r.pixelHeight*p;h+=f,t.topWidth=c/this.dataItem.values.value.high*o,t.bottomWidth=(c-(c-u)*d)/this.dataItem.values.value.high*o,r.topWidth=t.bottomWidth,r.bottomWidth=(c-(c-u))/this.dataItem.values.value.high*o,t.y=this._nextY,t.height=Math.min(1e5,Q(0,h/this._count*p/this._total-f)),t.x=o/2,n.x=this.alignLabels?void 0:t.x,n.y=t.pixelY+t.pixelHeight*s.locationY,this._nextY+=t.pixelHeight+f,r.y=this._nextY-f,r.x=t.x}else{var g=r.pixelWidth*p;o+=g,t.topWidth=c/this.dataItem.values.value.high*h,t.bottomWidth=(c-(c-u)*d)/this.dataItem.values.value.high*h,r.topWidth=t.bottomWidth,r.bottomWidth=(c-(c-u))/this.dataItem.values.value.high*h,t.x=this._nextY,t.width=Math.min(1e5,o/this._count*p*1/this._total-g),t.y=h/2,n.y=this.alignLabels?this.labelsContainer.measuredHeight:t.y,n.x=t.pixelX+t.pixelWidth*s.locationX,this._nextY+=t.pixelWidth+g,r.x=this._nextY-g,r.y=t.y}},i.prototype.getLastLabel=function(e){if(e>0){var t=this.labels.getIndex(e);return t.__disabled||!t.visible?this.getLastLabel(e-1):t}},i.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var t=this.getLastLabel(e-1);if(t){var r=t.pixelY,n=t.pixelX;if(e>1){for(var s=e-2;s>=0;s--)(o=this.labels.getIndex(s)).visible&&!o.__disabled&&(o.invalid&&o.validate(),"vertical"==this.orientation?o.pixelY+o.measuredHeight>r&&(o.y=Math.min(1e6,r-o.measuredHeight)):o.pixelX+o.measuredWidth>n&&(o.x=Math.min(1e6,n-o.measuredWidth)),r=o.pixelY,n=o.pixelX);for(r=0,n=0,s=0;s<e;s++){var o;(o=this.labels.getIndex(s)).visible&&!o.__disabled&&(o.invalid&&o.validate(),"vertical"==this.orientation?o.pixelY<r&&(o.y=Math.min(1e6,r)):o.pixelX<n&&(o.x=Math.min(1e6,n)),r+=o.measuredHeight,n+=o.measuredWidth)}}}}}},i.prototype.positionBullet=function(e){a.prototype.positionBullet.call(this,e);var r=e.dataItem.slice,n=e.locationX;y(n)||(n=.5);var s=e.locationY;y(s)||(s=1),e.x=r.pixelX+r.measuredWidth*n,e.y=r.pixelY+r.measuredHeight*s},Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==e?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new no;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new Oe(e),this._disposers.push(new ye(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),i.prototype.show=function(e){var t=this,r=this.startIndex,n=this.endIndex,s=this.defaultState.transitionDuration;y(e)&&(s=e),ie.animationsEnabled||(s=0);var o=0;return I(fi(this.dataItems.iterator()),function(u){var c=u[0];t.sequencedInterpolation&&(o=t.sequencedInterpolationDelay*c+s*(c-r)/(n-r)),u[1].show(s,o,["value"])}),a.prototype.show.call(this,e)},i.prototype.hide=function(e){var t=this,r=["value"],s=this.startIndex,o=this.endIndex,h=0,u=this.hiddenState.transitionDuration;y(e)&&(u=e),ie.animationsEnabled||(u=0),I(fi(this.dataItems.iterator()),function(d){var p=d[0];t.sequencedInterpolation&&(h=t.sequencedInterpolationDelay*p+u*(p-s)/(o-s)),d[1].hide(u,h,0,r)});var c=a.prototype.hide.call(this,e);return c&&!c.isFinished()&&c.delay(h),c},i.prototype.setAlignLabels=function(e){a.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var t=this.labelsContainer;t&&(e?(t.height=void 0,t.width=void 0,t.margin(10,10,10,10)):(t.width=R(100),t.height=R(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(i.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var t=this.labels.template,r="none",n="none";this.alignLabels?e?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,t.horizontalCenter="left",r="right"):(this.ticks.template.locationY=1,t.horizontalCenter="right",n="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,r="left"):(n="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?r="center":n="middle",t.align=r,t.valign=n,this.validateLayout(),this.ticks.each(function(s){s.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),i}(Vr);C.registeredClasses.FunnelSeries=Zh,C.registeredClasses.FunnelSeriesDataItem=so;var oo=function(a){function i(){var e=a.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(so),Hh=function(a){function i(){var e=a.call(this)||this;return e.className="PyramidSeries",e.topWidth=R(0),e.bottomWidth=R(100),e.pyramidHeight=R(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},i.prototype.createDataItem=function(){return new oo},i.prototype.validate=function(){a.prototype.validate.call(this),this._nextWidth=void 0},i.prototype.getNextValue=function(e){var t=e.index,r=e.getWorkingValue("value");return t<this.dataItems.length-1&&(r=this.dataItems.getIndex(t+1).getWorkingValue("value")),0==r&&(r=1e-6),r},i.prototype.validateDataElements=function(){var e=this,t=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each(function(o){if(o.value>0){var h=o.getWorkingValue("value")/o.value,u=o.sliceLink;"vertical"==e.orientation?r-=u.pixelHeight*h:t-=u.pixelWidth*h}}),this._pyramidHeight=we(this.pyramidHeight,r),this._pyramidWidth=we(this.pyramidHeight,t),"vertical"==this.orientation){var n=(r-this._pyramidHeight)/2;this.slicesContainer.y=n,this.labelsContainer.y=n,this.ticksContainer.y=n}else{var s=(t-this._pyramidWidth)/2;this.slicesContainer.x=s,this.labelsContainer.x=s,this.ticksContainer.x=s}a.prototype.validateDataElements.call(this)},i.prototype.decorateSlice=function(e){var t=this.dataItem.values.value.absoluteSum;if(0!=t){var r=e.slice,n=e.sliceLink,s=e.label,o=e.tick;this.getNextValue(e);var h=Math.abs(e.getWorkingValue("value")),u=this._pyramidWidth,c=this._pyramidHeight,d=this.slicesContainer.innerWidth,p=this.slicesContainer.innerHeight,f=n.pixelWidth,g=n.pixelHeight;if(e.__disabled=!(0!=e.value&&null!=e.value||!this.ignoreZeroValues),"vertical"==this.orientation){var m=we(this.topWidth,d);y(this._nextWidth)||(this._nextWidth=m);var v=we(this.bottomWidth,d),b=this._nextWidth,_=Math.atan2(c,m-v);0==(P=Math.tan(Math.PI/2-_))&&(P=1e-8);var S=void 0,D=void 0;if("area"==this.valueIs){var A=(m+v)/2*c*h/t,O=Math.abs(b*b-2*A*P);D=(S=(b-Math.sqrt(O))/P)>0?(2*A-S*b)/S:b}else D=b-(S=c*h/t)*P;r.height=S,r.width=d,r.bottomWidth=D,r.topWidth=b,n.topWidth=r.bottomWidth,n.bottomWidth=r.bottomWidth,r.y=this._nextY,s.x=this.alignLabels?0:d/2,s.y=r.pixelY+r.pixelHeight*o.locationY+r.dy,this._nextY+=r.pixelHeight+g*h/Math.max(Math.abs(e.value),1e-8),n.y=this._nextY-g,n.x=d/2}else{var P;m=we(this.topWidth,p),y(this._nextWidth)||(this._nextWidth=m),v=we(this.bottomWidth,p),b=this._nextWidth,_=Math.atan2(u,m-v),0==(P=Math.tan(Math.PI/2-_))&&(P=1e-8);var k=void 0;D=void 0,D="area"==this.valueIs?(2*(A=(m+v)/2*u*h/t)-(k=(b-Math.sqrt(b*b-2*A*P))/P)*b)/k:b-(k=u*h/t)*P,r.width=k,r.height=p,r.bottomWidth=D,r.topWidth=b,n.topWidth=r.bottomWidth,n.bottomWidth=r.bottomWidth,r.x=this._nextY,s.y=this.alignLabels?this.labelsContainer.measuredHeight:p/2,s.x=r.pixelX+r.pixelWidth*o.locationX+r.dx,this._nextY+=r.pixelWidth+f*h/Math.max(Math.abs(e.value),1e-8),n.x=this._nextY-f,n.y=p/2}this._nextWidth=r.bottomWidth}},Object.defineProperty(i.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),i}(Zh);C.registeredClasses.PyramidSeries=Hh,C.registeredClasses.PyramidSeriesDataItem=oo;var Yh=function(a){function i(){var e=a.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(oo),ag=function(a){function i(){var e=a.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=R(100),e.bottomWidth=R(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(ee),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return(0,w.ZT)(i,a),i.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,t=this.slicesContainer.maxHeight,r=this._maskSprite,n=r.measuredWidth/r.scale,s=r.measuredHeight/r.scale,o=se(t/s,e/n);o==1/0&&(o=1),o=Q(.001,o);var p,f,h=this.startLocation,u=this.endLocation,c=se(e,n*o),d=se(t,s*o);r.scale=o,"vertical"==this.orientation?(this.topWidth=c+4,this.bottomWidth=c+4,this.pyramidHeight=d*(u-h),r.x=e/2,r.y=d/2):(this.topWidth=d+4,this.bottomWidth=d+4,this.pyramidHeight=c*(u-h),r.valign="middle",r.x=c/2,r.y=t/2),r.verticalCenter="middle",r.horizontalCenter="middle",a.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(p=t-d),"middle"==this.valign&&(p=(t-d)/2),"top"==this.valign&&(p=0),"left"==this.align&&(f=-(e-c)/2),"center"==this.align&&(f=0),"right"==this.align&&(f=(e-c)/2),this.slices.template.dy=h*d,this.alignLabels&&(this.slicesContainer.dx=f)):("bottom"==this.valign&&(p=(t-d)/2),"middle"==this.valign&&(p=0),"top"==this.valign&&(p=-(t-d)/2),"left"==this.align&&(f=0),"center"==this.align&&(f=(e-c)/2),"right"==this.align&&(f=e-c),this.slices.template.dx=h*c,this.alignLabels&&(this.slicesContainer.dy=p)),this.slicesContainer.x=f,this.labelsContainer.x=f,this.ticksContainer.x=f,this.slicesContainer.y=p,this.labelsContainer.y=p,this.ticksContainer.y=p,c>0&&d>0&&(this.slicesContainer.mask=r)},i.prototype.applyInternalDefaults=function(){a.prototype.applyInternalDefaults.call(this),x(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},i.prototype.createDataItem=function(){return new Yh},Object.defineProperty(i.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),i.prototype.initSlice=function(e){a.prototype.initSlice.call(this,e);var t=e.states.getKey("hover");t&&(t.properties.expandDistance=0)},Object.defineProperty(i.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),i}(Hh);C.registeredClasses.PictorialStackedSeries=ag,C.registeredClasses.PictorialStackedSeriesDataItem=Yh;var Uh=function(a){function i(){var e=a.call(this)||this;return e.className="ConeColumn",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){this.coneColumn=this.createChild(Sf),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},i}(Si);C.registeredClasses.ConeColumn=Uh;var ng=function(a){function i(){var e=a.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(li),sg=function(a){function i(){var e=a.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createColumnTemplate=function(){return new Uh},i.prototype.getMaskPath=function(){var e=0,t=0,r=this.columns.getIndex(0);if(r)return this.baseAxis==this.xAxis?t=r.coneColumn.innerWidth/2+1:e=r.coneColumn.innerHeight/2+1,si({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+t})},i.prototype.validateDataElementReal=function(e){if(a.prototype.validateDataElementReal.call(this,e),e.column){var r=e.column.coneColumn;r.fill=e.column.fill,r.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical"}},i}(yt);C.registeredClasses.ConeSeries=sg,C.registeredClasses.ConeSeriesDataItem=ng;var Wh=function(a){function i(){var e=a.call(this)||this;return e.className="CurvedColumn",e}return(0,w.ZT)(i,a),i.prototype.createAssets=function(){this.curvedColumn=this.createChild(ee),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=R(120),this.height=R(120),this.column=this.curvedColumn},i.prototype.draw=function(){a.prototype.draw.call(this);var s,e=this.realWidth,t=this.realHeight,r=this.realX-this.pixelX,n=this.realY-this.pixelY,o=1,h=1;"vertical"==this.orientation?(o=this.tension,s=[{x:0,y:t+n},{x:e/2,y:n},{x:e,y:t+n}]):(h=this.tension,s=[{x:r,y:t=Math.abs(t)},{x:r+e,y:t/2},{x:r,y:0}]);var u=N(s[0])+new oi(o,h).smooth(s);this.column.path=u},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(i.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),i}(Si);C.registeredClasses.CurvedColumn=Wh;var og=function(a){function i(){var e=a.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),i}(li),lg=function(a){function i(){var e=a.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.createColumnTemplate=function(){return new Wh},i.prototype.validateDataElementReal=function(e){a.prototype.validateDataElementReal.call(this,e);var t=e.column;(t=e.column)&&(e.column.curvedColumn.fill=e.column.fill,t.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical")},i}(yt);C.registeredClasses.CurvedColumnSeries=lg,C.registeredClasses.CurvedColumnSeriesDataItem=og;var hg=function(a){function i(){var e=a.call(this)||this;e.className="CircleBullet";var t=e.createChild(bi);return t.shouldClone=!1,t.radius=5,t.isMeasured=!1,e.circle=t,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},i}(Nt);C.registeredClasses.CircleBullet=hg;var ug=function(a){function i(){var e=a.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(ee),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return(0,w.ZT)(i,a),i.prototype.validatePosition=function(){a.prototype.validatePosition.call(this);var e=this.pixelWidth/2,t=this.pixelHeight/2;this.errorLine.path=N({x:-e,y:-t})+M({x:e,y:-t})+N({x:0,y:-t})+M({x:0,y:t})+N({x:-e,y:t})+M({x:e,y:t})},i.prototype.copyFrom=function(e){a.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},i}(Nt);C.registeredClasses.ErrorBullet=ug;var cg=function(a){function i(){var e=a.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return(0,w.ZT)(i,a),Object.defineProperty(i.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),i}(vi),dg=function(a){function i(){var e=a.call(this)||this;e.className="NavigationBar";var t=new ce,r=new Vs;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,e.paddingBottom=2,e.links=new Oe(r),e._disposers.push(new ye(e.links)),e._disposers.push(r),e._linksIterator=new Xn(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var n=new Rs;n.direction="right",n.width=8,n.height=12,n.fill=t.getFor("alternativeBackground"),n.fillOpacity=.5,n.valign="middle",n.marginLeft=10,n.marginRight=10,e.separators=new Oe(n),e._disposers.push(new ye(e.separators)),e._disposers.push(n);var s=new Vs;return e.activeLink=s,s.copyFrom(r),s.valign="middle",s.fontWeight="bold",e.width=R(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),a.prototype.validateDataElements.call(this)},i.prototype.validateDataElement=function(e){var t;if(a.prototype.validateDataElement.call(this,e),e.index<this.dataItems.length-1){(t=this._linksIterator.getLast()).parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else(t=this.activeLink).events.copyFrom(this.links.template.events),t.hide(0),t.show(),t.parent=this;t.dataItem=e,t.text=e.name,t.validate()},i}(yi);C.registeredClasses.NavigationBar=dg,C.registeredClasses.NavigationBarDataItem=cg;var zh=function(a){function i(){var e=a.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=R(100),e.height=R(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var t=J();return e._disposers.push(t.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(t.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(t.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if(("zoom"!=this._generalBehavior&&"pan"!=this._generalBehavior||!this.downPoint)&&!J().isLocalElement(e.pointer,this.paper.svg,this.uid))return void((!this.isHidden||!this.isHiding)&&this.hide());var t=Zi(e.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(t)||(t=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.triggerMove(t),t}},i.prototype.hideReal=function(e){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return a.prototype.hideReal.call(this,e)},i.prototype.triggerMove=function(e,t,r){e.x=F(e.x,1),e.y=F(e.y,1),t&&(this._stick=t),("hard"==t||"soft"==t)&&(this._stickPoint=e),this.triggerMoveReal(e,r)},i.prototype.triggerMoveReal=function(e,t){(this.point.x!=e.x||this.point.y!=e.y||t)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},i.prototype.triggerDown=function(e){this.triggerDownReal(e)},i.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),J().setGlobalStyle(qe.grabbing)}},i.prototype.triggerUp=function(e){this.triggerUpReal(e)},i.prototype.triggerUpReal=function(e){re.requestFrame(),this.updatePoint(this.upPoint);var t=J();if(de(this._upPointOrig,this._downPointOrig)>t.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),t.setGlobalStyle(qe.default)}this.downPoint=void 0,this.updateSelection()}},i.prototype.updateSelection=function(){},i.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},i.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)&&J().isLocalElement(e.pointer,this.paper.svg,this.uid)){Pa();var t=Zi(e.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.fitsToBounds(t)&&(this._downPointOrig={x:t.x,y:t.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(t)&&e.event.preventDefault(),this.triggerMove(t),this.triggerDown(t))}},i.prototype.shouldPreventGestures=function(e){return!0},i.prototype.updatePoint=function(e){},i.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&(this.downPoint||J().isLocalElement(e.pointer,this.paper.svg,this.uid))){var t=Zi(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",t),this.downPoint&&this.fitsToBounds(this.downPoint)&&("hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._upPointOrig={x:t.x,y:t.y},this.triggerMove(t),this.triggerUp(t))}},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,x(this._chart.plotContainer)&&J().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),i}(U);C.registeredClasses.Cursor=zh;var Ki=function(a){function i(){var e=a.call(this)||this;e._lineX=new He,e._lineY=new He,e._xAxis=new He,e._yAxis=new He,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var t=new ce;e.snapOnPan=!0;var r=e.createChild(ee);r.shouldClone=!1,r.fillOpacity=.2,r.fill=t.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,e.selection=r,e._disposers.push(e.selection);var n=e.createChild(ee);n.shouldClone=!1,n.stroke=t.getFor("grid"),n.fill=G(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.y=0,e.lineX=n,e._disposers.push(e.lineX);var s=e.createChild(ee);return s.shouldClone=!1,s.stroke=t.getFor("grid"),s.fill=G(),s.strokeDasharray="3,3",s.isMeasured=!1,s.strokeOpacity=.4,s.interactionsEnabled=!1,s.x=0,e.lineY=s,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return(0,w.ZT)(i,a),i.prototype.updateSize=function(){this.lineX&&(this.lineX.path=N({x:0,y:0})+M({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=N({x:0,y:0})+M({x:this.innerWidth,y:0}))},i.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,t=this.behavior;if(e){var r=this.point;this.lineX&&(r.x=this.lineX.pixelX),this.lineY&&(r.y=this.lineY.pixelY);var n=this.selection,s=Math.min(r.x,e.x),o=Math.min(r.y,e.y),h=F(Math.abs(e.x-r.x),this._positionPrecision),u=F(Math.abs(e.y-r.y),this._positionPrecision);switch(t){case"zoomX":case"selectX":o=0,u=this.pixelHeight;break;case"zoomY":case"selectY":s=0,h=this.pixelWidth}n.x=s,n.y=o,n.path=Is(h,u),n.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},i.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},i.prototype.triggerMoveReal=function(e,t){a.prototype.triggerMoveReal.call(this,e,t);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof Pi)r.isHidden&&this.updateLinePositions(e);else{var n=!0;j(r,function(s){s.isHidden||(n=!1)}),n&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&de(this.downPoint,e)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},i.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},i.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var t=this.selection,n=this.downPoint.y;this._usesSelection&&(t.x=this.downPoint.x,t.y=n,t.path="",t.show()),a.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},i.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},i.prototype.triggerUpReal=function(e){this.hasMoved()?this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),a.prototype.triggerUpReal.call(this,e)):("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior&&J().setGlobalStyle(qe.default),this.dispatchImmediately("behaviorcanceled")),this.downPoint=void 0,this.dispatch("cursorpositionchanged")},i.prototype.hasMoved=function(){var e;return e="zoomX"==this.behavior||"panX"==this.behavior?function ed(a,i){return a?(i||(i={x:0,y:0}),Math.abs(a.x-i.x)):0}(this._upPointOrig,this._downPointOrig):"zoomY"==this.behavior||"panY"==this.behavior?function td(a,i){return a?(i||(i={x:0,y:0}),Math.abs(a.y-i.y)):0}(this._upPointOrig,this._downPointOrig):de(this._upPointOrig,this._downPointOrig),e>J().getHitOption(this.interactions,"hitTolerance")},i.prototype.getPanningRanges=function(){var e=F(this.downPoint.x/this.innerWidth,5),t=1-F(this.downPoint.y/this.innerHeight,5),s=e-F(this.point.x/this.innerWidth,5),o=t-(1-F(this.point.y/this.innerHeight,5));this.xRange={start:s,end:1+s},this.yRange={start:o,end:1+o},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},i.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY);var e=F(this.downPoint.x/this.innerWidth,5),t=F(this.upPoint.x/this.innerWidth,5),r=1-F(this.downPoint.y/this.innerHeight,5),n=1-F(this.upPoint.y/this.innerHeight,5);this.xRange={start:se(e,t),end:Q(e,t)},this.yRange={start:se(r,n),end:Q(r,n)}},Object.defineProperty(i.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,-1!=e.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=e.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=e.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),i.prototype.shouldPreventGestures=function(e){return!(this.interactions.isTouchProtected&&e||"none"==this.behavior)},Object.defineProperty(i.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var t=this;this._xAxis.get()!=e&&this._xAxis.set(e,new Pe([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){t.hide(0),t.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(r){t.preventShow=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var t=this;this._yAxis.get()!=e&&this._yAxis.set(e,new Pe([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){t.hide(0),t.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(r){t.__disabled=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),i.prototype.handleXTooltipPosition=function(e){var t=this.xAxis.tooltip,r=mt({x:t.pixelX,y:t.pixelY},this),n=r.x;if(r.y=1,this.lineX&&(this.lineX.x=n,this.fitsToBounds(r)||this.hide()),this.xAxis&&this.fullWidthLineX){var s=this.xAxis.currentItemStartPoint,o=this.xAxis.currentItemEndPoint;if(s&&o){this.lineX.x=n;var h=o.x-s.x;this.lineX.path=Is(h,this.innerHeight,-h/2)}}},i.prototype.handleYTooltipPosition=function(e){var t=this.yAxis.tooltip,r=mt({x:t.pixelX,y:t.pixelY},this),n=r.y;if(r.x=1,this.lineY&&(this.lineY.y=n,this.fitsToBounds(r)||this.hide()),this.yAxis&&this.fullWidthLineY){var s=this.yAxis.currentItemStartPoint,o=this.yAxis.currentItemEndPoint;if(s&&o){this.lineY.y=n;var h=o.y-s.y;this.lineY.path=Is(this.innerWidth,h,0,-h/2)}}},Object.defineProperty(i.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),i.prototype.processConfig=function(e){var t=this;if(e&&(x(e.xAxis)&&ne(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),x(e.yAxis)&&ne(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),x(e.snapToSeries))){var r=Ee(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],n=!1;j(r,function(s,o){ne(s)&&(t.map.hasKey(s)?r[o]=t.map.getKey(s):(t.processingErrors.push('[XYCursor] No series with id "'+s+'" found for `series`'),n=!0))}),n?delete e.snapToSeries:e.snapToSeries=r}a.prototype.processConfig.call(this,e)},Object.defineProperty(i.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var t=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof Pi&&(e=[e]),this._snapToDisposers&&j(this._snapToDisposers,function(r){r.dispose()}),this._snapToDisposers=[],e&&j(e,function(r){t._snapToDisposers.push(r.events.on("tooltipshownat",function(){t.handleSnap(r)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),i.prototype.handleSnap=function(e){if(!this.downPoint){var t=e.getTooltipX()+e.xAxis.pixelX,r=e.getTooltipY()+e.yAxis.pixelY,n=e.xAxis,s=e.yAxis;n&&n.renderer.opposite&&(r-=this.pixelHeight),this.point={x:t,y:r},this.getPositions();var o=t,h=r;t-=this.pixelWidth,s&&s.renderer.opposite&&(t+=this.pixelWidth);var u=e.tooltip,c=u.animationDuration,d=u.animationEasing;n instanceof te&&!(n instanceof Se)&&s instanceof te&&!(s instanceof Se)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=t,this.lineX.y=r,this.xAxis||this.lineX.animate([{property:"x",to:o}],c,d),this.yAxis||this.lineY.animate([{property:"y",to:h}],c,d)}},i.prototype.dispose=function(){this.hide(0),a.prototype.dispose.call(this)},i}(zh);C.registeredClasses.XYCursor=Ki;var pg=function(a){function i(){var e=a.call(this)||this;return e.className="RadarCursor",e.radius=R(100),e.innerRadius=R(0),e.applyTheme(),e.mask=void 0,e}return(0,w.ZT)(i,a),i.prototype.fitsToBounds=function(e){var t=de(e);return t<this.truePixelRadius+1&&t>this.pixelInnerRadius-1},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),i.prototype.triggerMoveReal=function(e,t){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),a.prototype.triggerMoveReal.call(this,e,t)},i.prototype.updateLineX=function(e){var t=this.pixelRadius,r=this.startAngle,n=this.endAngle,s=this.pixelInnerRadius;if(t>0&&y(r)&&y(n)&&y(s)){var o=Mt(We(e),r,n),h=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var u=this.xAxis.currentItemStartPoint,c=this.xAxis.currentItemEndPoint;if(u&&c){var d=Mt(We(u),r,n),f=Mt(We(c),r,n)-d;r<n?f<0&&(f+=360):f>0&&(f-=360),h=N({x:s*L(o-=f/2),y:s*E(o)})+M({x:t*L(o),y:t*E(o)})+Ye(o,f,t)+M({x:s*L(o+f),y:s*E(o+f)})+Ye(o+f,-f,s)}}h||(h=N({x:s*L(o),y:s*E(o)})+M({x:t*L(o),y:t*E(o)})),this.lineX.path=h}}},i.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var t=this.startAngle,r=this.endAngle,n=this.truePixelRadius,s=B(de(e),0,this.truePixelRadius);if(y(s)&&y(t)){this.lineY.moveTo({x:0,y:0});var o=void 0,h=r-t;if(this.yAxis&&this.fullWidthLineY){var u=this.yAxis.currentItemStartPoint,c=this.yAxis.currentItemEndPoint;if(u&&c){var d=B(de(u),0,n);o=N({x:(s=B(de(c),0,n))*L(t),y:s*E(t)})+Ye(t,h,s),o+=N({x:d*L(r),y:d*E(r)})+Ye(r,-h,d)}}o||(o=N({x:s*L(t),y:s*E(t)})+Ye(t,r-t,s)),this.lineY.path=o}}},i.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var t=this.point,r=this.pixelRadius,n=this.truePixelRadius,s=this.pixelInnerRadius,o=Math.min(this.startAngle,this.endAngle),h=Math.max(this.startAngle,this.endAngle),u=Mt(We(e),o,h),c=Mt(We(t),o,h),d=de(e);if(d<n){var p=B(de(t),0,n);this._prevAngle=c;var f=N({x:0,y:0}),g=E(u),m=L(u),v=E(c),b=L(c),_=this.behavior;"zoomX"==_||"selectX"==_?f+=M({x:r*m,y:r*g})+Ye(u,c-u,r)+M({x:s*b,y:s*v})+Ye(c,u-c,s):"zoomY"==_||"selectY"==_?f=N({x:p*L(o),y:p*E(o)})+Ye(o,h-o,p)+M({x:d*L(h),y:d*E(h)})+Ye(h,o-h,d)+" Z":"zoomXY"==_&&(f=N({x:p*L(u),y:p*E(u)})+Ye(u,c-u,p)+M({x:d*L(c),y:d*E(c)})+Ye(c,u-c,d)+" Z"),this.selection.path=f}this.selection.moveTo({x:0,y:0})}}},i.prototype.getPositions=function(){if(this.chart){var t=this.pixelInnerRadius,r=this.truePixelRadius-t,n=this.startAngle,s=this.endAngle,o=Mt(We(this.point),n,s);this.xPosition=(o-n)/(s-n),this.yPosition=B((de(this.point)-t)/r,0,1)}},i.prototype.updatePoint=function(e){},i.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var t=this.xAxis.tooltip;this.updateLineX(mt({x:t.pixelX,y:t.pixelY},this))}},i.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var t=this.yAxis.tooltip;this.updateLineY(mt({x:t.pixelX,y:t.pixelY},this))}},i.prototype.updateLinePositions=function(e){},i.prototype.getRanges=function(){var e=this.downPoint;if(e){var t=this.upPoint;if(this.chart){var n=this.pixelRadius,s=this.startAngle,o=this.endAngle,h=Mt(We(e),this.startAngle,this.endAngle),u=Mt(We(t),this.startAngle,this.endAngle),c=B(de(e),0,n),d=B(de(t),0,n),p=0,f=1,g=0,m=1,v=this.behavior;if("zoomX"==v||"selectX"==v||"zoomXY"==v||"selectXY"==v){var b=o-s;p=F((h-s)/b,5),f=F((u-s)/b,5)}("zoomY"==v||"selectY"==v||"zoomXY"==v||"selectXY"==v)&&(g=F(c/n,5),m=F(d/n,5)),this.xRange={start:Math.min(p,f),end:Math.max(p,f)},this.yRange={start:Math.min(g,m),end:Math.max(g,m)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},i.prototype.updateSize=function(){},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return ze(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"truePixelRadius",{get:function(){return we(R(100),se(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof ae&&(e=R(100*e.value*this.chart.innerRadiusModifyer)),ze(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),i.prototype.fixPoint=function(e){return e},i}(Ki);C.registeredClasses.RadarCursor=pg;const Gh=function(a){nt(a,"SpriteState")&&(a.transitionDuration=400),nt(a,"Component")&&(a.rangeChangeDuration=500,a.interpolationDuration=500,a.sequencedInterpolation=!1,nt(a,"SankeyDiagram")&&(a.sequencedInterpolation=!0),nt(a,"FunnelSeries")&&(a.sequencedInterpolation=!0)),nt(a,"Chart")&&(a.defaultState.transitionDuration=2e3,a.hiddenState.transitionDuration=1e3),nt(a,"Tooltip")&&(a.animationDuration=400,a.defaultState.transitionDuration=400,a.hiddenState.transitionDuration=400),nt(a,"Scrollbar")&&(a.animationDuration=500),nt(a,"Series")&&(a.defaultState.transitionDuration=1e3,a.hiddenState.transitionDuration=700,a.hiddenState.properties.opacity=1,a.showOnInit=!0),nt(a,"MapSeries")&&(a.hiddenState.properties.opacity=0),nt(a,"PercentSeries")&&(a.hiddenState.properties.opacity=0),nt(a,"FunnelSlice")&&(a.defaultState.transitionDuration=800,a.hiddenState.transitionDuration=1e3,a.hiddenState.properties.opacity=1),nt(a,"Slice")&&(a.defaultState.transitionDuration=700,a.hiddenState.transitionDuration=1e3,a.hiddenState.properties.opacity=1),nt(a,"Preloader")&&(a.hiddenState.transitionDuration=2e3),nt(a,"Column")&&(a.defaultState.transitionDuration=700,a.hiddenState.transitionDuration=1e3,a.hiddenState.properties.opacity=1),nt(a,"Column3D")&&(a.hiddenState.properties.opacity=0)};let Xh=(()=>{var a;class i{constructor(t,r,n,s,o){this.platformId=t,this.zone=r,this.service=n,this.router=s,this.cd=o,this.functions=new ui}browserOnly(t){(0,lt.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{t()})}ngAfterViewInit(){this.browserOnly(()=>{ah(Gh);let t=Ba("chartdiv",Dt);t.paddingRight=20,t.data=JSON.parse(sessionStorage.getItem("reports")),this.cd.detectChanges();let r=t.xAxes.push(new Te);r.dataFields.category="trampa",r.title.text="Numero de trampa",r.renderer.grid.template.location=0,r.renderer.minGridDistance=10,t.yAxes.push(new te).title.text="Numero de capturas";let s=t.series.push(new yt);s.dataFields.valueY="moscas",s.dataFields.categoryX="trampa",s.name="Moscas",s.tooltipText="{name}: [bold]{valueY}[/]",s.stacked=!0;let o=t.series.push(new yt);o.dataFields.valueY="palomillas",o.dataFields.categoryX="trampa",o.name="Palomillas",o.tooltipText="{name}: [bold]{valueY}[/]",o.stacked=!0;let h=t.series.push(new yt);h.dataFields.valueY="otros",h.dataFields.categoryX="trampa",h.name="Otros",h.tooltipText="{name}: [bold]{valueY}[/]",h.stacked=!0,t.cursor=new Ki,this.cd.detectChanges()})}ngOnDestroy(){this.browserOnly(()=>{this.chart&&this.chart.dispose()})}reset(){this.ngOnDestroy(),this.ngAfterViewInit()}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(Fn),l.Y36(Xe.F0),l.Y36(l.sBO))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-chart"]],decls:9,vars:0,consts:[[1,"card-body","py-3"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"mb-0"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["type","button","value","Reinicar Gr\xe1fico",1,"btn","btn-warning",3,"click"],["id","chartdiv",2,"width","100%","height","500px"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),l._uU(5,"Incidencias de Plagas Mensual"),l.qZA()(),l.TgZ(6,"div",5)(7,"input",6),l.NdJ("click",function(){return r.reset()}),l.qZA()()(),l._UZ(8,"div",7),l.qZA()())}}),i})();function gg(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function mg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Trampa"),l.qZA())}function vg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.trampa," ")}}function yg(a,i){1&a&&(l.TgZ(0,"td",44),l._uU(1,"Totales"),l.qZA())}function bg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Enero"),l.qZA())}function _g(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.enero," ")}}function xg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.enero," ")}}function Cg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Febrero"),l.qZA())}function wg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.febrero," ")}}function Pg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.febrero," ")}}function Dg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Marzo"),l.qZA())}function Sg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.marzo," ")}}function Tg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.marzo," ")}}function Ag(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Abril"),l.qZA())}function Og(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.abril," ")}}function kg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.abril," ")}}function Mg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Mayo"),l.qZA())}function Ig(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.mayo," ")}}function Fg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.mayo," ")}}function Vg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Junio"),l.qZA())}function Rg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.junio," ")}}function Eg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.junio," ")}}function Lg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Julio"),l.qZA())}function jg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.julio," ")}}function Ng(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.julio," ")}}function Bg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Agosto"),l.qZA())}function Zg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.agosto," ")}}function Hg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.agosto," ")}}function Yg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Setiembre"),l.qZA())}function Ug(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.setiembre," ")}}function Wg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.setiembre," ")}}function zg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Octubre"),l.qZA())}function Gg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.octubre," ")}}function Xg(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.octubre," ")}}function qg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Noviembre"),l.qZA())}function Kg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.noviembre," ")}}function $g(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.noviembre," ")}}function Jg(a,i){1&a&&(l.TgZ(0,"th",42),l._uU(1,"Diciembre"),l.qZA())}function Qg(a,i){if(1&a&&(l.TgZ(0,"td",43),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.xp6(1),l.hij(" ",e.diciembre," ")}}function em(a,i){if(1&a&&(l.TgZ(0,"td",44),l._uU(1),l.qZA()),2&a){const e=l.oxw();l.xp6(1),l.hij(" ",e.totales.diciembre," ")}}function tm(a,i){1&a&&l._UZ(0,"tr",45)}function im(a,i){1&a&&l._UZ(0,"tr",46)}function rm(a,i){1&a&&l._UZ(0,"tr",47)}function am(a,i){if(1&a&&(l.TgZ(0,"option",41),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e)}}const nm=[];let sm=(()=>{var a;class i{constructor(t,r,n,s){this.service=t,this.cd=r,this.branchService=n,this._liveAnnouncer=s,this.currentYear=(new Date).getFullYear(),this.displayedColumns=["trampa","enero","febrero","marzo","abril","mayo","junio","julio","agosto","setiembre","octubre","noviembre","diciembre"],this.dataSource=new An(nm),this.trampas=[],this.totales={trampa:0,enero:0,febrero:0,marzo:0,abril:0,mayo:0,junio:0,julio:0,agosto:0,setiembre:0,octubre:0,noviembre:0,diciembre:0}}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnInit(){this._initForm()}_initForm(){this.range=new V.cw({branch:new V.NI,trampa:new V.NI}),this.findBranches()}findBranches(){this.clientId=sessionStorage.getItem("clientId"),this.branchService.findByClientId(Number.parseInt(this.clientId),1,200).subscribe(t=>{this.branches=t.content,this.cd.detectChanges(),this.range.controls.branch.valueChanges.subscribe(r=>{this.cargarDatosV2(r.id),this.cd.detectChanges()})})}cargarDatosV2(t){this.service.findReporteAnual((new Date).getFullYear(),t).subscribe(n=>{let s=[];n.forEach(h=>{let u=s.find(c=>c.trampa===h[2]);switch(u||(u={trampa:h[2],enero:0,febrero:0,marzo:0,abril:0,mayo:0,junio:0,julio:0,agosto:0,setiembre:0,octubre:0,noviembre:0,diciembre:0},s.push(u)),h[3]){case 1:u.enero=h[0];break;case 2:u.febrero=h[0];break;case 3:u.marzo=h[0];break;case 4:u.abril=h[0];break;case 5:u.mayo=h[0];break;case 6:u.junio=h[0];break;case 7:u.julio=h[0];break;case 8:u.agosto=h[0];break;case 9:u.setiembre=h[0];break;case 10:u.octubre=h[0];break;case 11:u.noviembre=h[0];break;case 12:u.diciembre=h[0]}}),this.dataSource.data=s,s.forEach(h=>{this.totales.enero+=h.enero,this.totales.febrero+=h.febrero,this.totales.marzo+=h.marzo,this.totales.abril+=h.abril,this.totales.mayo+=h.mayo,this.totales.junio+=h.junio,this.totales.julio+=h.julio,this.totales.agosto+=h.agosto,this.totales.setiembre+=h.setiembre,this.totales.octubre+=h.octubre,this.totales.noviembre+=h.noviembre,this.totales.diciembre+=h.diciembre});let o=[];for(const h in s)this.trampas.push(s[h].trampa);console.log(this.trampas),this.range.controls.trampa.valueChanges.subscribe(h=>{this.findReporteAnualPorNumeroTrampa(t,h,o),this.cd.detectChanges()}),this.createTrampaMonthlyChart(this.totales),this.cd.detectChanges()})}announceSortChange(t){t.direction?(this._liveAnnouncer.announce(`Sorted ${t.direction}ending`),this.cd.detectChanges()):this._liveAnnouncer.announce("Sorting cleared")}eliminar(t){}findReporteAnualPorNumeroTrampa(t,r,n){const s=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","setiembre","octubre","noviembre","diciembre"];this.service.findReporteAnualPorNumeroTrampa(t,r).subscribe(o=>{for(const h in o)n.push({mes:s[o[h][1]-1],valor:o[h][0]});this.createMonthlyTotalChart(n,r),this.cd.detectChanges()})}createTrampaMonthlyChart(t){ah(Gh);let r=Ba("totalChartdiv",Dt);r.paddingRight=20,r.data=[{month:"Enero",value:t.enero},{month:"Febrero",value:t.febrero},{month:"Marzo",value:t.marzo},{month:"Abril",value:t.abril},{month:"Mayo",value:t.mayo},{month:"Junio",value:t.junio},{month:"Julio",value:t.julio},{month:"Agosto",value:t.agosto},{month:"Setiembre",value:t.setiembre},{month:"Octubre",value:t.octubre},{month:"Noviembre",value:t.noviembre},{month:"Diciembre",value:t.diciembre}];let n=r.xAxes.push(new Te);n.dataFields.category="month",n.title.text="Trampa",n.renderer.grid.template.location=0,n.renderer.minGridDistance=10,r.yAxes.push(new te).title.text="Total de Consumo";let o=r.series.push(new yt);o.dataFields.categoryX="month",o.dataFields.valueY="value",o.tooltipText="{categoryX}: [bold]{valueY}[/]",o.stacked=!0,r.cursor=new Ki,this.cd.detectChanges()}createMonthlyTotalChart(t,r){console.log(t,"totales");let n=Ba("trampaChartdiv",Dt);n.paddingRight=20,n.data=t,console.log(n.data,"chart data");let s=n.xAxes.push(new Te);s.dataFields.category="mes",s.title.text="Trampa "+r,s.renderer.grid.template.location=0,s.renderer.minGridDistance=10,n.yAxes.push(new te).title.text="Total de Consumo";let h=n.series.push(new yt);h.dataFields.categoryX="mes",h.dataFields.valueY="valor",h.tooltipText="{categoryX}: [bold]{valueY}[/]",h.stacked=!0,n.cursor=new Ki,this.cd.detectChanges()}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(Fn),l.Y36(l.sBO),l.Y36(ci.I),l.Y36(Qi.Kd))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-historial-capturas-lamparas"]],viewQuery:function(t,r){if(1&t&&l.Gf(Oi,5),2&t){let n;l.iGM(n=l.CRH())&&(r.sort=n.first)}},decls:103,vars:9,consts:[[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"mb-0"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-9"],["for","clientBranch",1,"form-label"],["formControlName","branch","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","button","value","Atras","routerLink","/reports",1,"btn","btn-warning"],[1,"fv-plugins-message-container"],[1,"row"],[1,"col-sm"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","trampa"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","enero"],["matColumnDef","febrero"],["matColumnDef","marzo"],["matColumnDef","abril"],["matColumnDef","mayo"],["matColumnDef","junio"],["matColumnDef","julio"],["matColumnDef","agosto"],["matColumnDef","setiembre"],["matColumnDef","octubre"],["matColumnDef","noviembre"],["matColumnDef","diciembre"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["formControlName","trampa","id","trampa",1,"form-select"],["id","trampaChartdiv",2,"height","400px"],["id","totalChartdiv",2,"height","400px"],[3,"ngValue"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l._uU(6),l.qZA()(),l.TgZ(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),l._uU(12,"Sucursal"),l.qZA(),l.TgZ(13,"select",11)(14,"option"),l._uU(15,"Seleccione Sucursal"),l.qZA(),l.YNc(16,gg,2,2,"option",12),l.qZA()(),l.TgZ(17,"div",13),l._UZ(18,"br")(19,"input",14),l.qZA()()()()(),l.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",1)(24,"table",18),l.NdJ("matSortChange",function(s){return r.announceSortChange(s)}),l.ynx(25,19),l.YNc(26,mg,2,0,"th",20),l.YNc(27,vg,2,1,"td",21),l.YNc(28,yg,2,0,"td",22),l.BQk(),l.ynx(29,23),l.YNc(30,bg,2,0,"th",20),l.YNc(31,_g,2,1,"td",21),l.YNc(32,xg,2,1,"td",22),l.BQk(),l.ynx(33,24),l.YNc(34,Cg,2,0,"th",20),l.YNc(35,wg,2,1,"td",21),l.YNc(36,Pg,2,1,"td",22),l.BQk(),l.ynx(37,25),l.YNc(38,Dg,2,0,"th",20),l.YNc(39,Sg,2,1,"td",21),l.YNc(40,Tg,2,1,"td",22),l.BQk(),l.ynx(41,26),l.YNc(42,Ag,2,0,"th",20),l.YNc(43,Og,2,1,"td",21),l.YNc(44,kg,2,1,"td",22),l.BQk(),l.ynx(45,27),l.YNc(46,Mg,2,0,"th",20),l.YNc(47,Ig,2,1,"td",21),l.YNc(48,Fg,2,1,"td",22),l.BQk(),l.ynx(49,28),l.YNc(50,Vg,2,0,"th",20),l.YNc(51,Rg,2,1,"td",21),l.YNc(52,Eg,2,1,"td",22),l.BQk(),l.ynx(53,29),l.YNc(54,Lg,2,0,"th",20),l.YNc(55,jg,2,1,"td",21),l.YNc(56,Ng,2,1,"td",22),l.BQk(),l.ynx(57,30),l.YNc(58,Bg,2,0,"th",20),l.YNc(59,Zg,2,1,"td",21),l.YNc(60,Hg,2,1,"td",22),l.BQk(),l.ynx(61,31),l.YNc(62,Yg,2,0,"th",20),l.YNc(63,Ug,2,1,"td",21),l.YNc(64,Wg,2,1,"td",22),l.BQk(),l.ynx(65,32),l.YNc(66,zg,2,0,"th",20),l.YNc(67,Gg,2,1,"td",21),l.YNc(68,Xg,2,1,"td",22),l.BQk(),l.ynx(69,33),l.YNc(70,qg,2,0,"th",20),l.YNc(71,Kg,2,1,"td",21),l.YNc(72,$g,2,1,"td",22),l.BQk(),l.ynx(73,34),l.YNc(74,Jg,2,0,"th",20),l.YNc(75,Qg,2,1,"td",21),l.YNc(76,em,2,1,"td",22),l.BQk(),l.YNc(77,tm,1,0,"tr",35),l.YNc(78,im,1,0,"tr",36),l.YNc(79,rm,1,0,"tr",37),l.qZA()()()()()()()(),l.TgZ(80,"div",0)(81,"div",2)(82,"div",3)(83,"div",4)(84,"h3",5),l._uU(85,"Grafico consumo de trampas mensual"),l.qZA()(),l.TgZ(86,"form",7)(87,"div",6)(88,"label",10),l._uU(89,"Trampa Numero"),l.qZA(),l.TgZ(90,"select",38)(91,"option"),l._uU(92,"Seleccione Trampa"),l.qZA(),l.YNc(93,am,2,2,"option",12),l.qZA()()()(),l._UZ(94,"div",39),l.qZA()(),l.TgZ(95,"div",0)(96,"div",2)(97,"div",3)(98,"div",4)(99,"h3",5),l._uU(100,"Grafico consumo anual total"),l.qZA()(),l._UZ(101,"div",6),l.qZA(),l._UZ(102,"div",40),l.qZA()()),2&t&&(l.xp6(6),l.hij("Historial de Capturas Lamparas UV A\xf1o: ",r.currentYear,""),l.xp6(2),l.Q6J("formGroup",r.range),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(8),l.Q6J("dataSource",r.dataSource),l.xp6(53),l.Q6J("matHeaderRowDef",r.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",r.displayedColumns),l.xp6(1),l.Q6J("matFooterRowDef",r.displayedColumns),l.xp6(7),l.Q6J("formGroup",r.range),l.xp6(7),l.Q6J("ngForOf",r.trampas))},dependencies:[lt.sg,Xe.rH,V._Y,V.YN,V.Kr,V.EJ,V.JJ,V.JL,V.sg,V.u,Oi,go,wn,Xr,Pn,qr,Gr,Dn,Co,Po,Kr,$r,wo,Sn,Tn,Do],styles:["table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]}),i})(),om=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}findByDateRange(t,r,n){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-by-date-range/"+t+"/"+r+"/"+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}findByDate(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findAll(){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-all",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(t=>(this.variables.notAllowed(t),(0,oe._)(t))))}save(t){return this.http.post(this.variables.getServicingEndpoint()+"/trampas-gomosas/save",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}update(t){return this.http.put(this.variables.getServicingEndpoint()+"/trampas-gomosas/edit",t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findReporteAnual(t){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-reporte-por-mes/"+t,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findVerificandoExistencia(t,r,n,s){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-reporte-verificando-existencia/"+t+"/"+r+"/"+n+"/"+s+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(o=>(this.variables.notAllowed(o),(0,oe._)(o))))}findByMonth(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-by-date/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}findByYear(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-by-year/"+t+"/"+r+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}delete(t){return this.http.delete(this.variables.getServicingEndpoint()+"/trampas-gomosas/delete/"+t+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(r=>(this.variables.notAllowed(r),(0,oe._)(r))))}findReportePorAnio(t,r){return this.http.get(this.variables.getServicingEndpoint()+"/trampas-gomosas/get-reporte-por-anio/"+r+"/"+t+"/",{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(n=>(this.variables.notAllowed(n),(0,oe._)(n))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})(),qh=(()=>{var a;class i{constructor(){}confirmDeletion(){return Zt().fire({title:"Eliminar",text:"\xbfEst\xe1 seguro de eliminar el registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"No, cancelar",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"})}showSuccessMessage(t,r){Zt().fire({title:t,text:r,icon:"success",confirmButtonText:"Aceptar"})}editDialogGomosas(t){return Zt().fire({title:"Editar",html:`\n       <div>\n         <input type="checkbox" id="roedor" ${t.roedor?"checked":""}> Roedores\n       </div>\n       <div>\n         <input type="checkbox" id="insectos" ${t.insectos?"checked":""}> Insectos\n       </div>\n       <div>\n         <input type="checkbox" id="sucia" ${t.sucia?"checked":""}> Sucia\n       </div>\n     `,focusConfirm:!1,preConfirm:()=>({roedor:document.getElementById("roedor").checked,insectos:document.getElementById("insectos").checked,sucia:document.getElementById("sucia").checked})})}}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();function lm(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function hm(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function um(a,i){if(1&a&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&a){const e=i.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.Oqu(e.name)}}function cm(a,i){if(1&a){const e=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"date"),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.qZA(),l.TgZ(14,"td")(15,"button",43),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.editar(n))}),l._UZ(16,"i",44),l.qZA(),l.TgZ(17,"button",45),l.NdJ("click",function(){const n=l.CHM(e).$implicit,s=l.oxw();return l.KtG(s.eliminar(n))}),l._UZ(18,"i",46),l.qZA()()()}if(2&a){const e=i.$implicit;l.xp6(2),l.Oqu(e.trampa),l.xp6(2),l.Oqu(e.warehouse.name),l.xp6(2),l.Oqu(l.xi3(7,6,e.createAt,"dd/MM/yyyy")),l.xp6(3),l.Oqu(e.roedor?"Si":"No"),l.xp6(2),l.Oqu(e.insectos?"Si":"No"),l.xp6(2),l.Oqu(e.sucia?"Si":"No")}}function dm(a,i){if(1&a&&(l.TgZ(0,"form",47)(1,"label",12),l._uU(2,"Filtrar por:"),l.qZA(),l.TgZ(3,"select",48)(4,"option",49),l._uU(5,"Roedores"),l.qZA(),l.TgZ(6,"option",50),l._uU(7,"Insectos"),l.qZA(),l.TgZ(8,"option",51),l._uU(9,"Sucia"),l.qZA()()()),2&a){const e=l.oxw();l.Q6J("formGroup",e.graphForm)}}let pm=(()=>{var a;class i{constructor(t,r,n,s,o,h){this.service=t,this.branchService=r,this.wareHouseService=n,this.router=s,this.cd=o,this.uiService=h,this.chartData=[],this.destroy$=new Ht.x,this.yearly=!1,this.selectedFilter="roedor",this.functions=new ui}ngOnInit(){this.manageSessionStorage(),this.initializeForms(),this.setFechaHoy(),this._getBranches(),this.graphForm.get("filter")?.valueChanges.pipe((0,at.R)(this.destroy$)).subscribe(t=>{this.selectedFilter=t,this.cargarDatos()})}initializeForms(){this.form=new V.cw({branch:new V.NI(""),month:new V.NI("")}),this.graphForm=new V.cw({filter:new V.NI("")}),this.nuevoConteoForm=new V.cw({branchOffice:new V.NI(""),createAt:new V.NI(""),warehouse:new V.NI(""),trampa:new V.NI(""),roedor:new V.NI(""),insectos:new V.NI(""),sucia:new V.NI("")}),["warehouse","createAt","trampa","roedor","insectos","sucia"].forEach(r=>{this.nuevoConteoForm.controls[r].disable()})}resetForm(){const t=this.nuevoConteoForm.controls;t.trampa.setValue(""),t.roedor.setValue(""),t.insectos.setValue(""),t.sucia.setValue("")}setFechaHoy(){this.nuevoConteoForm.get("createAt")?.setValue(this.functions.fechaActual());const t=Number.parseInt(sessionStorage.getItem("clientId")||"0"),r=this.functions.mesActual();this.service.findByDate(t,r).pipe((0,at.R)(this.destroy$)).subscribe(n=>{this.reports=n,this.cd.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.chart&&this.chart.dispose()}save(){this.service.save(this.nuevoConteoForm.value).pipe((0,at.R)(this.destroy$)).subscribe(t=>{this.uiService.showSuccessMessage("Trampa "+this.nuevoConteoForm.get("trampa")?.value,"Registrada correctamente"),this.resetForm(),this.setFechaHoy(),this.cd.detectChanges()})}cargarDatos(){let t=this.form.get("month")?.value,r=this.form.get("branch")?.value;this.reports=[],0==t&&(this.yearly=!0,this.service.findByYear(r.id,this.functions.anioActual()).pipe((0,at.R)(this.destroy$)).subscribe(n=>{this.reports=n,this.chart&&this.chart.dispose(),this.processDataForChart(this.reports,!0),this.initChart(),this.cd.detectChanges()})),0!=t&&(this.yearly=!1,this.service.findByDate(r.id,t).pipe((0,at.R)(this.destroy$)).subscribe(n=>{this.reports=n,this.chart&&this.chart.dispose(),this.processDataForChart(this.reports,!1),this.initChart(),this.cd.detectChanges()}))}initChart(){let t=Ba("chartdiv",Dt);t.data=this.chartData;let r=t.xAxes.push(new Te);this.chartData[0]&&this.chartData[0].trampa?(r.dataFields.category="trampa",r.title.text="Trampa"):(r.dataFields.category="category",r.title.text="Categor\xeda"),t.yAxes.push(new te).title.text="Cantidad";let s=t.series.push(new yt);s.dataFields.valueY="count",s.dataFields.categoryX=r.dataFields.category,s.name="Cantidad",s.columns.template.tooltipText="{categoryX}: {valueY}",s.columns.template.fillOpacity=.8,s.stacked=!0,this.chartData[0].trampa||s.columns.template.adapter.add("fill",(h,u)=>{let c=u.dataItem&&u.dataItem.categoryX;return"Roedores"==c?G("#00FAF7"):"Insectos"==c?G("#743DCA"):"Sucias"==c?G("#6CEB14"):h});let o=s.columns.template;o.strokeWidth=2,o.strokeOpacity=1,t.cursor=new Ki,this.chart=t}processDataForChart(t,r){if(r)this.processDataForYearlyChart(t);else{let n=0,s=0,o=0;t.forEach(h=>{h.roedor&&n++,h.insectos&&s++,h.sucia&&o++}),this.chartData=[{category:"Roedores",count:n},{category:"Insectos",count:s},{category:"Sucias",count:o}]}}processDataForYearlyChart(t){let r={},n=this.selectedFilter;t.forEach(s=>{s&&s[n]&&(r[s.trampa]||(r[s.trampa]=0),r[s.trampa]++)}),0===Object.keys(r).length&&t.forEach(s=>{r[s.trampa]=0}),this.chartData=Object.keys(r).map(s=>({trampa:parseInt(s),count:r[s]}))}eliminar(t){this.uiService.confirmDeletion().then(r=>{r.isConfirmed&&this.service.delete(t.id).pipe((0,at.R)(this.destroy$)).subscribe(n=>{Zt().fire({title:"Eliminado",text:"Se ha eliminado el registro",icon:"success",confirmButtonText:"Aceptar"}),this.cargarDatos(),this.cd.detectChanges()}),r.isDismissed&&close()})}editar(t){this.uiService.editDialogGomosas(t).then(r=>{r.isConfirmed&&r.value&&(t.roedor=r.value.roedor,t.insectos=r.value.insectos,t.sucia=r.value.sucia,this.service.update(t).pipe((0,at.R)(this.destroy$)).subscribe(n=>{Zt().fire({title:"Actualizado",text:"Se ha actualizado correctamente",icon:"success"})}),this.cd.detectChanges())})}_getBranches(){this.branchService.findByClientId(this.clientId,1,100).pipe((0,at.R)(this.destroy$)).subscribe(t=>{this.branches=t.content,this.cd.detectChanges()}),this.nuevoConteoForm.get("branchOffice")?.valueChanges.pipe((0,at.R)(this.destroy$)).subscribe(t=>{this.cd.detectChanges(),["warehouse"].forEach(n=>{this.nuevoConteoForm.controls[n].enable()}),this._getWarehouses(t.id)})}_getWarehouses(t=null){this.wareHouseService.findByBranchId(t,1,100).pipe((0,at.R)(this.destroy$)).subscribe(r=>{this.warehouse=r.content,this.nuevoConteoForm.controls.warehouse.valueChanges.pipe((0,at.R)(this.destroy$)).subscribe(n=>{["createAt","trampa","roedor","insectos","sucia"].forEach(o=>{this.nuevoConteoForm.controls[o].enable()}),this.cd.detectChanges()}),this.cd.detectChanges()})}manageSessionStorage(){this.clientId=sessionStorage.getItem("clientId"),this.branchId=sessionStorage.getItem("branchId"),sessionStorage.removeItem("reports")}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(om),l.Y36(ci.I),l.Y36(Vi),l.Y36(Xe.F0),l.Y36(l.sBO),l.Y36(qh))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-trampas-gomosas"]],decls:146,vars:26,consts:[[1,"card"],[1,"card-header","border-0","pt-5","pb-5"],[1,"anchor","fw-bold","mb-5"],["id","nuevoConteoForm",3,"formGroup"],[1,"row","p-t-20","col-md-12"],[1,"col-md-5"],["for","clientBranch",1,"form-label"],["formControlName","branchOffice","id","clientBranch",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","warehouse",1,"form-label"],["formControlName","warehouse","id","warehouse",1,"form-select"],[1,"col-md-2","pt-2"],[1,"form-label"],["formControlName","createAt","type","date",1,"form-control"],["formControlName","trampa","type","number",1,"form-control"],["formControlName","roedor",1,"form-select"],[3,"value"],["formControlName","insectos",1,"form-select"],["formControlName","sucia",1,"form-select"],[1,"col-md-2","pt-6"],[1,"btn","btn-success","margin-left",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-save"],["routerLink","/reports",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"card","card-flush"],[1,"card-header","align-items-center","py-5","gap-2","gap-md-5"],[1,"card-title"],[1,"mb-0"],[1,"card-toolbar","flex-row-fluid","justify-content-end","gap-5"],["id","range",3,"formGroup"],[1,"col-md-4"],["formControlName","month","id","month",1,"form-select"],[1,"bold",3,"value"],["formControlName","branch","id","branch",1,"form-select"],["type","submit","value","Buscar",1,"button","btn","btn-outline-success",3,"click"],[1,"table","table-striped","table-rounded","border","border-gray-300","table-row-bordered","table-row-gray-300","gy-7","gs-7"],[1,"fw-semibold","fs-4","text-gray-800"],[4,"ngFor","ngForOf"],["id","graphForm",3,"formGroup",4,"ngIf"],["id","chartdiv",2,"height","400px"],[3,"ngValue"],[1,"btn","btn-icon","btn-bg-light","btn-primary","btn-sm","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-icon","btn-bg-light","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],["id","graphForm",3,"formGroup"],["formControlName","filter",1,"form-select"],["value","roedor"],["value","insectos"],["value","sucia"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),l._uU(3,"Historial de Cambio de Trampas Gomosas"),l.qZA(),l.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),l._uU(8,"Sucursal"),l.qZA(),l.TgZ(9,"select",7)(10,"option"),l._uU(11,"Seleccione Sucursal"),l.qZA(),l.YNc(12,lm,2,2,"option",8),l.qZA()(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Bodega"),l.qZA(),l.TgZ(16,"select",10)(17,"option"),l._uU(18,"Seleccione Bodega/Oficina"),l.qZA(),l.YNc(19,hm,2,2,"option",8),l.qZA()(),l.TgZ(20,"div",11)(21,"label",12),l._uU(22,"Fecha"),l.qZA(),l._UZ(23,"input",13),l.qZA(),l.TgZ(24,"div",11)(25,"label",12),l._uU(26,"Trampa"),l.qZA(),l._UZ(27,"input",14),l.qZA(),l.TgZ(28,"div",11)(29,"label",12),l._uU(30,"Roedores"),l.qZA(),l.TgZ(31,"select",15)(32,"option"),l._uU(33,"Hubo Consumo?"),l.qZA(),l.TgZ(34,"option",16),l._uU(35,"Si"),l.qZA(),l.TgZ(36,"option",16),l._uU(37,"No"),l.qZA()()(),l.TgZ(38,"div",11)(39,"label",12),l._uU(40,"Insectos"),l.qZA(),l.TgZ(41,"select",17)(42,"option"),l._uU(43,"Hay Insectos?"),l.qZA(),l.TgZ(44,"option",16),l._uU(45,"Si"),l.qZA(),l.TgZ(46,"option",16),l._uU(47,"No"),l.qZA()()(),l.TgZ(48,"div",11)(49,"label",12),l._uU(50,"Sucia"),l.qZA(),l.TgZ(51,"select",18)(52,"option"),l._uU(53,"Est\xe1 sucia?"),l.qZA(),l.TgZ(54,"option",16),l._uU(55,"Si"),l.qZA(),l.TgZ(56,"option",16),l._uU(57,"No"),l.qZA()()(),l.TgZ(58,"div",19)(59,"button",20),l.NdJ("click",function(){return r.save()}),l._UZ(60,"i",21),l._uU(61," Guardar "),l.qZA()(),l.TgZ(62,"div",19)(63,"button",22),l._UZ(64,"i",23),l._uU(65," Volver "),l.qZA()()()()()(),l.TgZ(66,"div",24)(67,"div",25)(68,"div",26)(69,"div",27)(70,"div",28)(71,"h3",29),l._uU(72,"Registro"),l.qZA()(),l.TgZ(73,"div",30)(74,"form",31)(75,"div",4)(76,"div",32)(77,"label",12),l._uU(78,"Mes"),l.qZA(),l.TgZ(79,"select",33)(80,"option"),l._uU(81,"Seleccione Mes"),l.qZA(),l.TgZ(82,"option",34),l._uU(83,"Todos"),l.qZA(),l.TgZ(84,"option",16),l._uU(85,"Enero"),l.qZA(),l.TgZ(86,"option",16),l._uU(87,"Febrero"),l.qZA(),l.TgZ(88,"option",16),l._uU(89,"Marzo"),l.qZA(),l.TgZ(90,"option",16),l._uU(91,"Abril"),l.qZA(),l.TgZ(92,"option",16),l._uU(93,"Mayo"),l.qZA(),l.TgZ(94,"option",16),l._uU(95,"Junio"),l.qZA(),l.TgZ(96,"option",16),l._uU(97,"Julio"),l.qZA(),l.TgZ(98,"option",16),l._uU(99,"Agosto"),l.qZA(),l.TgZ(100,"option",16),l._uU(101,"Setiembre"),l.qZA(),l.TgZ(102,"option",16),l._uU(103,"Octubre"),l.qZA(),l.TgZ(104,"option",16),l._uU(105,"Noviembre"),l.qZA(),l.TgZ(106,"option",16),l._uU(107,"Diciembre"),l.qZA()()(),l.TgZ(108,"div",32)(109,"label",12),l._uU(110,"Seleccione Sucursal"),l.qZA(),l.TgZ(111,"select",35)(112,"option"),l._uU(113,"Seleccione Sucursal"),l.qZA(),l.YNc(114,um,2,2,"option",8),l.qZA()(),l.TgZ(115,"div",32),l._UZ(116,"br"),l.TgZ(117,"input",36),l.NdJ("click",function(){return r.cargarDatos()}),l.qZA()()()()()(),l.TgZ(118,"table",37)(119,"thead")(120,"tr",38)(121,"th"),l._uU(122,"Trampa"),l.qZA(),l.TgZ(123,"th"),l._uU(124,"Bodega"),l.qZA(),l.TgZ(125,"th"),l._uU(126,"Fecha"),l.qZA(),l.TgZ(127,"th"),l._uU(128,"Roedor"),l.qZA(),l.TgZ(129,"th"),l._uU(130,"Insectos"),l.qZA(),l.TgZ(131,"th"),l._uU(132,"Sucia"),l.qZA(),l.TgZ(133,"th"),l._uU(134,"Acciones"),l.qZA()()(),l.TgZ(135,"tbody"),l.YNc(136,cm,19,9,"tr",39),l.qZA()()()()(),l.TgZ(137,"div",24)(138,"div",26)(139,"div",27)(140,"div",28)(141,"h3",29),l._uU(142,"Grafico consumo total"),l.qZA()(),l.TgZ(143,"div",30),l.YNc(144,dm,10,1,"form",40),l.qZA()(),l._UZ(145,"div",41),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.nuevoConteoForm),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(7),l.Q6J("ngForOf",r.warehouse),l.xp6(15),l.Q6J("value",!0),l.xp6(2),l.Q6J("value",!1),l.xp6(8),l.Q6J("value",!0),l.xp6(2),l.Q6J("value",!1),l.xp6(8),l.Q6J("value",!0),l.xp6(2),l.Q6J("value",!1),l.xp6(18),l.Q6J("formGroup",r.form),l.xp6(8),l.Q6J("value",0),l.xp6(2),l.Q6J("value",1),l.xp6(2),l.Q6J("value",2),l.xp6(2),l.Q6J("value",3),l.xp6(2),l.Q6J("value",4),l.xp6(2),l.Q6J("value",5),l.xp6(2),l.Q6J("value",6),l.xp6(2),l.Q6J("value",7),l.xp6(2),l.Q6J("value",8),l.xp6(2),l.Q6J("value",9),l.xp6(2),l.Q6J("value",10),l.xp6(2),l.Q6J("value",11),l.xp6(2),l.Q6J("value",12),l.xp6(8),l.Q6J("ngForOf",r.branches),l.xp6(22),l.Q6J("ngForOf",r.reports),l.xp6(8),l.Q6J("ngIf",r.yearly))},dependencies:[lt.sg,lt.O5,Xe.rH,V._Y,V.YN,V.Kr,V.Fj,V.wV,V.EJ,V.JJ,V.JL,V.sg,V.u,lt.uU]}),i})(),fm=(()=>{var a;class i{constructor(t,r,n,s){this.http=t,this.authService=r,this.router=n,this.variables=s}getDetailedReport(t,r){const n=`/cebaderos/detailedReport/branch/${t}/year/${r}`;return this.http.get(this.variables.getServicingEndpoint()+n,{headers:this.variables.getAuthHeader()}).pipe((0,le.K)(s=>(this.variables.notAllowed(s),(0,oe._)(s))))}}return(a=i).\u0275fac=function(t){return new(t||a)(l.LFG(Jt.eN),l.LFG(hi.U),l.LFG(Xe.F0),l.LFG(Qt.E))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})(),gm=(()=>{var a;class i{constructor(t,r,n,s,o,h){this.service=t,this.branchService=r,this.wareHouseService=n,this.router=s,this.cd=o,this.uiService=h,this.functions=new ui}ngOnInit(){this.manageSessionStorage(),this.cargarDatos()}ngOnDestroy(){}ngAfterViewInit(){}cargarDatos(){this.service.getDetailedReport(15,this.functions.anioActual()).subscribe(t=>{console.log(t)})}manageSessionStorage(){this.clientId=sessionStorage.getItem("clientId"),this.branchId=sessionStorage.getItem("branchId"),sessionStorage.removeItem("reports")}}return(a=i).\u0275fac=function(t){return new(t||a)(l.Y36(fm),l.Y36(ci.I),l.Y36(Vi),l.Y36(Xe.F0),l.Y36(l.sBO),l.Y36(qh))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-historial-capturas-trampas"]],viewQuery:function(t,r){if(1&t&&l.Gf(Oi,5),2&t){let n;l.iGM(n=l.CRH())&&(r.sort=n.first)}},decls:0,vars:0,template:function(t,r){}}),i})(),mm=(()=>{var a;class i{}return(a=i).\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({imports:[lt.ez,Xe.Bz.forChild([{path:"",component:ru},{path:"incidencias-plaga-mensual",component:sc},{path:"info-plagas",component:jc},{path:"puntos-mejora",component:Uc},{path:"lamparas-capturas-mes",component:Fo,children:[{path:"chart",component:Xh}]},{path:"historial-capturas-lamparas",component:sm,children:[]},{path:"trampas-gomosas",component:pm},{path:"historial-capturas-trampas",component:gm}]),po.HB,Qh.q,$h.TU,co.vi,po.QX,Jh.IJ,V.u5,V.UX,Jr.lN,kc,Ze.XK,du,Ru,Mc.LD,Ao]}),i})();l.B6R(Fo,function(){return[lt.sg,Xe.rH,V._Y,V.YN,V.Kr,V.Fj,V.wV,V.EJ,V.JJ,V.JL,V.sg,V.u,Xh]},function(){return[lt.uU]})}}]);